(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{167:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return y}));var r,a=n(20),i=n(2),o=n.n(i),c=n(23),s=n(8),u=n(21),l=n(42),d=n(9),b=n(35),h=new u.e.PublicKey("GUes4PH9UcoMuhATVaT1FH5QAQja1uHep8YnPE1oxPSY");!function(e){e.Brewing="Brewing",e.Finished="Finished",e.PastDue="Past Due"}(r||(r={}));var p=function(){var e=Object(s.a)(o.a.mark((function e(t,n,r){var a,i,s,l,d,b,p,f,m,j,y,x,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new u.c(r,t,{preflightCommitment:"recent"}),e.next=3,u.b.fetchIdl(h,a);case 3:return i=e.sent,s=new u.b(i,h,a),e.next=7,s.account.fairLaunch.fetch(n);case 7:return l=e.sent,e.next=10,g(l.tokenMint,t.publicKey);case 10:return d=e.sent,b=Object(c.a)(d,2),p=b[0],f=b[1],e.prev=14,e.next=17,s.account.fairLaunchTicket.fetch(p);case 17:m=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.log("No ticket");case 23:return e.next=25,s.provider.connection.getBalance(l.treasury);case 25:return j=e.sent,y=new Uint8Array([]),e.next=29,v(l.tokenMint);case 29:return x=e.sent[0],e.prev=30,e.next=33,s.provider.connection.getAccountInfo(x);case 33:O=e.sent,y=new Uint8Array((null===O||void 0===O?void 0:O.data)||[]),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(30),console.log("Could not find fair launch lottery."),console.log(e.t1);case 41:return e.abrupt("return",{id:n,state:l,program:s,ticket:{pubkey:p,bump:f,data:m},lottery:{pubkey:x,data:y},treasury:j});case 42:case"end":return e.stop()}}),e,null,[[14,20],[30,37]])})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,i,c,s,d,h,p,f,j,y;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n.state.tokenMint,t.publicKey);case 2:return r=e.sent[0],i=n.ticket.data,e.next=6,v(n.state.tokenMint);case 6:return c=e.sent[0],e.next=9,Object(b.d)(n.state.tokenMint,t.publicKey);case 9:if(s=e.sent[0],!(null===i||void 0===i?void 0:i.amount.gt(n.state.currentMedian))){e.next=20;break}return console.log("Adjusting down...",null===i||void 0===i?void 0:i.amount.toNumber(),n.state.currentMedian.toNumber()),e.next=14,m(n.program,n.state.currentMedian.toNumber(),t,n,r);case 14:return d=e.sent,h=d.remainingAccounts,p=d.instructions,f=d.signers,e.next=20,n.program.rpc.adjustTicket(n.state.currentMedian,{accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:c,treasury:n.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},instructions:p.length>0?p:void 0,remainingAccounts:[{pubkey:t.publicKey,isSigner:!0,isWritable:!0}].concat(Object(a.a)(h)),signers:f});case 20:return e.next=22,n.program.provider.connection.getAccountInfo(s);case 22:return j=e.sent,y=j?[]:[Object(b.b)(s,t.publicKey,t.publicKey,n.state.tokenMint)],e.next=26,n.program.rpc.punchTicket({accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:c,payer:t.publicKey,buyerTokenAccount:s,tokenMint:n.state.tokenMint,tokenProgram:l.b},instructions:y.length>0?y:void 0});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var t=Object(s.a)(o.a.mark((function t(n,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toBuffer()],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),e.from("lottery")],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(o.a.mark((function e(t,n,r,a,i){var s,h,p,f,g,v,m,j,y,x,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",{remainingAccounts:[],instructions:[],signers:[],amountLamports:0});case 2:if(s=a.ticket,h=[],p=[],f=[],g=0,a.state.treasuryMint){e.next=11;break}g=s||0!==n?Math.ceil(n*d.LAMPORTS_PER_SOL):a.state.data.priceRangeStart.toNumber(),e.next=23;break;case 11:return v=u.e.Keypair.generate(),f.push(v),p.push(l.c.createApproveInstruction(l.b,a.state.treasuryMint,v.publicKey,r.publicKey,[],amountNumber+a.state.data.fees.toNumber())),h.push({pubkey:a.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=h,e.next=18,Object(b.d)(a.state.treasuryMint,r.publicKey);case 18:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2),h.push({pubkey:v.publicKey,isWritable:!1,isSigner:!0}),h.push({pubkey:l.b,isWritable:!1,isSigner:!1});case 23:if(!s.data){e.next=39;break}return e.next=26,Object(b.e)(a.state.tokenMint,null===(m=s.data)||void 0===m?void 0:m.seq);case 26:return j=e.sent,y=Object(c.a)(j,2),x=y[0],O=y[1],e.next=32,t.provider.connection.getAccountInfo(x);case 32:if(e.sent){e.next=39;break}return e.t3=p,e.next=37,t.instruction.createTicketSeq(O,{accounts:{fairLaunchTicketSeqLookup:x,fairLaunch:a.id,fairLaunchTicket:i,payer:r.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY},signers:[]});case 37:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 39:return e.abrupt("return",{remainingAccounts:h,instructions:p,signers:f,amountLamports:g});case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.d)(n.state.tokenMint,t.publicKey);case 4:if(r=e.sent[0],a=u.e.Keypair.generate(),i=[a],c=[l.c.createApproveInstruction(l.b,r,a.publicKey,t.publicKey,[],1)],s=[],!n.state.treasuryMint){e.next=17;break}return s.push({pubkey:n.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=s,e.next=14,Object(b.d)(n.state.treasuryMint,t.publicKey);case 14:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2);case 17:return console.log("tfr",n.state.treasury.toBase58(),t.publicKey.toBase58(),r.toBase58()),e.next=20,n.program.rpc.receiveRefund({accounts:{fairLaunch:n.id,treasury:n.state.treasury,buyer:t.publicKey,buyerTokenAccount:r,transferAuthority:a.publicKey,tokenMint:n.state.tokenMint,tokenProgram:l.b,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:s,instructions:c,signers:i});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=(new u.e.PublicKey("HHefcoa9GbgRSPAJE9LEZqgQUXcxprbs9JGUwotTKzw4"),new u.e.PublicKey("FTgqqzjgQ1tVBY7Qc3r8GBtjhoKWCnUFY75Kkgexm9Ur"),new u.e.PublicKey("GEyFiqaPuSQsRWKwEMbN6ANHmDsoMMTpsfFaRDsp4qBR"),new u.e.PublicKey("DDJokMbW5WZ1jWt5c4cCX3JAcfUmMKuvQe6PHjip81kh"),function(){var e=Object(s.a)(o.a.mark((function e(t,n,r){var a,i,s,l,d,b,h,p,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return r.ticket.data,e.next=5,g(r.state.tokenMint,n.publicKey);case 5:return a=e.sent,i=Object(c.a)(a,2),s=i[0],l=i[1],e.next=11,m(r.program,t,n,r,s);case 11:return d=e.sent,b=d.remainingAccounts,h=d.instructions,p=d.signers,f=d.amountLamports,e.prev=16,console.log("Amount",f),e.next=20,r.program.rpc.purchaseTicket(l,new u.a(f),{accounts:{authority:r.state.authority,dev:r.state.dev,tokenMint:r.state.tokenMint,fairLaunch:r.id,treasury:r.state.treasury,buyer:n.publicKey,payer:n.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY,clock:u.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:b,signers:p,instructions:h.length>0?h:void 0});case 20:e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(16),console.log(e.t0),e.t0;case 26:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t,n,r){return e.apply(this,arguments)}}())}).call(this,n(14).Buffer)},222:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n(2),a=n.n(r),i=n(8),o=n(21),c=n(42),s=n(9),u=n(478),l=n(35),d=new o.e.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),b=new o.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),h=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var o,c,s,u,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",o=l.length>4&&void 0!==l[4]&&l[4],c=!1,s={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(i.a)(a.a.mark((function e(u,l){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){c||(c=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(c||!o){e.next=7;break}return Object(i.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,s=n&&n.value[0],c||(s?s.err?(console.log("REST error for",t,s),c=!0,l(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),c=!0,u(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,j(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return s=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),c=!0,console.log("Returning status",s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:o.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.e.TransactionInstruction({keys:i,programId:l.a,data:e.from([])})},f=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var i,c,s,u,l,b,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new o.c(r,t,{preflightCommitment:"recent"}),e.next=3,o.b.fetchIdl(d,i);case 3:return c=e.sent,s=new o.b(c,d,i),e.next=7,s.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),b=u.itemsRedeemed.toNumber(),h=l-b,e.abrupt("return",{id:n,program:s,state:{itemsAvailable:l,itemsRedeemed:b,itemsRemaining:h,isSoldOut:0===h,isActive:u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,config:u.config,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer(),e.from("edition")],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i,d,h,f,m,j,y,x,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.e.Keypair.generate(),e.next=3,Object(l.d)(r.publicKey,n);case 3:return i=e.sent[0],e.next=6,Object(l.d)(t.state.tokenMint,n);case 6:return d=e.sent[0],h=t.id,f=[],m=[r],e.t0=o.e.SystemProgram,e.t1=n,e.t2=r.publicKey,e.t3=c.a.span,e.next=16,t.program.provider.connection.getMinimumBalanceForRentExemption(c.a.span);case 16:return e.t4=e.sent,e.t5=c.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=c.c.createInitMintInstruction(c.b,r.publicKey,0,n,n),e.t9=p(i,n,n,r.publicKey),e.t10=c.c.createMintToInstruction(c.b,r.publicKey,i,n,[],1),j=[e.t7,e.t8,e.t9,e.t10],t.state.tokenMint&&(y=o.e.Keypair.generate(),m.push(y),f.push({pubkey:d,isWritable:!0,isSigner:!1}),f.push({pubkey:y.publicKey,isWritable:!1,isSigner:!0}),j.push(c.c.createApproveInstruction(c.b,d,y.publicKey,n,[],t.state.price.toNumber()))),e.next=27,v(r.publicKey);case 27:return x=e.sent,e.next=30,g(r.publicKey);case 30:return O=e.sent,e.t11=j,e.next=34,t.program.instruction.mintNft({accounts:{config:t.state.config,candyMachine:h,payer:n,wallet:t.state.treasury,mint:r.publicKey,metadata:x,masterEdition:O,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:b,tokenProgram:c.b,systemProgram:s.SystemProgram.programId,rent:o.e.SYSVAR_RENT_PUBKEY,clock:o.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:f.length>0?f:void 0});case 34:return e.t12=e.sent,e.t11.push.call(e.t11,e.t12),e.prev=37,e.next=40,Object(u.a)(t.program.provider.connection,t.program.provider.wallet,j,m);case 40:return e.abrupt("return",e.sent.txid);case 43:e.prev=43,e.t13=e.catch(37),console.log(e.t13);case 46:return e.abrupt("return","j");case 47:case"end":return e.stop()}}),e,null,[[37,43]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(14).Buffer)},35:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g}));var r=n(2),a=n.n(r),i=n(8),o=n(21),c=n(42),s=n(9),u=new o.e.PublicKey("GUes4PH9UcoMuhATVaT1FH5QAQja1uHep8YnPE1oxPSY"),l=function(e){if(e)return new Date(1e3*e.toNumber())},d=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),b={format:function(e){return e?d.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/s.LAMPORTS_PER_SOL}},h=new o.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),p=function(){var t=Object(i.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toArrayLike(e,"le",8)],u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e.PublicKey.findProgramAddress([n.toBuffer(),c.b.toBuffer(),t.toBuffer()],h);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function g(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:i,programId:h,data:e.from([])})}}).call(this,n(14).Buffer)},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(20),i=n(2),o=n.n(i),c=n(8),s=n(9),u=n(53);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var l=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,i){var c,l,d,b,p,f,g,v,m,j,y,x=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=x.length>4&&void 0!==x[4]?x[4]:"singleGossip",l=x.length>5&&void 0!==x[5]&&x[5],d=x.length>6?x[6]:void 0,b=x.length>7?x[7]:void 0,n.publicKey){e.next=6;break}throw new u.WalletNotConnectedError;case 6:if(p=new s.Transaction,r.forEach((function(e){return p.add(e)})),e.t0=d,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(c);case 12:e.t0=e.sent;case 13:if(p.recentBlockhash=e.t0.blockhash,l?(f=p).setSigners.apply(f,Object(a.a)(i.map((function(e){return e.publicKey})))):(g=p).setSigners.apply(g,[n.publicKey].concat(Object(a.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(v=p).partialSign.apply(v,Object(a.a)(i)),l){e.next=20;break}return e.next=19,n.signTransaction(p);case 19:p=e.sent;case 20:return b&&b(),e.next=23,h({connection:t,signedTransaction:p});case 23:return m=e.sent,j=m.txid,y=m.slot,e.abrupt("return",{txid:j,slot:y});case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},b=15e3;function h(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark((function e(t){var n,r,a,i,s,u,l,h,p,g,m,y,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,i=void 0===a?b:a,s=n.serialize(),u=d(),l=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return h=e.sent,console.log("Started awaiting confirmation for",h),p=!1,Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||!(d()-u<i)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,j(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,v(h,i,r,"recent",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!g.err){e.next=19;break}throw console.error(g.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===g||void 0===g?void 0:g.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return m=null,e.prev=28,e.next=31,f(r,n,"single");case 31:m=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!m||!m.err){e.next=47;break}if(!m.logs){e.next=46;break}y=m.logs.length-1;case 39:if(!(y>=0)){e.next=46;break}if(!(x=m.logs[y]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+x.slice("Program log: ".length));case 43:--y,e.next=39;break;case 46:throw new Error(JSON.stringify(m.err));case 47:return e.prev=47,p=!0,e.finish(47);case 50:return console.log("Latency",h,d()-u),e.abrupt("return",{txid:h,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function f(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(o.a.mark((function e(t,n,r){var a,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),c=i.toString("base64"),s=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(c.a)(o.a.mark((function e(t,n,r){var a,i,s,u,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(c.a)(o.a.mark((function e(d,b){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(h){s=!0,console.error("WS error in setup",t,h)}case 2:if(s||!i){e.next=8;break}return Object(c.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}},504:function(e,t,n){},505:function(e,t,n){},510:function(e,t){},512:function(e,t){},528:function(e,t){},529:function(e,t){},637:function(e,t){},639:function(e,t){},653:function(e,t){},657:function(e,t){},659:function(e,t){},670:function(e,t){},672:function(e,t){},699:function(e,t){},701:function(e,t){},706:function(e,t){},708:function(e,t){},715:function(e,t){},727:function(e,t){},730:function(e,t){},742:function(e,t){},743:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c=n(0),s=n.n(c),u=n(31),l=n.n(u),d=(n(504),n(505),n(25)),b=n(2),h=n.n(b),p=n(8),f=n(23),g=n(220),v=n(107),m=n(775),j=n(764),y=n(763),x=n(771),O=n(761),k=n(772),w=n(762),S=n(488),P=n(491),T=n(770),A=n(472),E=n(164),R=n(379),M=n(10),K=Object(R.a)((function(e){return Object(A.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),L=function(e){var t=e.date,n=e.status,r=e.style,a=e.start,i=e.end,o=e.onComplete,s=K(),u=Object(c.useState)(!!(a&&i&&t)&&a.getTime()-Date.now()<0),l=Object(f.a)(u,2),d=l[0],b=(l[1],function(e){var t=e.days,a=e.hours,i=e.minutes,o=e.seconds;return a+=24*t,e.completed?n?Object(M.jsx)("span",{className:s.done,children:n}):null:Object(M.jsxs)("div",{className:s.root,style:r,children:[d&&Object(M.jsx)(S.a,{elevation:0,children:Object(M.jsx)("span",{className:s.item,children:"+"})}),Object(M.jsxs)(S.a,{elevation:0,children:[Object(M.jsx)("span",{className:s.item,children:a<10?"0".concat(a):a}),Object(M.jsx)("span",{children:"hrs"})]}),Object(M.jsxs)(S.a,{elevation:0,children:[Object(M.jsx)("span",{className:s.item,children:i<10?"0".concat(i):i}),Object(M.jsx)("span",{children:"mins"})]}),Object(M.jsxs)(S.a,{elevation:0,children:[Object(M.jsx)("span",{className:s.item,children:o<10?"0".concat(o):o}),Object(M.jsx)("span",{children:"secs"})]})]})});return t&&a&&i&&d&&E.a,t?Object(M.jsx)(E.a,{date:t,onComplete:o,renderer:b}):null},C=n(765),_=n(769),N=n(768),D=n(293),B=n.n(D),W=n(773),I=n(9),F=n(92),U=n(208),H=n(222),Y=n(167),q=n(35),z=Object(v.a)(U.WalletDialogButton)(r||(r=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 2px;\n  margin-bottom: 1px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),V=v.a.div(a||(a=Object(g.a)([""]))),G=Object(v.a)(w.a)(i||(i=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 2px;\n  margin-bottom: 1px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),Q=function(e){return Object(A.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})},J=Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}}),Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}}),Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});!function(e){e[e.Phase0=0]="Phase0",e[e.Phase1=1]="Phase1",e[e.Phase2=2]="Phase2",e[e.Lottery=3]="Lottery",e[e.Phase3=4]="Phase3",e[e.Phase4=5]="Phase4",e[e.Unknown=6]="Unknown"}(o||(o={}));var Z=function(e){var t=e.phaseName,n=e.desc,r=e.date,a=e.status;return Object(M.jsxs)(T.a,{container:!0,justifyContent:"center",children:[Object(M.jsxs)(T.a,{xs:6,justifyContent:"center",direction:"column",children:[Object(M.jsx)(P.a,{variant:"h5",style:{fontWeight:600},children:t}),Object(M.jsx)(P.a,{variant:"body1",color:"textSecondary",children:n})]}),Object(M.jsx)(T.a,{xs:6,container:!0,justifyContent:"flex-end",children:Object(M.jsx)(L,{date:Object(q.f)(r),style:{justifyContent:"flex-end"},status:a||"Any bid you set will be reset to 0, and you only pay network fees."})})]})};var X=function(e,t){var n,r,a;if(t>0)return!0;if(!(null===e||void 0===e?void 0:e.lottery.data)||!(null===e||void 0===e?void 0:e.lottery.data.length)||!(null===e||void 0===e||null===(n=e.ticket.data)||void 0===n?void 0:n.seq)||!(null===e||void 0===e?void 0:e.state.phaseThreeStarted))return!1;var i=e.lottery.data[49+Math.floor((null===(r=e.ticket.data)||void 0===r?void 0:r.seq.toNumber())/8)],o=7-(null===(a=e.ticket.data)||void 0===a?void 0:a.seq.toNumber())%8,c=i&Math.pow(2,o);return c>0},$=function(e){var t,n,r,a,i,s,u,l,b,g,v,m,w,A,R,K,L,D,U,$,ee,te,ne,re,ae,ie,oe,ce,se,ue=Object(c.useState)(0),le=Object(f.a)(ue,2),de=le[0],be=le[1],he=Object(c.useState)(null),pe=Object(f.a)(he,2),fe=(pe[0],pe[1]),ge=Object(c.useState)(!1),ve=Object(f.a)(ge,2),me=ve[0],je=ve[1],ye=Object(c.useState)(0),xe=Object(f.a)(ye,2),Oe=xe[0],ke=xe[1],we=Object(c.useState)(0),Se=Object(f.a)(we,2),Pe=(Se[0],Se[1],Object(c.useState)(0)),Te=Object(f.a)(Pe,2),Ae=(Te[0],Te[1],Object(c.useState)(0)),Ee=Object(f.a)(Ae,2),Re=(Ee[0],Ee[1],Object(F.useWallet)()),Me=Object(c.useMemo)((function(){if(Re&&Re.publicKey&&Re.signAllTransactions&&Re.signTransaction)return{publicKey:Re.publicKey,signAllTransactions:Re.signAllTransactions,signTransaction:Re.signTransaction}}),[Re]),Ke=Object(c.useState)({open:!1,message:"",severity:void 0}),Le=Object(f.a)(Ke,2),Ce=Le[0],_e=Le[1],Ne=Object(c.useState)(),De=Object(f.a)(Ne,2),Be=De[0],We=De[1],Ie=Object(c.useState)(),Fe=Object(f.a)(Ie,2),Ue=Fe[0],He=Fe[1],Ye=Object(c.useState)(!1),qe=Object(f.a)(Ye,2),ze=qe[0],Ve=qe[1],Ge=Object(c.useState)(!1),Qe=Object(f.a)(Ge,2),Je=Qe[0],Ze=Qe[1],Xe=Object(c.useState)(!1),$e=Object(f.a)(Xe,2),et=$e[0],tt=$e[1],nt=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,je(!0),!(Re.connected&&(null===Ue||void 0===Ue?void 0:Ue.program)&&Re.publicKey)){t.next=13;break}if(!(null===Be||void 0===Be||null===(n=Be.ticket.data)||void 0===n?void 0:n.state.unpunched)||!X(Be,de)){t.next=6;break}return t.next=6,bt();case 6:return t.next=8,Object(H.c)(Ue,Re.publicKey);case 8:return r=t.sent,t.next=11,Object(H.a)(r,e.txTimeout,e.connection,"singleGossip",!1);case 11:(null===(a=t.sent)||void 0===a?void 0:a.err)?_e({open:!0,message:"Mint failed! Please try again!",severity:"error"}):_e({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"});case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),i=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(i="SOLD OUT!",window.location.reload()):312===t.t0.code&&(i="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?i="SOLD OUT!":t.t0.message.indexOf("0x135")&&(i="Insufficient funds to mint. Please fund your wallet.")):i="Transaction Timeout! Please try again.",_e({open:!0,message:i,severity:"error"});case 20:return t.prev=20,je(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,15,20,23]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(p.a)(h.a.mark((function t(){var n,r,a,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Me){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.connection.getBalance(Me.publicKey);case 5:return n=t.sent,fe(n),t.next=9,Object(Y.a)(Me,e.fairLaunchId,e.connection);case 9:if(r=t.sent,We(r),t.prev=11,!r.state.tokenMint){t.next=21;break}return t.t0=e.connection,t.next=16,Object(q.d)(r.state.tokenMint,Me.publicKey);case 16:return t.t1=t.sent[0],t.next=19,t.t0.getTokenAccountBalance.call(t.t0,t.t1);case 19:(a=t.sent).value&&be(a.value.uiAmount||0);case 21:t.next=27;break;case 23:t.prev=23,t.t2=t.catch(11),console.log("Problem getting fair launch token balance"),console.log(t.t2);case 27:t.next=33;break;case 29:t.prev=29,t.t3=t.catch(2),console.log("Problem getting fair launch state"),console.log(t.t3);case 33:if(!e.candyMachineId){t.next=47;break}return t.prev=34,t.next=37,Object(H.b)(Me,e.candyMachineId,e.connection);case 37:i=t.sent,He(i),t.next=45;break;case 41:t.prev=41,t.t4=t.catch(34),console.log("Problem getting candy machine state"),console.log(t.t4);case 45:t.next=48;break;case 47:console.log("No candy machine detected in configuration.");case 48:case"end":return t.stop()}}),t,null,[[2,29],[11,23],[34,41]])})))()}),[Me,e.candyMachineId,e.connection,e.fairLaunchId]);null===(t=Object(q.f)(null===Be||void 0===Be?void 0:Be.state.data.phaseOneEnd))||void 0===t||t.getTime();var rt=q.c.asNumber(null===Be||void 0===Be?void 0:Be.state.data.priceRangeStart),at=q.c.asNumber(null===Be||void 0===Be?void 0:Be.state.data.fee),it=q.c.asNumber(null===Be||void 0===Be?void 0:Be.state.data.priceRangeEnd),ot=q.c.asNumber(null===Be||void 0===Be?void 0:Be.state.data.tickSize),ct=q.c.asNumber(null===Be||void 0===Be?void 0:Be.state.currentMedian);void 0!=(null===Be||void 0===Be?void 0:Be.state.currentHighest)&&q.c.asNumber(null===Be||void 0===Be?void 0:Be.state.currentHighest);var st=[{value:rt||0,label:"".concat(rt," SOL")},{value:it||0,label:"".concat(it," SOL")}].filter((function(e){return void 0!==e&&0!==e.value})),ut=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me){e.next=2;break}return e.abrupt("return");case 2:return console.log("deposit"),je(!0),e.prev=4,e.next=7,Object(Y.c)(Oe,Me,Be);case 7:je(!1),_e({open:!0,message:"Congratulations! Bid ".concat((null===Be||void 0===Be?void 0:Be.ticket.data)?"updated":"inserted","!"),severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),je(!1),_e({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,je(!0),e.next=7,Object(Y.d)(Me,Be);case 7:je(!1),_e({open:!0,message:"Congratulations! You have received a refund. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),je(!1),_e({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Me&&Be&&Be.ticket){e.next=2;break}return e.abrupt("return");case 2:return console.log("punch"),je(!0),e.prev=4,e.next=7,Object(Y.b)(Me,Be);case 7:je(!1),_e({open:!0,message:"Congratulations! Ticket punched!",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),je(!1),_e({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),ht=function(e,t){var n,r,a,i;return(new Date).getTime(),null===(n=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseOneStart))||void 0===n||n.getTime(),null===(r=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseOneEnd))||void 0===r||r.getTime(),null===(a=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseTwoEnd))||void 0===a||a.getTime(),null===(i=Object(q.f)(null===t||void 0===t?void 0:t.state.goLiveDate))||void 0===i||i.getTime(),o.Phase1}(Be,Ue),pt=(null===Ue||void 0===Ue?void 0:Ue.state.goLiveDate)&&(null===Be||void 0===Be?void 0:Be.state.data.phaseTwoEnd)&&(null===Ue||void 0===Ue?void 0:Ue.state.goLiveDate.lt(null===Be||void 0===Be?void 0:Be.state.data.phaseTwoEnd));return Object(M.jsxs)(j.a,{style:{marginTop:0},children:[Object(M.jsxs)("div",{children:["Hi we're on devnet :) Any soul to send stacc.sol 5 SOLs so I can pooblish mainnet gets their share of 50% of dev revenues. Offer stands for UI and marketing collabs, too :) ",at," SOL flat per bid and 10% of the bid."]}),Object(M.jsx)(j.a,{maxWidth:"xs",style:{position:"relative"},children:Object(M.jsx)(S.a,{style:{padding:24,backgroundColor:"#151A1F",borderRadius:6},children:Object(M.jsxs)(T.a,{container:!0,justifyContent:"center",direction:"column",children:[ht===o.Phase0&&Object(M.jsx)(Z,{phaseName:"Phase 0",desc:"Anticipation Phase",date:null===Be||void 0===Be?void 0:Be.state.data.phaseOneStart}),ht===o.Phase1&&Object(M.jsxs)("div",{children:[Object(M.jsx)(Z,{phaseName:"This is NOT FLP!",desc:"Btw you need to move your slider to bid. You may lose all your $. Risk only what you can afford to lose.",date:null===Be||void 0===Be?void 0:Be.state.data.phaseOneEnd}),Object(M.jsxs)(P.a,{variant:"h5",style:{fontWeight:900},children:[(null===Be||void 0===Be?void 0:Be.state.authority.toBase58().slice(0,3))+"..."+(null===Be||void 0===Be?void 0:Be.state.authority.toBase58().slice((null===Be||void 0===Be?void 0:Be.state.authority.toBase58().length)-3,null===Be||void 0===Be?void 0:Be.state.authority.toBase58().length))," ","is Going to Win 1st Prize of \u25ce","",q.c.format((null===Be||void 0===Be?void 0:Be.treasury)/I.LAMPORTS_PER_SOL),"! If nobody outbids 'em _soon_",q.c.format((null===Be||void 0===Be?void 0:Be.state.current_highest)/I.LAMPORTS_PER_SOL),"! This be the current winning bid."]})]}),ht===o.Phase2&&Object(M.jsx)(Z,{phaseName:"Hey press the mint $",desc:"It'll pay the winner, you pay sol fees, then restart this game:)",date:null===Be||void 0===Be?void 0:Be.state.data.phaseTwoEnd}),ht===o.Lottery&&Object(M.jsx)(Z,{phaseName:"Phase 3",desc:"Raffle in progress",date:null===Be||void 0===Be?void 0:Be.state.data.phaseTwoEnd.add(null===Be||void 0===Be?void 0:Be.state.data.lotteryDuration)}),ht===o.Phase3&&!Ue&&Object(M.jsx)(Z,{phaseName:"Phase 3",desc:"Raffle finished!",date:null===Be||void 0===Be?void 0:Be.state.data.phaseTwoEnd}),ht===o.Phase3&&Ue&&Object(M.jsx)(Z,{phaseName:"Phase 3",desc:"Minting starts in...",date:null===Ue||void 0===Ue?void 0:Ue.state.goLiveDate}),ht===o.Phase4&&Object(M.jsx)(Z,{phaseName:pt?"Phase 3":"Phase 4",desc:"Candy Time \ud83c\udf6c \ud83c\udf6c \ud83c\udf6c",date:null===Ue||void 0===Ue?void 0:Ue.state.goLiveDate,status:"LIVE"}),Be&&Object(M.jsxs)(M.Fragment,{children:[[o.Phase1,o.Phase2,o.Phase3,o.Lottery].includes(ht)&&(null===Be||void 0===Be||null===(n=Be.ticket)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.state.withdrawn)&&Object(M.jsx)("div",{style:{paddingTop:"15px"},children:Object(M.jsx)(W.a,{severity:"error",children:"Your bid was withdrawn and cannot be adjusted or re-inserted."})}),[o.Phase1,o.Phase2].includes(ht)&&Be.state.currentMedian&&(null===Be||void 0===Be||null===(a=Be.ticket)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.amount)&&!(null===Be||void 0===Be||null===(s=Be.ticket)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.state.withdrawn)&&Be.state.currentMedian.gt(null===Be||void 0===Be||null===(l=Be.ticket)||void 0===l||null===(b=l.data)||void 0===b?void 0:b.amount)&&Object(M.jsx)("div",{style:{paddingTop:"15px"},children:Object(M.jsx)(W.a,{severity:"warning",children:"Your bid is currently below the median and will not be eligible for the raffle."})}),[o.Phase3,o.Lottery].includes(ht)&&Be.state.currentMedian&&(null===Be||void 0===Be||null===(g=Be.ticket)||void 0===g||null===(v=g.data)||void 0===v?void 0:v.amount)&&!(null===Be||void 0===Be||null===(m=Be.ticket)||void 0===m||null===(w=m.data)||void 0===w?void 0:w.state.withdrawn)&&Be.state.currentMedian.gt(null===Be||void 0===Be||null===(A=Be.ticket)||void 0===A||null===(R=A.data)||void 0===R?void 0:R.amount)&&Object(M.jsx)("div",{style:{paddingTop:"15px"},children:Object(M.jsxs)(W.a,{severity:"error",children:["Your bid was below the median and was not included in the raffle. You may click ",Object(M.jsx)("em",{children:"Withdraw"})," when the raffle ends or you will be automatically issued one when the Fair Launch authority withdraws from the treasury."]})}),!1]}),"setContributed(min)",[o.Phase1,o.Phase2].includes(ht)&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(T.a,{style:{marginTop:40,marginBottom:20},children:Object(M.jsx)(J,{min:rt,marks:st,max:it,step:ot,value:Oe,onChange:function(e,t){return ke(t)},valueLabelDisplay:"auto",style:{width:"calc(100% - 40px)",marginLeft:20,height:30}})})}),Re.connected?Object(M.jsxs)("div",{children:[[o.Phase1,o.Phase2].includes(ht)&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(G,{onClick:ut,variant:"contained",disabled:!1,children:me?Object(M.jsx)(y.a,{}):(null===Be||void 0===Be?void 0:Be.ticket.data)?"New Bids != adjusting.":"Place bid"})}),[o.Phase3].includes(ht)&&Object(M.jsxs)(M.Fragment,{children:[X(Be,de)&&Object(M.jsx)(G,{onClick:bt,variant:"contained",disabled:void 0!==(null===Be||void 0===Be||null===(K=Be.ticket.data)||void 0===K?void 0:K.state.punched),children:me?Object(M.jsx)(y.a,{}):"Punch Ticket"}),!X(Be,de)&&Object(M.jsx)(G,{onClick:dt,variant:"contained",disabled:me||void 0===(null===Be||void 0===Be?void 0:Be.ticket.data)||void 0!==(null===Be||void 0===Be||null===(L=Be.ticket.data)||void 0===L?void 0:L.state.withdrawn),children:me?Object(M.jsx)(y.a,{}):"Withdraw"})]}),ht===o.Phase4&&Object(M.jsxs)(M.Fragment,{children:[(!Be||X(Be,de))&&Object(M.jsx)(V,{children:Object(M.jsx)(G,{disabled:(null===Ue||void 0===Ue?void 0:Ue.state.isSoldOut)||me||!(null===Ue||void 0===Ue?void 0:Ue.state.isActive)||(null===Be||void 0===Be||null===(D=Be.ticket)||void 0===D||null===(U=D.data)||void 0===U?void 0:U.state.punched)&&0===de,onClick:nt,variant:"contained",children:(null===Be||void 0===Be||null===($=Be.ticket)||void 0===$||null===(ee=$.data)||void 0===ee?void 0:ee.state.punched)&&0===de?"MINTED":(null===Ue||void 0===Ue?void 0:Ue.state.isSoldOut)?"SOLD OUT":me?Object(M.jsx)(y.a,{}):"MINT"})}),!X(Be,de)&&Object(M.jsx)(G,{onClick:dt,variant:"contained",disabled:me||void 0===(null===Be||void 0===Be?void 0:Be.ticket.data)||void 0!==(null===Be||void 0===Be||null===(te=Be.ticket.data)||void 0===te?void 0:te.state.withdrawn),children:me?Object(M.jsx)(y.a,{}):"Withdraw"})]})]}):Object(M.jsxs)(z,{children:["Connect"," ",[o.Phase1].includes(ht)?"to bid":"to see status"]}),Object(M.jsx)(T.a,{container:!0,justifyContent:"space-between",color:"textSecondary",children:Object(M.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"left",onClick:function(){Ve(!0)},children:"Wat is this"})}),Object(M.jsx)(C.a,{open:Je,onClose:function(){return Ze(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(M.jsx)(N.a,{style:{padding:24},children:"During raffle phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed."})}),Object(M.jsx)(C.a,{open:et,onClose:function(){tt(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(M.jsxs)(N.a,{style:{padding:24},children:[!(null===Be||void 0===Be?void 0:Be.state.data.antiRugSetting)&&Object(M.jsx)("span",{children:"This Fair Launch has no anti-rug settings."}),(null===Be||void 0===Be?void 0:Be.state.data.antiRugSetting)&&Be.state.data.antiRugSetting.selfDestructDate&&Object(M.jsxs)("div",{children:[Object(M.jsx)("h3",{children:"Anti-Rug Policy"}),Object(M.jsx)("p",{children:"This raffle is governed by a smart contract to prevent the artist from running away with your money."}),Object(M.jsx)("p",{children:"How it works:"}),"This project will retain"," ",Be.state.data.antiRugSetting.reserveBp/100,"% (\u25ce"," ",(null===Be||void 0===Be?void 0:Be.treasury)*Be.state.data.antiRugSetting.reserveBp/(1e4*I.LAMPORTS_PER_SOL),") of the pledged amount in a locked state until all but"," ",Be.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs (out of up to"," ",Be.state.data.numberOfTokens.toNumber(),") have been minted.",Object(M.jsxs)("p",{children:["If more than"," ",Be.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs remain as of"," ",null===(ne=Object(q.f)(Be.state.data.antiRugSetting.selfDestructDate))||void 0===ne?void 0:ne.toLocaleDateString()," ","at"," ",null===(re=Object(q.f)(Be.state.data.antiRugSetting.selfDestructDate))||void 0===re?void 0:re.toLocaleTimeString(),", you will have the option to get a refund of"," ",Be.state.data.antiRugSetting.reserveBp/100,"% of the cost of your token."]}),(null===Be||void 0===Be||null===(ae=Be.ticket)||void 0===ae?void 0:ae.data)&&!(null===Be||void 0===Be||null===(ie=Be.ticket)||void 0===ie?void 0:ie.data.state.withdrawn)&&Object(M.jsx)(G,{onClick:lt,variant:"contained",disabled:!Be.ticket.data||!Be.ticket.data.state.punched||Date.now()/1e3<Be.state.data.antiRugSetting.selfDestructDate.toNumber(),children:me?Object(M.jsx)(y.a,{}):Date.now()/1e3<Be.state.data.antiRugSetting.selfDestructDate.toNumber()?Object(M.jsxs)("span",{children:["Refund in...",Object(M.jsx)(E.a,{date:Object(q.f)(Be.state.data.antiRugSetting.selfDestructDate)})]}):"Refund"}),Object(M.jsx)("div",{style:{textAlign:"center",marginTop:"-5px"},children:(null===Be||void 0===Be||null===(oe=Be.ticket)||void 0===oe?void 0:oe.data)&&!(null===Be||void 0===Be||null===(ce=Be.ticket)||void 0===ce||null===(se=ce.data)||void 0===se?void 0:se.state.punched)&&Object(M.jsx)("small",{children:"You currently have a ticket but it has not been punched yet, so cannot be refunded."})})]})]})}),Object(M.jsxs)(C.a,{open:ze,onClose:function(){return Ve(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:[Object(M.jsxs)(_.a,{disableTypography:!0,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(M.jsx)(x.a,{component:"button",variant:"h6",color:"textSecondary",onClick:function(){Ve(!0)},children:"How it works"}),Object(M.jsx)(O.a,{"aria-label":"close",className:Q.closeButton,onClick:function(){return Ve(!1)},children:Object(M.jsx)(B.a,{})})]}),Object(M.jsxs)(N.a,{children:[Object(M.jsx)(P.a,{variant:"h6",children:"There is one phase."}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"You contribute. When you do for a particular game the ranges increase and the entry into all games is reduced a bit."}),Object(M.jsx)(P.a,{variant:"h6",children:"Phase 2 - Not Really"}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Anyone can press the magic button, release winnings to our lucky frien, 10% stays behind to seed the next game tho."}),Object(M.jsx)(P.a,{variant:"h6",children:"Btw"}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Any bid of any amount will let you win, if nobody bids before the timer runs out. Glhf."}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Nothng I should ever do or say is not financial advice of any kind, I'm not qualified."})]})]})]})})}),Be&&Object(M.jsx)(j.a,{maxWidth:"xs",style:{position:"relative",marginTop:10},children:Object(M.jsx)("div",{style:{margin:20},children:Object(M.jsxs)(T.a,{container:!0,direction:"row",wrap:"nowrap",children:[Object(M.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(M.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Bids"}),Object(M.jsx)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:(null===Be||void 0===Be?void 0:Be.state.numberTicketsSold.toNumber())||0})]}),Object(M.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(M.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Median bid"}),Object(M.jsxs)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce ",q.c.format(ct)]})]}),Object(M.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(M.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Total raised"}),Object(M.jsxs)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce"," ",q.c.format(((null===Be||void 0===Be?void 0:Be.treasury)||0)/I.LAMPORTS_PER_SOL)]})]})]})})}),Object(M.jsx)(k.a,{open:Ce.open,autoHideDuration:6e3,onClose:function(){return _e(Object(d.a)(Object(d.a)({},Ce),{},{open:!1}))},children:Object(M.jsx)(W.a,{onClose:function(){return _e(Object(d.a)(Object(d.a)({},Ce),{},{open:!1}))},severity:Ce.severity,children:Ce.message})})]})},ee=n(21),te=n(223),ne=n(112),re=n(760),ae=n(483),ie=s.a.createContext(null),oe=function(e){var t=e.children,n=void 0===t?null:t,r=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useMemo)((function(){return function(){var e;a.current&&r.current&&(r.current.style.visibility="visible",null===(e=a.current({particleCount:400,spread:160,origin:{y:.3}}))||void 0===e||e.finally((function(){r.current&&(r.current.style.visibility="hidden")})))}}),[]);Object(c.useEffect)((function(){r.current&&!a.current&&(r.current.style.visibility="hidden",a.current=ae.a.create(r.current,{resize:!0,useWorker:!0}))}),[]);return Object(M.jsxs)(ie.Provider,{value:{dropConfetti:i},children:[Object(M.jsx)("canvas",{ref:r,style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1,top:0,left:0}}),n]})},ce=Object(ne.b)({palette:{type:"dark"}}),se=void 0,ue=new ee.e.PublicKey("HHefcoa9GbgRSPAJE9LEZqgQUXcxprbs9JGUwotTKzw4"),le=new ee.e.PublicKey("FTgqqzjgQ1tVBY7Qc3r8GBtjhoKWCnUFY75Kkgexm9Ur"),de=new ee.e.PublicKey("GEyFiqaPuSQsRWKwEMbN6ANHmDsoMMTpsfFaRDsp4qBR"),be=new ee.e.PublicKey("DDJokMbW5WZ1jWt5c4cCX3JAcfUmMKuvQe6PHjip81kh"),he=new ee.e.Connection("https://api.devnet.solana.com/"),pe=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"",REACT_APP_FAIR_LAUNCH_ID:"HHefcoa9GbgRSPAJE9LEZqgQUXcxprbs9JGUwotTKzw4",REACT_APP_FAIR_LAUNCH_ID2:"FTgqqzjgQ1tVBY7Qc3r8GBtjhoKWCnUFY75Kkgexm9Ur",REACT_APP_FAIR_LAUNCH_ID3:"GEyFiqaPuSQsRWKwEMbN6ANHmDsoMMTpsfFaRDsp4qBR",REACT_APP_FAIR_LAUNCH_ID4:"DDJokMbW5WZ1jWt5c4cCX3JAcfUmMKuvQe6PHjip81kh",REACT_APP_SOLANA_NETWORK:"devnet",REACT_APP_SOLANA_RPC_HOST:"https://api.devnet.solana.com/"}).REACT_APP_CANDY_START_DATE,10),fe=3e4,ge=function(){var e=Object(c.useMemo)((function(){return Object(I.clusterApiUrl)("devnet")}),[]),t=Object(c.useMemo)((function(){return[Object(te.getPhantomWallet)(),Object(te.getSolflareWallet)(),Object(te.getSolletWallet)()]}),[]);return Object(M.jsx)(re.a,{theme:ce,children:Object(M.jsx)(F.ConnectionProvider,{endpoint:e,children:Object(M.jsx)(F.WalletProvider,{wallets:t,autoConnect:!0,children:Object(M.jsxs)(U.WalletDialogProvider,{children:[Object(M.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 1"}),Object(M.jsx)(oe,{children:Object(M.jsx)($,{candyMachineId:se,fairLaunchId:ue,connection:he,startDate:pe,txTimeout:fe})})]}),Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 2"}),Object(M.jsx)(oe,{children:Object(M.jsx)($,{candyMachineId:se,fairLaunchId:le,connection:he,startDate:pe,txTimeout:fe})})]})]}),Object(M.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 3"}),Object(M.jsx)(oe,{children:Object(M.jsx)($,{candyMachineId:se,fairLaunchId:de,connection:he,startDate:pe,txTimeout:fe})})]}),Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 4"}),Object(M.jsx)(oe,{children:Object(M.jsx)($,{candyMachineId:se,fairLaunchId:be,connection:he,startDate:pe,txTimeout:fe})})]})]})]})})})})},ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,776)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};l.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(ge,{})}),document.getElementById("root")),ve()}},[[743,1,2]]]);
//# sourceMappingURL=main.bff9f24e.chunk.js.map