(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{175:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return j}));var r,a=n(1),i=n.n(a),o=n(20),c=n(3),s=n(33),u=n(54),l=n(59),d=n(45),b=new s.e.PublicKey("GUes4PH9UcoMuhATVaT1FH5QAQja1uHep8YnPE1oxPSY");!function(e){e.Brewing="Brewing",e.Finished="Finished",e.PastDue="Past Due"}(r||(r={}));var h=function(){var e=Object(c.a)(i.a.mark((function e(t,n,r){var a,c,u,l,d,h,p,v,m,j,y,x,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new s.c(r,t,{preflightCommitment:"recent"}),e.next=3,s.b.fetchIdl(b,a);case 3:return c=e.sent,u=new s.b(c,b,a),e.next=7,u.account.fairLaunch.fetch(n);case 7:return l=e.sent,e.next=10,f(l.tokenMint,t.publicKey);case 10:return d=e.sent,h=Object(o.a)(d,2),p=h[0],v=h[1],e.prev=14,e.next=17,u.account.fairLaunchTicket.fetch(p);case 17:m=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.log("No ticket");case 23:return e.next=25,u.provider.connection.getBalance(l.treasury);case 25:return j=e.sent,y=new Uint8Array([]),e.next=29,g(l.tokenMint);case 29:return x=e.sent[0],e.prev=30,e.next=33,u.provider.connection.getAccountInfo(x);case 33:O=e.sent,y=new Uint8Array((null===O||void 0===O?void 0:O.data)||[]),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(30),console.log("Could not find fair launch lottery."),console.log(e.t1);case 41:return e.abrupt("return",{id:n,state:l,program:u,ticket:{pubkey:p,bump:v,data:m},lottery:{pubkey:x,data:y},treasury:j});case 42:case"end":return e.stop()}}),e,null,[[14,20],[30,37]])})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r,a,o,c,s,l,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n.state.tokenMint,t.publicKey);case 2:return r=e.sent[0],a=n.ticket.data,e.next=6,g(n.state.tokenMint);case 6:return o=e.sent[0],e.next=9,Object(d.d)(n.state.tokenMint,t.publicKey);case 9:if(c=e.sent[0],!(null===a||void 0===a?void 0:a.amount.gt(n.state.currentMedian))){e.next=18;break}return console.log("Adjusting down...",null===a||void 0===a?void 0:a.amount.toNumber(),n.state.currentMedian.toNumber()),e.next=14,v(n.program,n.state.currentMedian.toNumber(),t,n,r);case 14:s=e.sent,s.remainingAccounts,s.instructions,s.signers;case 18:return e.next=20,n.program.provider.connection.getAccountInfo(c);case 20:return l=e.sent,b=l?[]:[Object(d.b)(c,t.publicKey,t.publicKey,n.state.tokenMint)],e.next=24,n.program.rpc.punchTicket({accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:o,payer:t.publicKey,buyerTokenAccount:c,tokenMint:n.state.tokenMint,tokenProgram:u.b},instructions:b.length>0?b:void 0});case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var t=Object(c.a)(i.a.mark((function t(n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toBuffer()],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),g=function(){var t=Object(c.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),e.from("lottery")],b);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(i.a.mark((function e(t,n,r,a,c){var b,h,p,f,g,v,m,j,y,x,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",{remainingAccounts:[],instructions:[],signers:[],amountLamports:0});case 2:if(b=a.ticket,h=[],p=[],f=[],g=0,a.state.treasuryMint){e.next=11;break}g=b||0!==n?Math.ceil(n*l.LAMPORTS_PER_SOL):a.state.data.priceRangeStart.toNumber(),e.next=23;break;case 11:return v=s.e.Keypair.generate(),f.push(v),p.push(u.c.createApproveInstruction(u.b,a.state.treasuryMint,v.publicKey,r.publicKey,[],amountNumber+a.state.data.fees.toNumber())),h.push({pubkey:a.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=h,e.next=18,Object(d.d)(a.state.treasuryMint,r.publicKey);case 18:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2),h.push({pubkey:v.publicKey,isWritable:!1,isSigner:!0}),h.push({pubkey:u.b,isWritable:!1,isSigner:!1});case 23:if(!b.data){e.next=39;break}return e.next=26,Object(d.e)(a.state.tokenMint,null===(m=b.data)||void 0===m?void 0:m.seq);case 26:return j=e.sent,y=Object(o.a)(j,2),x=y[0],O=y[1],e.next=32,t.provider.connection.getAccountInfo(x);case 32:if(e.sent){e.next=39;break}return e.t3=p,e.next=37,t.instruction.createTicketSeq(O,{accounts:{fairLaunchTicketSeqLookup:x,fairLaunch:a.id,fairLaunchTicket:c,payer:r.publicKey,systemProgram:s.e.SystemProgram.programId,rent:s.e.SYSVAR_RENT_PUBKEY},signers:[]});case 37:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 39:return e.abrupt("return",{remainingAccounts:h,instructions:p,signers:f,amountLamports:g});case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(i.a.mark((function e(t,n){var r,a,o,c,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(d.d)(n.state.tokenMint,t.publicKey);case 4:if(r=e.sent[0],a=s.e.Keypair.generate(),o=[a],c=[u.c.createApproveInstruction(u.b,r,a.publicKey,t.publicKey,[],1)],l=[],!n.state.treasuryMint){e.next=17;break}return l.push({pubkey:n.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=l,e.next=14,Object(d.d)(n.state.treasuryMint,t.publicKey);case 14:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2);case 17:return console.log("tfr",n.state.treasury.toBase58(),t.publicKey.toBase58(),r.toBase58()),e.next=20,n.program.rpc.receiveRefund({accounts:{fairLaunch:n.id,treasury:n.state.treasury,buyer:t.publicKey,buyerTokenAccount:r,transferAuthority:a.publicKey,tokenMint:n.state.tokenMint,tokenProgram:u.b,systemProgram:s.e.SystemProgram.programId,clock:s.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:l,instructions:c,signers:o});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=(new s.e.PublicKey("B66RU2vxEkdXkoYAqZ5EUGkqWRxqStraXTGUUiyyQcbA"),new s.e.PublicKey("8KiVaECdXDWdDpnVZ7aZk64UUsZowRNwELqPAKSA4SUZ"),new s.e.PublicKey("HPHJ4ycW7tAm5jJBtX4MH9j3pHTKzkfkMb7DNRv7M4Fy"),new s.e.PublicKey("2amHUBC1X2WCFX42wbN1Mrva7q2XZRz2Ng7wNgUvk8H1"),function(){var e=Object(c.a)(i.a.mark((function e(t,n,r){var a,c,u,l,d,b,h,p,g;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return r.ticket.data,e.next=5,f(r.state.tokenMint,n.publicKey);case 5:return a=e.sent,c=Object(o.a)(a,2),u=c[0],l=c[1],e.next=11,v(r.program,t,n,r,u);case 11:return d=e.sent,b=d.remainingAccounts,h=d.instructions,p=d.signers,g=d.amountLamports,e.prev=16,console.log("Amount",g),e.next=20,r.program.rpc.purchaseTicket(l,new s.a(g),{accounts:{authority:r.state.authority,dev:r.state.dev,tokenMint:r.state.tokenMint,fairLaunch:r.id,treasury:r.state.treasury,buyer:n.publicKey,payer:n.publicKey,systemProgram:s.e.SystemProgram.programId,rent:s.e.SYSVAR_RENT_PUBKEY,clock:s.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:b,signers:p,instructions:h.length>0?h:void 0});case 20:e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(16),console.log(e.t0),e.t0;case 26:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t,n,r){return e.apply(this,arguments)}}())}).call(this,n(6).Buffer)},231:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n(1),a=n.n(r),i=n(3),o=n(33),c=n(54),s=n(59),u=n(481),l=n(45),d=new o.e.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),b=new o.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),h=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var o,c,s,u,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",o=l.length>4&&void 0!==l[4]&&l[4],c=!1,s={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(i.a)(a.a.mark((function e(u,l){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){c||(c=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(c||!o){e.next=7;break}return Object(i.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,s=n&&n.value[0],c||(s?s.err?(console.log("REST error for",t,s),c=!0,l(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),c=!0,u(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,j(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return s=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),c=!0,console.log("Returning status",s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:o.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.e.TransactionInstruction({keys:i,programId:l.a,data:e.from([])})},f=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var i,c,s,u,l,b,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new o.c(r,t,{preflightCommitment:"recent"}),e.next=3,o.b.fetchIdl(d,i);case 3:return c=e.sent,s=new o.b(c,d,i),e.next=7,s.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),b=u.itemsRedeemed.toNumber(),h=l-b,e.abrupt("return",{id:n,program:s,state:{itemsAvailable:l,itemsRedeemed:b,itemsRemaining:h,isSoldOut:0===h,isActive:u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,config:u.config,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer(),e.from("edition")],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i,d,h,f,m,j,y,x,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.e.Keypair.generate(),e.next=3,Object(l.d)(r.publicKey,n);case 3:return i=e.sent[0],e.next=6,Object(l.d)(t.state.tokenMint,n);case 6:return d=e.sent[0],h=t.id,f=[],m=[r],e.t0=o.e.SystemProgram,e.t1=n,e.t2=r.publicKey,e.t3=c.a.span,e.next=16,t.program.provider.connection.getMinimumBalanceForRentExemption(c.a.span);case 16:return e.t4=e.sent,e.t5=c.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=c.c.createInitMintInstruction(c.b,r.publicKey,0,n,n),e.t9=p(i,n,n,r.publicKey),e.t10=c.c.createMintToInstruction(c.b,r.publicKey,i,n,[],1),j=[e.t7,e.t8,e.t9,e.t10],t.state.tokenMint&&(y=o.e.Keypair.generate(),m.push(y),f.push({pubkey:d,isWritable:!0,isSigner:!1}),f.push({pubkey:y.publicKey,isWritable:!1,isSigner:!0}),j.push(c.c.createApproveInstruction(c.b,d,y.publicKey,n,[],t.state.price.toNumber()))),e.next=27,v(r.publicKey);case 27:return x=e.sent,e.next=30,g(r.publicKey);case 30:return O=e.sent,e.t11=j,e.next=34,t.program.instruction.mintNft({accounts:{config:t.state.config,candyMachine:h,payer:n,wallet:t.state.treasury,mint:r.publicKey,metadata:x,masterEdition:O,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:b,tokenProgram:c.b,systemProgram:s.SystemProgram.programId,rent:o.e.SYSVAR_RENT_PUBKEY,clock:o.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:f.length>0?f:void 0});case 34:return e.t12=e.sent,e.t11.push.call(e.t11,e.t12),e.prev=37,e.next=40,Object(u.a)(t.program.provider.connection,t.program.provider.wallet,j,m);case 40:return e.abrupt("return",e.sent.txid);case 43:e.prev=43,e.t13=e.catch(37),console.log(e.t13);case 46:return e.abrupt("return","j");case 47:case"end":return e.stop()}}),e,null,[[37,43]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(6).Buffer)},45:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g}));var r=n(1),a=n.n(r),i=n(3),o=n(33),c=n(54),s=n(59),u=new o.e.PublicKey("GUes4PH9UcoMuhATVaT1FH5QAQja1uHep8YnPE1oxPSY"),l=function(e){if(e)return new Date(1e3*e.toNumber())},d=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),b={format:function(e){return e?d.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/s.LAMPORTS_PER_SOL}},h=new o.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),p=function(){var t=Object(i.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toArrayLike(e,"le",8)],u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e.PublicKey.findProgramAddress([n.toBuffer(),c.b.toBuffer(),t.toBuffer()],h);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function g(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:i,programId:h,data:e.from([])})}}).call(this,n(6).Buffer)},481:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(18),i=n(1),o=n.n(i),c=n(3),s=n(59),u=n(65);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var l=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,i){var c,l,d,b,p,f,g,v,m,j,y,x=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=x.length>4&&void 0!==x[4]?x[4]:"singleGossip",l=x.length>5&&void 0!==x[5]&&x[5],d=x.length>6?x[6]:void 0,b=x.length>7?x[7]:void 0,n.publicKey){e.next=6;break}throw new u.WalletNotConnectedError;case 6:if(p=new s.Transaction,r.forEach((function(e){return p.add(e)})),e.t0=d,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(c);case 12:e.t0=e.sent;case 13:if(p.recentBlockhash=e.t0.blockhash,l?(f=p).setSigners.apply(f,Object(a.a)(i.map((function(e){return e.publicKey})))):(g=p).setSigners.apply(g,[n.publicKey].concat(Object(a.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(v=p).partialSign.apply(v,Object(a.a)(i)),l){e.next=20;break}return e.next=19,n.signTransaction(p);case 19:p=e.sent;case 20:return b&&b(),e.next=23,h({connection:t,signedTransaction:p});case 23:return m=e.sent,j=m.txid,y=m.slot,e.abrupt("return",{txid:j,slot:y});case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},b=15e3;function h(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark((function e(t){var n,r,a,i,s,u,l,h,p,g,m,y,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,i=void 0===a?b:a,s=n.serialize(),u=d(),l=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return h=e.sent,console.log("Started awaiting confirmation for",h),p=!1,Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||!(d()-u<i)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,j(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,v(h,i,r,"recent",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!g.err){e.next=19;break}throw console.error(g.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===g||void 0===g?void 0:g.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return m=null,e.prev=28,e.next=31,f(r,n,"single");case 31:m=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!m||!m.err){e.next=47;break}if(!m.logs){e.next=46;break}y=m.logs.length-1;case 39:if(!(y>=0)){e.next=46;break}if(!(x=m.logs[y]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+x.slice("Program log: ".length));case 43:--y,e.next=39;break;case 46:throw new Error(JSON.stringify(m.err));case 47:return e.prev=47,p=!0,e.finish(47);case 50:return console.log("Latency",h,d()-u),e.abrupt("return",{txid:h,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function f(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(o.a.mark((function e(t,n,r){var a,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),c=i.toString("base64"),s=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(c.a)(o.a.mark((function e(t,n,r){var a,i,s,u,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(c.a)(o.a.mark((function e(d,b){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(h){s=!0,console.error("WS error in setup",t,h)}case 2:if(s||!i){e.next=8;break}return Object(c.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}},507:function(e,t,n){},508:function(e,t,n){},513:function(e,t){},515:function(e,t){},531:function(e,t){},532:function(e,t){},653:function(e,t){},655:function(e,t){},669:function(e,t){},673:function(e,t){},675:function(e,t){},686:function(e,t){},688:function(e,t){},715:function(e,t){},717:function(e,t){},722:function(e,t){},724:function(e,t){},731:function(e,t){},743:function(e,t){},746:function(e,t){},758:function(e,t){},759:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c=n(5),s=n.n(c),u=n(41),l=n.n(u),d=(n(507),n(508),n(10)),b=n(1),h=n.n(b),p=n(3),f=n(20),g=n(230),v=n(116),m=n(792),j=n(781),y=n(780),x=n(788),O=n(778),k=n(789),w=n(779),S=n(491),P=n(494),T=n(787),A=n(477),E=n(172),R=n(383),M=n(19),C=Object(R.a)((function(e){return Object(A.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),L=function(e){var t=e.date,n=e.status,r=e.style,a=e.start,i=e.end,o=e.onComplete,s=C(),u=Object(c.useState)(!!(a&&i&&t)&&a.getTime()-Date.now()<0),l=Object(f.a)(u,2),d=l[0],b=(l[1],function(e){var t=e.days,a=e.hours,i=e.minutes,o=e.seconds;return a+=24*t,e.completed?n?Object(M.jsx)("span",{className:s.done,children:n}):null:Object(M.jsxs)("div",{className:s.root,style:r,children:[d&&Object(M.jsx)(S.a,{elevation:0,children:Object(M.jsx)("span",{className:s.item,children:"+"})}),Object(M.jsxs)(S.a,{elevation:0,children:[Object(M.jsx)("span",{className:s.item,children:a<10?"0".concat(a):a}),Object(M.jsx)("span",{children:"hrs"})]}),Object(M.jsxs)(S.a,{elevation:0,children:[Object(M.jsx)("span",{className:s.item,children:i<10?"0".concat(i):i}),Object(M.jsx)("span",{children:"mins"})]}),Object(M.jsxs)(S.a,{elevation:0,children:[Object(M.jsx)("span",{className:s.item,children:o<10?"0".concat(o):o}),Object(M.jsx)("span",{children:"secs"})]})]})});return t&&a&&i&&d&&E.a,t?Object(M.jsx)(E.a,{date:t,onComplete:o,renderer:b}):null},N=n(782),K=n(786),_=n(785),D=n(300),B=n.n(D),W=n(790),I=n(59),U=n(102),H=n(218),F=n(231),Y=n(175),q=n(45),z=Object(v.a)(H.WalletDialogButton)(r||(r=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 2px;\n  margin-bottom: 1px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),V=v.a.div(a||(a=Object(g.a)([""]))),X=Object(v.a)(w.a)(i||(i=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 2px;\n  margin-bottom: 1px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),Z=function(e){return Object(A.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})},G=Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}}),Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}}),Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});!function(e){e[e.Phase0=0]="Phase0",e[e.Phase1=1]="Phase1",e[e.Phase2=2]="Phase2",e[e.Lottery=3]="Lottery",e[e.Phase3=4]="Phase3",e[e.Phase4=5]="Phase4",e[e.Unknown=6]="Unknown"}(o||(o={}));var J=function(e){var t=e.phaseName,n=e.desc,r=e.date,a=e.status;return Object(M.jsxs)(T.a,{container:!0,justifyContent:"center",children:[Object(M.jsxs)(T.a,{xs:6,justifyContent:"center",direction:"column",children:[Object(M.jsx)(P.a,{variant:"h5",style:{fontWeight:600},children:t}),Object(M.jsx)(P.a,{variant:"body1",color:"textSecondary",children:n})]}),Object(M.jsx)(T.a,{xs:6,container:!0,justifyContent:"flex-end",children:Object(M.jsx)(L,{date:Object(q.f)(r),style:{justifyContent:"flex-end"},status:a||"Any bid you set will be reset to 0, and you only pay network fees."})})]})},Q=!0;var $=function(e,t){var n,r,a;if(t>0)return!0;if(!(null===e||void 0===e?void 0:e.lottery.data)||!(null===e||void 0===e?void 0:e.lottery.data.length)||!(null===e||void 0===e||null===(n=e.ticket.data)||void 0===n?void 0:n.seq)||!(null===e||void 0===e?void 0:e.state.phaseThreeStarted))return!1;var i=e.lottery.data[49+Math.floor((null===(r=e.ticket.data)||void 0===r?void 0:r.seq.toNumber())/8)],o=7-(null===(a=e.ticket.data)||void 0===a?void 0:a.seq.toNumber())%8,c=i&Math.pow(2,o);return c>0},ee=function(e){var t,n,r,a,i,s,u,l,b,g,v,m,w,A,R,C,L,D,H,ee,te,ne,re,ae,ie,oe,ce,se,ue,le=Object(c.useState)(0),de=Object(f.a)(le,2),be=de[0],he=de[1],pe=Object(c.useState)(null),fe=Object(f.a)(pe,2),ge=(fe[0],fe[1]),ve=Object(c.useState)(!1),me=Object(f.a)(ve,2),je=me[0],ye=me[1],xe=Object(c.useState)(0),Oe=Object(f.a)(xe,2),ke=Oe[0],we=Oe[1],Se=Object(c.useState)(0),Pe=Object(f.a)(Se,2),Te=(Pe[0],Pe[1],Object(c.useState)(0)),Ae=Object(f.a)(Te,2),Ee=(Ae[0],Ae[1],Object(c.useState)(0)),Re=Object(f.a)(Ee,2);Re[0],Re[1];setTimeout(Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q&&(we(at),Q=!1);case 1:case"end":return e.stop()}}),e)}))),5e3);var Me=Object(U.useWallet)(),Ce=Object(c.useMemo)((function(){if(Me&&Me.publicKey&&Me.signAllTransactions&&Me.signTransaction)return{publicKey:Me.publicKey,signAllTransactions:Me.signAllTransactions,signTransaction:Me.signTransaction}}),[Me]),Le=Object(c.useState)({open:!1,message:"",severity:void 0}),Ne=Object(f.a)(Le,2),Ke=Ne[0],_e=Ne[1],De=Object(c.useState)(),Be=Object(f.a)(De,2),We=Be[0],Ie=Be[1],Ue=Object(c.useState)(),He=Object(f.a)(Ue,2),Fe=He[0],Ye=He[1],qe=Object(c.useState)(!1),ze=Object(f.a)(qe,2),Ve=ze[0],Xe=ze[1],Ze=Object(c.useState)(!1),Ge=Object(f.a)(Ze,2),Je=Ge[0],Qe=Ge[1],$e=Object(c.useState)(!1),et=Object(f.a)($e,2),tt=et[0],nt=et[1],rt=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,ye(!0),!(Me.connected&&(null===Fe||void 0===Fe?void 0:Fe.program)&&Me.publicKey)){t.next=13;break}if(!(null===We||void 0===We||null===(n=We.ticket.data)||void 0===n?void 0:n.state.unpunched)||!$(We,be)){t.next=6;break}return t.next=6,ht();case 6:return t.next=8,Object(F.c)(Fe,Me.publicKey);case 8:return r=t.sent,t.next=11,Object(F.a)(r,e.txTimeout,e.connection,"singleGossip",!1);case 11:(null===(a=t.sent)||void 0===a?void 0:a.err)?_e({open:!0,message:"Mint failed! Please try again!",severity:"error"}):_e({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"});case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),i=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(i="SOLD OUT!",window.location.reload()):312===t.t0.code&&(i="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?i="SOLD OUT!":t.t0.message.indexOf("0x135")&&(i="Insufficient funds to mint. Please fund your wallet.")):i="Transaction Timeout! Please try again.",_e({open:!0,message:i,severity:"error"});case 20:return t.prev=20,ye(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,15,20,23]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(p.a)(h.a.mark((function t(){var n,r,a,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ce){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.connection.getBalance(Ce.publicKey);case 5:return n=t.sent,ge(n),t.next=9,Object(Y.a)(Ce,e.fairLaunchId,e.connection);case 9:if(r=t.sent,Ie(r),t.prev=11,!r.state.tokenMint){t.next=21;break}return t.t0=e.connection,t.next=16,Object(q.d)(r.state.tokenMint,Ce.publicKey);case 16:return t.t1=t.sent[0],t.next=19,t.t0.getTokenAccountBalance.call(t.t0,t.t1);case 19:(a=t.sent).value&&he(a.value.uiAmount||0);case 21:t.next=27;break;case 23:t.prev=23,t.t2=t.catch(11),console.log("Problem getting fair launch token balance"),console.log(t.t2);case 27:t.next=33;break;case 29:t.prev=29,t.t3=t.catch(2),console.log("Problem getting fair launch state"),console.log(t.t3);case 33:if(!e.candyMachineId){t.next=47;break}return t.prev=34,t.next=37,Object(F.b)(Ce,e.candyMachineId,e.connection);case 37:i=t.sent,Ye(i),t.next=45;break;case 41:t.prev=41,t.t4=t.catch(34),console.log("Problem getting candy machine state"),console.log(t.t4);case 45:t.next=48;break;case 47:console.log("No candy machine detected in configuration.");case 48:case"end":return t.stop()}}),t,null,[[2,29],[11,23],[34,41]])})))()}),[Ce,e.candyMachineId,e.connection,e.fairLaunchId]);null===(t=Object(q.f)(null===We||void 0===We?void 0:We.state.data.phaseOneEnd))||void 0===t||t.getTime();var at=q.c.asNumber(null===We||void 0===We?void 0:We.state.data.priceRangeStart),it=q.c.asNumber(null===We||void 0===We?void 0:We.state.data.fee),ot=q.c.asNumber(null===We||void 0===We?void 0:We.state.data.priceRangeEnd),ct=q.c.asNumber(null===We||void 0===We?void 0:We.state.data.tickSize),st=q.c.asNumber(null===We||void 0===We?void 0:We.state.currentMedian);void 0!=(null===We||void 0===We?void 0:We.state.currentHighest)&&q.c.asNumber(null===We||void 0===We?void 0:We.state.currentHighest);var ut=[{value:at||0,label:"".concat(at," SOL")},{value:ot||0,label:"".concat(ot," SOL")}].filter((function(e){return void 0!==e&&0!==e.value})),lt=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce){e.next=2;break}return e.abrupt("return");case 2:return console.log("deposit"),ye(!0),e.prev=4,e.next=7,Object(Y.c)(ke,Ce,We);case 7:ye(!1),_e({open:!0,message:"Congratulations! Bid ".concat((null===We||void 0===We?void 0:We.ticket.data)?"updated":"inserted","!"),severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),ye(!1),_e({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),dt=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,ye(!0),e.next=7,Object(Y.d)(Ce,We);case 7:ye(!1),_e({open:!0,message:"Congratulations! You have received a refund. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),ye(!1),_e({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),bt=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ce&&We&&We.ticket){e.next=2;break}return e.abrupt("return");case 2:return console.log("punch"),ye(!0),e.prev=4,e.next=7,Object(Y.b)(Ce,We);case 7:ye(!1),_e({open:!0,message:"Congratulations! Ticket punched!",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),ye(!1),_e({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),pt=function(e,t){var n,r,a,i;return(new Date).getTime(),null===(n=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseOneStart))||void 0===n||n.getTime(),null===(r=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseOneEnd))||void 0===r||r.getTime(),null===(a=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseTwoEnd))||void 0===a||a.getTime(),null===(i=Object(q.f)(null===t||void 0===t?void 0:t.state.goLiveDate))||void 0===i||i.getTime(),o.Phase1}(We,Fe),ft=(null===Fe||void 0===Fe?void 0:Fe.state.goLiveDate)&&(null===We||void 0===We?void 0:We.state.data.phaseTwoEnd)&&(null===Fe||void 0===Fe?void 0:Fe.state.goLiveDate.lt(null===We||void 0===We?void 0:We.state.data.phaseTwoEnd));return Object(M.jsxs)(j.a,{style:{marginTop:0},children:[Object(M.jsxs)("div",{children:[it," SOL flat per bid and 10% of the bid."]}),Object(M.jsx)(j.a,{maxWidth:"xs",style:{position:"relative"},children:Object(M.jsx)(S.a,{style:{padding:24,backgroundColor:"#151A1F",borderRadius:6},children:Object(M.jsxs)(T.a,{container:!0,justifyContent:"center",direction:"column",children:[pt===o.Phase0&&Object(M.jsx)(J,{phaseName:"Phase 0",desc:"Anticipation Phase",date:null===We||void 0===We?void 0:We.state.data.phaseOneStart}),pt===o.Phase1&&Object(M.jsxs)("div",{children:[Object(M.jsx)(J,{phaseName:"This is NOT FLP!",desc:"Btw you need to move your slider to bid. You may lose all your $. Risk only what you can afford to lose.",date:null===We||void 0===We?void 0:We.state.data.phaseOneEnd}),Object(M.jsxs)(P.a,{variant:"h5",style:{fontWeight:900},children:[(null===We||void 0===We?void 0:We.state.authority.toBase58().slice(0,3))+"..."+(null===We||void 0===We?void 0:We.state.authority.toBase58().slice((null===We||void 0===We?void 0:We.state.authority.toBase58().length)-3,null===We||void 0===We?void 0:We.state.authority.toBase58().length))," ","is Going to Win 1st Prize of \u25ce","",q.c.format((null===We||void 0===We?void 0:We.treasury)/I.LAMPORTS_PER_SOL),"! If nobody outbids 'em _soon_",q.c.format((null===We||void 0===We?void 0:We.state.current_highest)/I.LAMPORTS_PER_SOL),"! This be the current winning bid."]})]}),pt===o.Phase2&&Object(M.jsx)(J,{phaseName:"Hey press the mint $",desc:"It'll pay the winner, you pay sol fees, then restart this game:)",date:null===We||void 0===We?void 0:We.state.data.phaseTwoEnd}),pt===o.Lottery&&Object(M.jsx)(J,{phaseName:"Phase 3",desc:"Raffle in progress",date:null===We||void 0===We?void 0:We.state.data.phaseTwoEnd.add(null===We||void 0===We?void 0:We.state.data.lotteryDuration)}),pt===o.Phase3&&!Fe&&Object(M.jsx)(J,{phaseName:"Phase 3",desc:"Raffle finished!",date:null===We||void 0===We?void 0:We.state.data.phaseTwoEnd}),pt===o.Phase3&&Fe&&Object(M.jsx)(J,{phaseName:"Phase 3",desc:"Minting starts in...",date:null===Fe||void 0===Fe?void 0:Fe.state.goLiveDate}),pt===o.Phase4&&Object(M.jsx)(J,{phaseName:ft?"Phase 3":"Phase 4",desc:"Candy Time \ud83c\udf6c \ud83c\udf6c \ud83c\udf6c",date:null===Fe||void 0===Fe?void 0:Fe.state.goLiveDate,status:"LIVE"}),We&&Object(M.jsxs)(M.Fragment,{children:[[o.Phase1,o.Phase2,o.Phase3,o.Lottery].includes(pt)&&(null===We||void 0===We||null===(n=We.ticket)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.state.withdrawn)&&Object(M.jsx)("div",{style:{paddingTop:"15px"},children:Object(M.jsx)(W.a,{severity:"error",children:"Your bid was withdrawn and cannot be adjusted or re-inserted."})}),[o.Phase1,o.Phase2].includes(pt)&&We.state.currentMedian&&(null===We||void 0===We||null===(a=We.ticket)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.amount)&&!(null===We||void 0===We||null===(s=We.ticket)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.state.withdrawn)&&We.state.currentMedian.gt(null===We||void 0===We||null===(l=We.ticket)||void 0===l||null===(b=l.data)||void 0===b?void 0:b.amount)&&Object(M.jsx)("div",{style:{paddingTop:"15px"},children:Object(M.jsx)(W.a,{severity:"warning",children:"Your bid is currently below the median and will not be eligible for the raffle."})}),[o.Phase3,o.Lottery].includes(pt)&&We.state.currentMedian&&(null===We||void 0===We||null===(g=We.ticket)||void 0===g||null===(v=g.data)||void 0===v?void 0:v.amount)&&!(null===We||void 0===We||null===(m=We.ticket)||void 0===m||null===(w=m.data)||void 0===w?void 0:w.state.withdrawn)&&We.state.currentMedian.gt(null===We||void 0===We||null===(A=We.ticket)||void 0===A||null===(R=A.data)||void 0===R?void 0:R.amount)&&Object(M.jsx)("div",{style:{paddingTop:"15px"},children:Object(M.jsxs)(W.a,{severity:"error",children:["Your bid was below the median and was not included in the raffle. You may click ",Object(M.jsx)("em",{children:"Withdraw"})," when the raffle ends or you will be automatically issued one when the Fair Launch authority withdraws from the treasury."]})}),!1]}),[o.Phase1,o.Phase2].includes(pt)&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(T.a,{style:{marginTop:40,marginBottom:20},children:Object(M.jsx)(G,{min:at,marks:ut,max:ot,step:ct,value:ke,onChange:function(e,t){return we(t)},valueLabelDisplay:"auto",style:{width:"calc(100% - 40px)",marginLeft:20,height:30}})})}),Me.connected?Object(M.jsxs)("div",{children:[[o.Phase1,o.Phase2].includes(pt)&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(X,{onClick:lt,variant:"contained",disabled:!1,children:je?Object(M.jsx)(y.a,{}):(null===We||void 0===We?void 0:We.ticket.data)?"New Bids != adjusting.":"Place bid"})}),[o.Phase3].includes(pt)&&Object(M.jsxs)(M.Fragment,{children:[$(We,be)&&Object(M.jsx)(X,{onClick:ht,variant:"contained",disabled:void 0!==(null===We||void 0===We||null===(C=We.ticket.data)||void 0===C?void 0:C.state.punched),children:je?Object(M.jsx)(y.a,{}):"Punch Ticket"}),!$(We,be)&&Object(M.jsx)(X,{onClick:bt,variant:"contained",disabled:je||void 0===(null===We||void 0===We?void 0:We.ticket.data)||void 0!==(null===We||void 0===We||null===(L=We.ticket.data)||void 0===L?void 0:L.state.withdrawn),children:je?Object(M.jsx)(y.a,{}):"Withdraw"})]}),pt===o.Phase4&&Object(M.jsxs)(M.Fragment,{children:[(!We||$(We,be))&&Object(M.jsx)(V,{children:Object(M.jsx)(X,{disabled:(null===Fe||void 0===Fe?void 0:Fe.state.isSoldOut)||je||!(null===Fe||void 0===Fe?void 0:Fe.state.isActive)||(null===We||void 0===We||null===(D=We.ticket)||void 0===D||null===(H=D.data)||void 0===H?void 0:H.state.punched)&&0===be,onClick:rt,variant:"contained",children:(null===We||void 0===We||null===(ee=We.ticket)||void 0===ee||null===(te=ee.data)||void 0===te?void 0:te.state.punched)&&0===be?"MINTED":(null===Fe||void 0===Fe?void 0:Fe.state.isSoldOut)?"SOLD OUT":je?Object(M.jsx)(y.a,{}):"MINT"})}),!$(We,be)&&Object(M.jsx)(X,{onClick:bt,variant:"contained",disabled:je||void 0===(null===We||void 0===We?void 0:We.ticket.data)||void 0!==(null===We||void 0===We||null===(ne=We.ticket.data)||void 0===ne?void 0:ne.state.withdrawn),children:je?Object(M.jsx)(y.a,{}):"Withdraw"})]})]}):Object(M.jsxs)(z,{children:["Connect"," ",[o.Phase1].includes(pt)?"to bid":"to see status"]}),Object(M.jsx)(T.a,{container:!0,justifyContent:"space-between",color:"textSecondary",children:Object(M.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"left",onClick:function(){Xe(!0)},children:"Wat is this"})}),Object(M.jsx)(N.a,{open:Je,onClose:function(){return Qe(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(M.jsx)(_.a,{style:{padding:24},children:"During raffle phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed."})}),Object(M.jsx)(N.a,{open:tt,onClose:function(){nt(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(M.jsxs)(_.a,{style:{padding:24},children:[!(null===We||void 0===We?void 0:We.state.data.antiRugSetting)&&Object(M.jsx)("span",{children:"This Fair Launch has no anti-rug settings."}),(null===We||void 0===We?void 0:We.state.data.antiRugSetting)&&We.state.data.antiRugSetting.selfDestructDate&&Object(M.jsxs)("div",{children:[Object(M.jsx)("h3",{children:"Anti-Rug Policy"}),Object(M.jsx)("p",{children:"This raffle is governed by a smart contract to prevent the artist from running away with your money."}),Object(M.jsx)("p",{children:"How it works:"}),"This project will retain"," ",We.state.data.antiRugSetting.reserveBp/100,"% (\u25ce"," ",(null===We||void 0===We?void 0:We.treasury)*We.state.data.antiRugSetting.reserveBp/(1e4*I.LAMPORTS_PER_SOL),") of the pledged amount in a locked state until all but"," ",We.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs (out of up to"," ",We.state.data.numberOfTokens.toNumber(),") have been minted.",Object(M.jsxs)("p",{children:["If more than"," ",We.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs remain as of"," ",null===(re=Object(q.f)(We.state.data.antiRugSetting.selfDestructDate))||void 0===re?void 0:re.toLocaleDateString()," ","at"," ",null===(ae=Object(q.f)(We.state.data.antiRugSetting.selfDestructDate))||void 0===ae?void 0:ae.toLocaleTimeString(),", you will have the option to get a refund of"," ",We.state.data.antiRugSetting.reserveBp/100,"% of the cost of your token."]}),(null===We||void 0===We||null===(ie=We.ticket)||void 0===ie?void 0:ie.data)&&!(null===We||void 0===We||null===(oe=We.ticket)||void 0===oe?void 0:oe.data.state.withdrawn)&&Object(M.jsx)(X,{onClick:dt,variant:"contained",disabled:!We.ticket.data||!We.ticket.data.state.punched||Date.now()/1e3<We.state.data.antiRugSetting.selfDestructDate.toNumber(),children:je?Object(M.jsx)(y.a,{}):Date.now()/1e3<We.state.data.antiRugSetting.selfDestructDate.toNumber()?Object(M.jsxs)("span",{children:["Refund in...",Object(M.jsx)(E.a,{date:Object(q.f)(We.state.data.antiRugSetting.selfDestructDate)})]}):"Refund"}),Object(M.jsx)("div",{style:{textAlign:"center",marginTop:"-5px"},children:(null===We||void 0===We||null===(ce=We.ticket)||void 0===ce?void 0:ce.data)&&!(null===We||void 0===We||null===(se=We.ticket)||void 0===se||null===(ue=se.data)||void 0===ue?void 0:ue.state.punched)&&Object(M.jsx)("small",{children:"You currently have a ticket but it has not been punched yet, so cannot be refunded."})})]})]})}),Object(M.jsxs)(N.a,{open:Ve,onClose:function(){return Xe(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:[Object(M.jsxs)(K.a,{disableTypography:!0,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(M.jsx)(x.a,{component:"button",variant:"h6",color:"textSecondary",onClick:function(){Xe(!0)},children:"How it works"}),Object(M.jsx)(O.a,{"aria-label":"close",className:Z.closeButton,onClick:function(){return Xe(!1)},children:Object(M.jsx)(B.a,{})})]}),Object(M.jsxs)(_.a,{children:[Object(M.jsx)(P.a,{variant:"h6",children:"There is one phase."}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"You contribute. When you do for a particular game the ranges increase and the entry into all games is reduced a bit."}),Object(M.jsx)(P.a,{variant:"h6",children:"Phase 2 - Not Really"}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Anyone can press the magic button, release winnings to our lucky frien, 10% stays behind to seed the next game tho."}),Object(M.jsx)(P.a,{variant:"h6",children:"Btw"}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Any bid of any amount will let you win, if nobody bids before the timer runs out. Glhf."}),Object(M.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Nothng I should ever do or say is not financial advice of any kind, I'm not qualified."})]})]})]})})}),We&&Object(M.jsx)(j.a,{maxWidth:"xs",style:{position:"relative",marginTop:10},children:Object(M.jsx)("div",{style:{margin:20},children:Object(M.jsxs)(T.a,{container:!0,direction:"row",wrap:"nowrap",children:[Object(M.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(M.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Bids"}),Object(M.jsx)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:(null===We||void 0===We?void 0:We.state.numberTicketsSold.toNumber())||0})]}),Object(M.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(M.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Median bid"}),Object(M.jsxs)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce ",q.c.format(st)]})]}),Object(M.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(M.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Total raised"}),Object(M.jsxs)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce"," ",q.c.format(((null===We||void 0===We?void 0:We.treasury)||0)/I.LAMPORTS_PER_SOL)]})]})]})})}),Object(M.jsx)(k.a,{open:Ke.open,autoHideDuration:6e3,onClose:function(){return _e(Object(d.a)(Object(d.a)({},Ke),{},{open:!1}))},children:Object(M.jsx)(W.a,{onClose:function(){return _e(Object(d.a)(Object(d.a)({},Ke),{},{open:!1}))},severity:Ke.severity,children:Ke.message})})]})},te=n(33),ne=n(232),re=n(121),ae=n(777),ie=n(486),oe=s.a.createContext(null),ce=function(e){var t=e.children,n=void 0===t?null:t,r=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useMemo)((function(){return function(){var e;a.current&&r.current&&(r.current.style.visibility="visible",null===(e=a.current({particleCount:400,spread:160,origin:{y:.3}}))||void 0===e||e.finally((function(){r.current&&(r.current.style.visibility="hidden")})))}}),[]);Object(c.useEffect)((function(){r.current&&!a.current&&(r.current.style.visibility="hidden",a.current=ie.a.create(r.current,{resize:!0,useWorker:!0}))}),[]);return Object(M.jsxs)(oe.Provider,{value:{dropConfetti:i},children:[Object(M.jsx)("canvas",{ref:r,style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1,top:0,left:0}}),n]})},se=Object(re.b)({palette:{type:"dark"}}),ue=void 0,le=new te.e.PublicKey("B66RU2vxEkdXkoYAqZ5EUGkqWRxqStraXTGUUiyyQcbA"),de=new te.e.PublicKey("8KiVaECdXDWdDpnVZ7aZk64UUsZowRNwELqPAKSA4SUZ"),be=new te.e.PublicKey("HPHJ4ycW7tAm5jJBtX4MH9j3pHTKzkfkMb7DNRv7M4Fy"),he=new te.e.PublicKey("2amHUBC1X2WCFX42wbN1Mrva7q2XZRz2Ng7wNgUvk8H1"),pe=new te.e.Connection("https://lingering-red-sunset.solana-mainnet.quiknode.pro/ccc9c7d33d9ab61de4b5e372978fcda0d9bb00d9/"),fe=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"",REACT_APP_FAIR_LAUNCH_ID:"B66RU2vxEkdXkoYAqZ5EUGkqWRxqStraXTGUUiyyQcbA",REACT_APP_FAIR_LAUNCH_ID2:"8KiVaECdXDWdDpnVZ7aZk64UUsZowRNwELqPAKSA4SUZ",REACT_APP_FAIR_LAUNCH_ID3:"HPHJ4ycW7tAm5jJBtX4MH9j3pHTKzkfkMb7DNRv7M4Fy",REACT_APP_FAIR_LAUNCH_ID4:"2amHUBC1X2WCFX42wbN1Mrva7q2XZRz2Ng7wNgUvk8H1",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://lingering-red-sunset.solana-mainnet.quiknode.pro/ccc9c7d33d9ab61de4b5e372978fcda0d9bb00d9/"}).REACT_APP_CANDY_START_DATE,10),ge=3e4,ve=function(){var e=Object(c.useMemo)((function(){return Object(I.clusterApiUrl)("mainnet-beta")}),[]),t=Object(c.useMemo)((function(){return[Object(ne.getPhantomWallet)(),Object(ne.getSolflareWallet)(),Object(ne.getSolletWallet)()]}),[]);return Object(M.jsx)(ae.a,{theme:se,children:Object(M.jsx)(U.ConnectionProvider,{endpoint:e,children:Object(M.jsx)(U.WalletProvider,{wallets:t,autoConnect:!0,children:Object(M.jsxs)(H.WalletDialogProvider,{children:[Object(M.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 1"}),Object(M.jsx)(ce,{children:Object(M.jsx)(ee,{candyMachineId:ue,fairLaunchId:le,connection:pe,startDate:fe,txTimeout:ge})})]}),Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 2"}),Object(M.jsx)(ce,{children:Object(M.jsx)(ee,{candyMachineId:ue,fairLaunchId:de,connection:pe,startDate:fe,txTimeout:ge})})]})]}),Object(M.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 3"}),Object(M.jsx)(ce,{children:Object(M.jsx)(ee,{candyMachineId:ue,fairLaunchId:be,connection:pe,startDate:fe,txTimeout:ge})})]}),Object(M.jsxs)("div",{style:{display:"inline"},children:[Object(M.jsx)("div",{style:{textAlign:"center"},children:"Team 4"}),Object(M.jsx)(ce,{children:Object(M.jsx)(ee,{candyMachineId:ue,fairLaunchId:he,connection:pe,startDate:fe,txTimeout:ge})})]})]})]})})})})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,793)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};l.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(ve,{})}),document.getElementById("root")),me()}},[[759,1,2]]]);
//# sourceMappingURL=main.08f7ef82.chunk.js.map