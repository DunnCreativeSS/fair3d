(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{151:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return k}));var r,a=n(18),i=(n(10),n(227),n(1)),o=n.n(i),c=n(20),s=n(3),u=n(29),l=n(51),d=n(46),b=n(45),h=new u.e.PublicKey("HJdkPPVzo5YKBRQoswT5eaH8eATYCiATbDQchmNtBrav"),p=(new u.e.PublicKey("48CKQtggrtWGSwhxUUkV4Kvh3oF9UtyPcwWyT6skT4Wf"),new u.e.PublicKey("EMHGix4Junr32h7Pt3QecDo3hD6tbf9jsD8xdQ3FBXSz")),f=new u.e.PublicKey("7RkR7koqCow45V41pjpsyoH1pPa3QPKfmNWTAXVzmycQ"),g=new u.e.PublicKey("Bu6bEU8bwVURLswnnK6jhM7WQH3xtJY3dSxmwXcqu61o");!function(e){e.Brewing="Brewing",e.Finished="Finished",e.PastDue="Past Due"}(r||(r={}));var v=function(){var e=Object(s.a)(o.a.mark((function e(t,n,r){var a,i,s,l,d,b,p,f,g,v,m,x,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new u.c(r,t,{preflightCommitment:"recent"}),e.next=3,u.b.fetchIdl(h,a);case 3:return i=e.sent,s=new u.b(i,h,a),e.next=7,s.account.fairLaunch.fetch(n);case 7:return l=e.sent,console.log("afuck"),console.log(l.authority.toBase58()),e.next=12,y(l.tokenMint,t.publicKey);case 12:return d=e.sent,b=Object(c.a)(d,2),p=b[0],f=b[1],e.prev=16,e.next=19,s.account.fairLaunchTicket.fetch(p);case 19:g=e.sent,e.next=25;break;case 22:e.prev=22,e.t0=e.catch(16),console.log("No ticket");case 25:return e.next=27,s.provider.connection.getBalance(l.treasury);case 27:return v=e.sent,m=new Uint8Array([]),e.next=31,j(l.tokenMint);case 31:return x=e.sent[0],e.prev=32,e.next=35,s.provider.connection.getAccountInfo(x);case 35:O=e.sent,m=new Uint8Array((null===O||void 0===O?void 0:O.data)||[]),e.next=43;break;case 39:e.prev=39,e.t1=e.catch(32),console.log("Could not find fair launch lottery."),console.log(e.t1);case 43:return e.abrupt("return",{id:n,state:l,program:s,ticket:{pubkey:p,bump:f,data:g},lottery:{pubkey:x,data:m},treasury:v});case 44:case"end":return e.stop()}}),e,null,[[16,22],[32,39]])})));return function(t,n,r){return e.apply(this,arguments)}}();var m=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,i,c,s,h,p,f,g,v,m,O,k,w,P,S,T;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n.state.tokenMint,t.publicKey);case 2:return r=e.sent[0],i=n.ticket.data,e.next=6,j(n.state.tokenMint);case 6:return c=e.sent[0],e.next=9,Object(b.d)(n.state.tokenMint,t.publicKey);case 9:if(s=e.sent[0],!(null===i||void 0===i?void 0:i.amount.gt(n.state.currentMedian))){e.next=44;break}return h=n.program,n.publicKey,p=n.state,e.next=16,j(p.tokenMint);case 16:return f=e.sent[0],e.next=19,h.provider.connection.getAccountInfo(f);case 19:e.sent,g=[],v=0;case 22:if(!(v<p.numberTicketsSold)){e.next=31;break}return e.t0=g,e.next=26,Object(b.e)(p.tokenMint,new u.a(v));case 26:e.t1=e.sent[0],e.t0.push.call(e.t0,e.t1);case 28:v++,e.next=22;break;case 31:return console.log(g),m=g[Math.floor(Math.random()*g.length)],console.log(m),console.log(1),console.log("Adjusting down...",null===i||void 0===i?void 0:i.amount.toNumber(),n.state.currentMedian.toNumber()),e.next=38,x(n.program,n.state.currentMedian.toNumber(),t,n,r);case 38:return O=e.sent,k=O.remainingAccounts,w=O.instructions,P=O.signers,e.next=44,n.program.rpc.adjustTicket(n.state.currentMedian,{accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:f,treasury:n.state.treasury,buyer:t.publicKey,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},instructions:w.length>0?w:void 0,remainingAccounts:[{pubkey:t.publicKey,isSigner:!0,isWritable:!0}].concat(Object(a.a)(k)),signers:P});case 44:return e.next=46,n.program.provider.connection.getAccountInfo(s);case 46:return S=e.sent,T=S?[]:[Object(b.b)(s,t.publicKey,t.publicKey,n.state.tokenMint)],e.next=50,n.program.rpc.punchTicket({accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:c,payer:t.publicKey,buyerTokenAccount:s,tokenMint:n.state.tokenMint,tokenProgram:l.b,treasury:n.state.treasury,systemProgram:u.e.SystemProgram.programId,dev:new d.PublicKey("6X3oVE5Hq923M2UEJregoA7zLxuc2jXcJJegpy24pb2T"),buyer:t.publicKey},instructions:T.length>0?T:void 0});case 50:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var t=Object(s.a)(o.a.mark((function t(n,r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toBuffer()],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),j=function(){var t=Object(s.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),e.from("lottery")],h);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(o.a.mark((function e(t,n,r,a,i){var s,l,h,p,f,g,v,m,y,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",{remainingAccounts:[],instructions:[],signers:[],amountLamports:0});case 2:if(s=a.ticket,console.log(1),console.log(s),l=[],h=[],p=[],f=0,f=0==n?a.state.data.priceRangeStart.toNumber():n*d.LAMPORTS_PER_SOL,console.log(s.data),!s.data){e.next=27;break}return e.next=14,Object(b.e)(a.state.tokenMint,null===(g=s.data)||void 0===g?void 0:g.seq);case 14:return v=e.sent,m=Object(c.a)(v,2),y=m[0],j=m[1],e.next=20,a.program.provider.connection.getAccountInfo(y);case 20:if(e.sent){e.next=27;break}return e.t0=h,e.next=25,a.program.instruction.createTicketSeq(j,{accounts:{fairLaunchTicketSeqLookup:y,fairLaunch:a.id,fairLaunchTicket:i,payer:r.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY},signers:[]});case 25:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 27:return e.abrupt("return",{remainingAccounts:l,instructions:h,signers:p,amountLamports:f});case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(o.a.mark((function e(t,n){var r,a,i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.d)(n.state.tokenMint,t.publicKey);case 4:if(r=e.sent[0],a=u.e.Keypair.generate(),i=[a],c=[l.c.createApproveInstruction(l.b,r,a.publicKey,t.publicKey,[],1)],s=[],!n.state.treasuryMint){e.next=17;break}return s.push({pubkey:n.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=s,e.next=14,Object(b.d)(n.state.treasuryMint,t.publicKey);case 14:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2);case 17:return console.log("tfr",n.state.treasury.toBase58(),t.publicKey.toBase58(),r.toBase58()),e.next=20,n.program.rpc.receiveRefund({accounts:{fairLaunch:n.id,treasury:n.state.treasury,buyer:t.publicKey,buyerTokenAccount:r,transferAuthority:a.publicKey,tokenMint:n.state.tokenMint,tokenProgram:l.b,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:s,instructions:c,signers:i});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(o.a.mark((function e(t,n,r){var a,i,s,l,b,h,v,m,j,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return r.ticket.data,r.program,r.publicKey,a=r.state,e.next=8,y(r.state.tokenMint,n.publicKey);case 8:return i=e.sent,s=Object(c.a)(i,2),l=s[0],b=s[1],e.next=14,x(r.program,t,n,r,l);case 14:return h=e.sent,v=h.remainingAccounts,m=h.instructions,j=h.signers,O=h.amountLamports,0==t&&(O=0),e.next=22,r.program.rpc.purchaseTicket(b,new u.a(O),{accounts:{fairLaunchTicket:l,fairLaunch:r.id,fairLaunch2:p,fairLaunch3:f,fairLaunch4:g,tokenMint:a.tokenMint,authority:a.authority,treasury:r.state.treasury,buyer:n.publicKey,payer:n.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY,clock:u.e.SYSVAR_CLOCK_PUBKEY,dev:a.dev,stranger:new d.PublicKey("6X3oVE5Hq923M2UEJregoA7zLxuc2jXcJJegpy24pb2T"),arandom:new d.PublicKey("6X3oVE5Hq923M2UEJregoA7zLxuc2jXcJJegpy24pb2T"),fuckboi:new u.e.PublicKey("FubJLhprTzFDddPafdiRKXfN6dypyF1jLwZA9i2Cm7R9")},__private:{logAccounts:!0},remainingAccounts:v,signers:j,instructions:m.length>0?m:void 0});case 22:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}).call(this,n(6).Buffer)},231:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n(1),a=n.n(r),i=n(3),o=n(29),c=n(51),s=n(46),u=n(482),l=n(45),d=new o.e.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),b=new o.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),h=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var o,c,s,u,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",o=l.length>4&&void 0!==l[4]&&l[4],c=!1,s={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(i.a)(a.a.mark((function e(u,l){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){c||(c=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(c||!o){e.next=7;break}return Object(i.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,s=n&&n.value[0],c||(s?s.err?(console.log("REST error for",t,s),c=!0,l(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),c=!0,u(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,y(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return s=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),c=!0,console.log("Returning status",s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:o.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new o.e.TransactionInstruction({keys:i,programId:l.a,data:e.from([])})},f=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var i,c,s,u,l,b,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new o.c(r,t,{preflightCommitment:"recent"}),e.next=3,o.b.fetchIdl(d,i);case 3:return c=e.sent,s=new o.b(c,d,i),e.next=7,s.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),b=u.itemsRedeemed.toNumber(),h=l-b,e.abrupt("return",{id:n,program:s,state:{itemsAvailable:l,itemsRedeemed:b,itemsRemaining:h,isSoldOut:0===h,isActive:u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,config:u.config,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer(),e.from("edition")],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i,d,h,f,m,y,j,x,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.e.Keypair.generate(),e.next=3,Object(l.d)(r.publicKey,n);case 3:return i=e.sent[0],e.next=6,Object(l.d)(t.state.tokenMint,n);case 6:return d=e.sent[0],h=t.id,f=[],m=[r],e.t0=o.e.SystemProgram,e.t1=n,e.t2=r.publicKey,e.t3=c.a.span,e.next=16,t.program.provider.connection.getMinimumBalanceForRentExemption(c.a.span);case 16:return e.t4=e.sent,e.t5=c.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=c.c.createInitMintInstruction(c.b,r.publicKey,0,n,n),e.t9=p(i,n,n,r.publicKey),e.t10=c.c.createMintToInstruction(c.b,r.publicKey,i,n,[],1),y=[e.t7,e.t8,e.t9,e.t10],t.state.tokenMint&&(j=o.e.Keypair.generate(),m.push(j),f.push({pubkey:d,isWritable:!0,isSigner:!1}),f.push({pubkey:j.publicKey,isWritable:!1,isSigner:!0}),y.push(c.c.createApproveInstruction(c.b,d,j.publicKey,n,[],t.state.price.toNumber()))),e.next=27,v(r.publicKey);case 27:return x=e.sent,e.next=30,g(r.publicKey);case 30:return O=e.sent,e.t11=y,e.next=34,t.program.instruction.mintNft({accounts:{config:t.state.config,candyMachine:h,payer:n,wallet:t.state.treasury,mint:r.publicKey,metadata:x,masterEdition:O,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:b,tokenProgram:c.b,systemProgram:s.SystemProgram.programId,rent:o.e.SYSVAR_RENT_PUBKEY,clock:o.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:f.length>0?f:void 0});case 34:return e.t12=e.sent,e.t11.push.call(e.t11,e.t12),e.prev=37,e.next=40,Object(u.a)(t.program.provider.connection,t.program.provider.wallet,y,m);case 40:return e.abrupt("return",e.sent.txid);case 43:e.prev=43,e.t13=e.catch(37),console.log(e.t13);case 46:return e.abrupt("return","j");case 47:case"end":return e.stop()}}),e,null,[[37,43]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(6).Buffer)},45:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g}));var r=n(1),a=n.n(r),i=n(3),o=n(29),c=n(51),s=n(46),u=new o.e.PublicKey("HJdkPPVzo5YKBRQoswT5eaH8eATYCiATbDQchmNtBrav"),l=function(e){if(e)return new Date(1e3*e.toNumber())},d=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),b={format:function(e){return e?d.format(e):"--"},asInteger:function(e){return e?e.toNumber():1},asNumber:function(e){if(e)return e.toNumber()/s.LAMPORTS_PER_SOL}},h=new o.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),p=function(){var t=Object(i.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toArrayLike(e,"le",8)],u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.e.PublicKey.findProgramAddress([n.toBuffer(),c.b.toBuffer(),t.toBuffer()],h);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function g(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:c.b,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:i,programId:h,data:e.from([])})}}).call(this,n(6).Buffer)},482:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(18),i=n(1),o=n.n(i),c=n(3),s=n(46),u=n(65);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var l=function(){var e=Object(c.a)(o.a.mark((function e(t,n,r,i){var c,l,d,b,p,f,g,v,m,y,j,x=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=x.length>4&&void 0!==x[4]?x[4]:"singleGossip",l=x.length>5&&void 0!==x[5]&&x[5],d=x.length>6?x[6]:void 0,b=x.length>7?x[7]:void 0,n.publicKey){e.next=6;break}throw new u.WalletNotConnectedError;case 6:if(p=new s.Transaction,r.forEach((function(e){return p.add(e)})),e.t0=d,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(c);case 12:e.t0=e.sent;case 13:if(p.recentBlockhash=e.t0.blockhash,l?(f=p).setSigners.apply(f,Object(a.a)(i.map((function(e){return e.publicKey})))):(g=p).setSigners.apply(g,[n.publicKey].concat(Object(a.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(v=p).partialSign.apply(v,Object(a.a)(i)),l){e.next=20;break}return e.next=19,n.signTransaction(p);case 19:p=e.sent;case 20:return b&&b(),e.next=23,h({connection:t,signedTransaction:p});case 23:return m=e.sent,y=m.txid,j=m.slot,e.abrupt("return",{txid:y,slot:j});case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},b=15e3;function h(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(o.a.mark((function e(t){var n,r,a,i,s,u,l,h,p,g,m,j,x;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,i=void 0===a?b:a,s=n.serialize(),u=d(),l=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return h=e.sent,console.log("Started awaiting confirmation for",h),p=!1,Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p||!(d()-u<i)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,y(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,v(h,i,r,"recent",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!g.err){e.next=19;break}throw console.error(g.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===g||void 0===g?void 0:g.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return m=null,e.prev=28,e.next=31,f(r,n,"single");case 31:m=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!m||!m.err){e.next=47;break}if(!m.logs){e.next=46;break}j=m.logs.length-1;case 39:if(!(j>=0)){e.next=46;break}if(!(x=m.logs[j]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+x.slice("Program log: ".length));case 43:--j,e.next=39;break;case 46:throw new Error(JSON.stringify(m.err));case 47:return e.prev=47,p=!0,e.finish(47);case 50:return console.log("Latency",h,d()-u),e.abrupt("return",{txid:h,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function f(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(o.a.mark((function e(t,n,r){var a,i,c,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),c=i.toString("base64"),s=[c,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(c.a)(o.a.mark((function e(t,n,r){var a,i,s,u,l,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(c.a)(o.a.mark((function e(d,b){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(h){s=!0,console.error("WS error in setup",t,h)}case 2:if(s||!i){e.next=8;break}return Object(c.a)(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,y(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function y(e){return new Promise((function(t){return setTimeout(t,e)}))}},508:function(e,t,n){},509:function(e,t,n){},510:function(e,t){},512:function(e,t){},528:function(e,t){},529:function(e,t){},654:function(e,t){},656:function(e,t){},670:function(e,t){},674:function(e,t){},676:function(e,t){},687:function(e,t){},689:function(e,t){},716:function(e,t){},718:function(e,t){},723:function(e,t){},725:function(e,t){},732:function(e,t){},744:function(e,t){},747:function(e,t){},759:function(e,t){},760:function(e,t,n){"use strict";n.r(t);var r,a,i,o,c=n(5),s=n.n(c),u=n(41),l=n.n(u),d=(n(508),n(509),n(10)),b=n(1),h=n.n(b),p=n(3),f=n(20),g=n(230),v=n(174),m=n(793),y=n(782),j=n(789),x=n(781),O=n(779),k=n(790),w=n(46),P=n(780),S=n(492),T=n(495),A=n(788),R=n(478),L=n(303),K=n(400),E=n(19),_=Object(K.a)((function(e){return Object(R.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),M=function(e){var t=e.date,n=e.status,r=e.style,a=e.start,i=e.end,o=e.onComplete,s=_(),u=Object(c.useState)(!!(a&&i&&t)&&a.getTime()-Date.now()<0),l=Object(f.a)(u,2),d=l[0],b=(l[1],function(e){var t=e.days,a=e.hours,i=e.minutes,o=e.seconds;return a+=24*t,e.completed?n?Object(E.jsx)("span",{className:s.done,children:n}):null:Object(E.jsxs)("div",{className:s.root,style:r,children:[d&&Object(E.jsx)(S.a,{elevation:0,children:Object(E.jsx)("span",{className:s.item,children:"+"})}),Object(E.jsxs)(S.a,{elevation:0,children:[Object(E.jsx)("span",{className:s.item,children:a<10?"0".concat(a):a}),Object(E.jsx)("span",{children:"hrs"})]}),Object(E.jsxs)(S.a,{elevation:0,children:[Object(E.jsx)("span",{className:s.item,children:i<10?"0".concat(i):i}),Object(E.jsx)("span",{children:"mins"})]}),Object(E.jsxs)(S.a,{elevation:0,children:[Object(E.jsx)("span",{className:s.item,children:o<10?"0".concat(o):o}),Object(E.jsx)("span",{children:"secs"})]})]})});return t&&a&&i&&d&&L.a,t?Object(E.jsx)(L.a,{date:t,onComplete:o,renderer:b}):null},C=n(783),B=n(787),I=n(786),N=n(300),W=n.n(N),D=n(791),F=n(102),U=n(217),Y=n(231),H=n(151),z=n(45),V=Object(v.a)(U.WalletDialogButton)(r||(r=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),q=v.a.div(a||(a=Object(g.a)([""]))),Q=Object(v.a)(P.a)(i||(i=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),J=function(e){return Object(R.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})},X=Object(v.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});!function(e){e[e.Phase0=0]="Phase0",e[e.Phase1=1]="Phase1",e[e.Phase2=2]="Phase2",e[e.Lottery=3]="Lottery",e[e.Phase3=4]="Phase3",e[e.Phase4=5]="Phase4",e[e.Unknown=6]="Unknown"}(o||(o={}));var G=function(e,t){var n,r,a;if(console.log(t),t>0)return!0;if(!(null===e||void 0===e?void 0:e.lottery.data)||!(null===e||void 0===e?void 0:e.lottery.data.length)||!(null===e||void 0===e||null===(n=e.ticket.data)||void 0===n?void 0:n.seq)||!(null===e||void 0===e?void 0:e.state.phaseThreeStarted))return console.log("false"),!1;var i=e.lottery.data[49+Math.floor((null===(r=e.ticket.data)||void 0===r?void 0:r.seq.toNumber())/8)],o=7-(null===(a=e.ticket.data)||void 0===a?void 0:a.seq.toNumber())%8,c=i&Math.pow(2,o);return c>0};var Z=function(e){var t,n,r,a,i,s,u,l,b,g,v,m,P,R,L,K,_,N,U,Z,$,ee,te,ne=Object(c.useState)(0),re=Object(f.a)(ne,2),ae=re[0],ie=(re[1],Object(c.useState)(null)),oe=Object(f.a)(ie,2),ce=(oe[0],oe[1],Object(c.useState)(!1)),se=Object(f.a)(ce,2),ue=se[0],le=se[1],de=Object(c.useState)(0),be=Object(f.a)(de,2),he=be[0],pe=be[1],fe=Object(F.useWallet)(),ge=Object(c.useMemo)((function(){if(fe&&fe.publicKey&&fe.signAllTransactions&&fe.signTransaction)return{publicKey:fe.publicKey,signAllTransactions:fe.signAllTransactions,signTransaction:fe.signTransaction}}),[fe]),ve=Object(c.useState)({open:!1,message:"",severity:void 0}),me=Object(f.a)(ve,2),ye=me[0],je=me[1],xe=Object(c.useState)(),Oe=Object(f.a)(xe,2),ke=Oe[0],we=Oe[1],Pe=Object(c.useState)(),Se=Object(f.a)(Pe,2),Te=Se[0],Ae=Se[1],Re=Object(c.useState)(!1),Le=Object(f.a)(Re,2),Ke=Le[0],Ee=Le[1],_e=Object(c.useState)(!1),Me=Object(f.a)(_e,2),Ce=Me[0],Be=Me[1],Ie=Object(c.useState)(!1),Ne=Object(f.a)(Ie,2),We=Ne[0],De=Ne[1],Fe=function(){var t=Object(p.a)(h.a.mark((function t(){var n,r,a,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,le(!0),!(fe.connected&&(null===Te||void 0===Te?void 0:Te.program)&&fe.publicKey)){t.next=13;break}if(!(null===ke||void 0===ke||null===(n=ke.ticket.data)||void 0===n?void 0:n.state.unpunched)||!G(ke,ae)){t.next=6;break}return t.next=6,Je();case 6:return t.next=8,Object(Y.c)(Te,fe.publicKey);case 8:return r=t.sent,t.next=11,Object(Y.a)(r,e.txTimeout,e.connection,"singleGossip",!1);case 11:(null===(a=t.sent)||void 0===a?void 0:a.err)?je({open:!0,message:"Mint failed! Please try again!",severity:"error"}):je({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"});case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),i=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(i="SOLD OUT!",window.location.reload()):312===t.t0.code&&(i="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?i="SOLD OUT!":t.t0.message.indexOf("0x135")&&(i="Insufficient funds to mint. Please fund your wallet.")):i="Transaction Timeout! Please try again.",je({open:!0,message:i,severity:"error"});case 20:return t.prev=20,le(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,15,20,23]])})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){Object(p.a)(h.a.mark((function t(){var n,r,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ge){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Object(H.a)(ge,e.fairLaunchId,e.connection);case 5:n=t.sent,we(n),(null===ke||void 0===ke?void 0:ke.ticket.data)?pe((null===ke||void 0===ke?void 0:ke.state.currentHighest)/w.LAMPORTS_PER_SOL+z.c.asNumber(null===ke||void 0===ke?void 0:ke.state.data.tickSize)-(null===ke||void 0===ke||null===(r=ke.ticket.data)||void 0===r?void 0:r.amount.toNumber())/w.LAMPORTS_PER_SOL):pe((null===ke||void 0===ke?void 0:ke.state.currentHighest)/w.LAMPORTS_PER_SOL+z.c.asNumber(null===ke||void 0===ke?void 0:ke.state.data.tickSize)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("Problem getting fair launch state"),console.log(t.t0);case 14:if(!e.candyMachineId){t.next=28;break}return t.prev=15,t.next=18,Object(Y.b)(ge,e.candyMachineId,e.connection);case 18:a=t.sent,Ae(a),t.next=26;break;case 22:t.prev=22,t.t1=t.catch(15),console.log("Problem getting candy machine state"),console.log(t.t1);case 26:t.next=29;break;case 28:console.log("No candy machine detected in configuration.");case 29:case"end":return t.stop()}}),t,null,[[2,10],[15,22]])})))()}),[ge,e.candyMachineId,e.connection,e.fairLaunchId]);var Ue=z.c.asNumber(null===ke||void 0===ke?void 0:ke.state.data.priceRangeStart),Ye=z.c.asNumber(null===ke||void 0===ke?void 0:ke.state.data.priceRangeEnd),He=z.c.asNumber(null===ke||void 0===ke?void 0:ke.state.data.tickSize),ze=z.c.asNumber(null===ke||void 0===ke?void 0:ke.state.currentMedian),Ve=(null===ke||void 0===ke?void 0:ke.state.currentHighest)/w.LAMPORTS_PER_SOL;z.c.asInteger(null===ke||void 0===ke?void 0:ke.state.data.numberOfTokens);console.log(Ue);var qe=[{value:Ve||0,label:"Winning Bid: ".concat(Ve," SOL")}].filter((function(e){return void 0!==e})),Qe=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge){e.next=2;break}return e.abrupt("return");case 2:return console.log("deposit"),le(!0),console.log(ke.state.authority.toBase58()),console.log(ge.publicKey.toBase58()),e.prev=6,t=(null===ke||void 0===ke||ke.ticket.data,(null===ke||void 0===ke?void 0:ke.state.currentHighest)/w.LAMPORTS_PER_SOL+.0138),console.log("cont2: "+t.toString()),e.next=11,Object(H.c)(t,ge,ke);case 11:le(!1),je({open:!0,message:"Congratulations! Bid ".concat((null===ke||void 0===ke?void 0:ke.ticket.data)?"updated":"inserted","!"),severity:"success"}),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0),le(!1),je({open:!0,message:"Something went wrong.",severity:"error"});case 20:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge&&ke&&ke.ticket){e.next=2;break}return e.abrupt("return");case 2:return console.log("punch"),le(!0),e.prev=4,e.next=7,Object(H.b)(ge,ke);case 7:le(!1),je({open:!0,message:"Congratulations! Ticket punched!",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),le(!1),je({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),Xe=function(e,t){var n,r,a,i,c=(new Date).getTime(),s=null===(n=Object(z.f)(null===e||void 0===e?void 0:e.state.data.phaseOneStart))||void 0===n?void 0:n.getTime(),u=null===(r=Object(z.f)(null===e||void 0===e?void 0:e.state.data.phaseOneEnd))||void 0===r?void 0:r.getTime(),l=null===(a=Object(z.f)(null===e||void 0===e?void 0:e.state.data.phaseTwoEnd))||void 0===a?void 0:a.getTime(),d=null===(i=Object(z.f)(null===t||void 0===t?void 0:t.state.goLiveDate))||void 0===i?void 0:i.getTime();return s&&c<s?o.Phase0:u&&c<=u?o.Phase1:l&&c<=l?o.Phase2:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?(null===e||void 0===e?void 0:e.state.phaseThreeStarted)&&d&&c>d?o.Phase4:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?o.Phase3:o.Unknown:o.Lottery}(ke,Te);console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury),console.log(null===ke||void 0===ke?void 0:ke.treasury);(null===Te||void 0===Te?void 0:Te.state.goLiveDate)&&(null===ke||void 0===ke?void 0:ke.state.data.phaseTwoEnd)&&(null===Te||void 0===Te||Te.state.goLiveDate.lt(null===ke||void 0===ke?void 0:ke.state.data.phaseTwoEnd));return void 0!=ke&&console.log(ke.ticket),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(y.a,{style:{marginTop:0},children:[Object(E.jsx)(y.a,{maxWidth:"xl",style:{position:"relative"},children:Object(E.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-end"},children:Object(E.jsx)(j.a,{component:"button",variant:"body2",color:"textSecondary",align:"right",onClick:function(){De(!0)},children:"gm :) Each of these games are separate, yet related. Remember to refresh,..."})})}),Object(E.jsx)(y.a,{maxWidth:"xl",style:{position:"relative"},children:Object(E.jsx)(S.a,{style:{padding:24,backgroundColor:"#151A1F",borderRadius:6},children:Object(E.jsxs)(A.a,{children:[ke&&Object(E.jsx)("div",{}),ke&&Object(E.jsxs)(A.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:200,marginTop:0,marginBottom:0,background:"#384457",borderRadius:6},children:[Object(E.jsxs)(T.a,{variant:"h6",style:{fontWeight:900},children:["Out of ",(null===ke||void 0===ke?void 0:ke.state.numberTicketsSold.toNumber())||0," bids,"]}),Object(E.jsxs)(T.a,{variant:"h5",style:{fontWeight:900},children:[ke.state.authority.toBase58().slice(0,3)+"..."+ke.state.authority.toBase58().slice(ke.state.authority.toBase58().length-3,ke.state.authority.toBase58().length)," ","is Going to Win 1st Prize of \u25ce","",(null===ke||void 0===ke?void 0:ke.treasury)/1e9,"! If nobody outbids 'em in"]}),Object(E.jsx)(M,{date:Object(z.f)(null===ke||void 0===ke?void 0:ke.state.data.phaseOneEnd),style:{justifyContent:"flex-end"},status:"Time...  "}),[o.Phase2].includes(Xe)?Object(E.jsx)(T.a,{children:"Press this button, winner gets the pot and we start over :)"}):[o.Phase0,o.Phase1].includes(Xe)&&!ke.ticket.data?Object(E.jsx)(E.Fragment,{children:" "}):[o.Phase0,o.Phase1].includes(Xe)&&ke.ticket.data?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(T.a,{variant:"h6",style:{fontWeight:900},children:["Your bid: ",z.c.format(((null===ke||void 0===ke||null===(t=ke.ticket.data)||void 0===t?void 0:t.amount.toNumber())||0)/w.LAMPORTS_PER_SOL)," ","SOL"]})}):[o.Phase2].includes(Xe)&&ke.ticket.data&&(null===ke||void 0===ke||null===(n=ke.ticket.data)||void 0===n?void 0:n.amount.toNumber())<ze?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(T.a,{children:"Your bid"}),Object(E.jsxs)(T.a,{variant:"h6",style:{fontWeight:900},children:[z.c.format(((null===ke||void 0===ke||null===(r=ke.ticket.data)||void 0===r?void 0:r.amount.toNumber())||0)/w.LAMPORTS_PER_SOL)," ","SOL"]}),Object(E.jsx)(T.a,{children:"Median Bid - The Minimum To Qualify For A Chance At Bidders Sharing 33% Of The Pot :)"}),Object(E.jsxs)(T.a,{variant:"h6",style:{fontWeight:900},children:[z.c.format((ze||0)/w.LAMPORTS_PER_SOL)," ","SOL"]}),Object(E.jsx)(T.a,{children:"Congrats on your bid! The Authority is now chosen and will win 66% of the pot. If you want a chance to win a share of what remains in the pot, adjust bid. GLHF!"})]}):[o.Phase2].includes(Xe)&&ke.ticket.data&&(null===ke||void 0===ke||null===(a=ke.ticket.data)||void 0===a?void 0:a.amount.toNumber())>=ze?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Q,{onClick:Qe,variant:"contained",x:!0,children:"'Someone won! Press this button! (but only from a brand-new wallet...)'"})})]}),ke&&Object(E.jsxs)(E.Fragment,{children:[[o.Phase1,o.Phase2,o.Phase3,o.Lottery].includes(Xe)&&(null===ke||void 0===ke||null===(i=ke.ticket)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.state.withdrawn)&&Object(E.jsx)("div",{style:{paddingTop:"15px"},children:Object(E.jsx)(D.a,{severity:"error",children:"Your bid was withdrawn and cannot be adjusted or re-inserted."})}),[o.Phase1,o.Phase2].includes(Xe)&&ke.state.currentMedian&&(null===ke||void 0===ke||null===(u=ke.ticket)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.amount)&&!(null===ke||void 0===ke||null===(b=ke.ticket)||void 0===b||null===(g=b.data)||void 0===g?void 0:g.state.withdrawn)&&ke.state.currentMedian.gt(null===ke||void 0===ke||null===(v=ke.ticket)||void 0===v||null===(m=v.data)||void 0===m?void 0:m.amount)&&Object(E.jsx)("div",{style:{paddingTop:"15px"},children:Object(E.jsx)(D.a,{severity:"warning",children:"Your bid is currently below the average bid and will not be eligible for any prize: not 1st place, none of the runner-ups, and none of the lucky 10% off each new bid :(."})}),[o.Phase3,o.Phase4,o.Lottery].includes(Xe)&&ke.state.currentMedian&&(null===ke||void 0===ke||null===(P=ke.ticket)||void 0===P||null===(R=P.data)||void 0===R?void 0:R.amount)&&!(null===ke||void 0===ke||null===(L=ke.ticket)||void 0===L||null===(K=L.data)||void 0===K?void 0:K.state.withdrawn)&&ke.state.currentMedian.gt(null===ke||void 0===ke||null===(_=ke.ticket)||void 0===_||null===(N=_.data)||void 0===N?void 0:N.amount)&&Object(E.jsx)("div",{style:{paddingTop:"15px"},children:Object(E.jsx)(D.a,{severity:"error",children:"Your bid wasn't the newest highest bid - you didn't win 66% of the treasurypot! Your bid was below the median bid and was not included in the lottery to win a chance of 33% of the pot."})}),false]}),[o.Phase1,o.Phase2].includes(Xe)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(A.a,{style:{marginTop:0,marginBottom:0},children:Object(E.jsx)(X,{min:Ye,marks:qe,max:Ye,step:He,value:he,onChange:function(e,t){return pe(t)},valueLabelDisplay:"auto",style:{display:"none",width:"calc(100% - 40px)",marginLeft:20,height:30}})})}),fe.connected?Object(E.jsxs)("div",{children:[[o.Phase1].includes(Xe)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Q,{onClick:Qe,variant:"contained",disabled:ue||!(null===ke||void 0===ke?void 0:ke.ticket.data)&&Xe===o.Phase2||false,children:ue?Object(E.jsx)(x.a,{}):(null===ke||void 0===ke?void 0:ke.ticket.data)?"only new bids count :)":"Become Winner? \u25ce"+(Ve+.0138).toPrecision(9).toString()})}),!fe.connected&&Object(E.jsxs)(V,{children:["Connect"," ",[o.Phase1].includes(Xe)?"to bid":"to see status"]}),[o.Phase2].includes(Xe)&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(Q,{onClick:Qe,variant:"contained",x:!0,children:"'Someone won! Press this button! (but only from a brand new wallet...)'"})}),[o.Lottery,o.Phase3,o.Phase4].includes(Xe)&&ke&&Object(E.jsx)(E.Fragment,{children:G(ke,ae)&&Object(E.jsx)(Q,{onClick:Je,variant:"contained",disabled:void 0!==(null===ke||void 0===ke||null===(U=ke.ticket.data)||void 0===U?void 0:U.state.punched),children:ue?Object(E.jsx)(x.a,{}):"Punch Ticket"})}),Xe===o.Phase4&&Object(E.jsx)(E.Fragment,{children:(!ke||G(ke,ae))&&Object(E.jsx)(q,{children:Object(E.jsx)(Q,{disabled:(null===Te||void 0===Te?void 0:Te.state.isSoldOut)||ue||!(null===Te||void 0===Te?void 0:Te.state.isActive)||(null===ke||void 0===ke||null===(Z=ke.ticket)||void 0===Z||null===($=Z.data)||void 0===$?void 0:$.state.punched)&&0===ae,onClick:Fe,variant:"contained",children:(null===ke||void 0===ke||null===(ee=ke.ticket)||void 0===ee||null===(te=ee.data)||void 0===te?void 0:te.state.punched)&&0===ae?"MINTED":(null===Te||void 0===Te?void 0:Te.state.isSoldOut)?"SOLD OUT":ue?Object(E.jsx)(x.a,{}):"MINT"})})})]}):Object(E.jsxs)(V,{children:["Connect"," ",[o.Phase1].includes(Xe)?"to bid":"to see status"]}),Object(E.jsx)(A.a,{container:!0,justifyContent:"space-between",color:"textSecondary",children:" "}),Object(E.jsx)(C.a,{open:Ce,onClose:function(){return Be(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(E.jsx)(I.a,{style:{padding:24},children:"During Fair3d Game phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed."})}),Object(E.jsx)(C.a,{open:We,onClose:function(){De(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(E.jsx)(I.a,{style:{padding:24},children:Object(E.jsx)("div",{children:Object(E.jsx)("h1",{children:"gm :) Each of these games are separate, yet related. Remember to refresh,..."})})})}),Object(E.jsxs)(C.a,{open:Ke,onClose:function(){return Ee(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:[Object(E.jsxs)(B.a,{disableTypography:!0,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(E.jsx)(j.a,{component:"button",variant:"h6",color:"textSecondary",onClick:function(){Ee(!0)},children:"How to win"}),Object(E.jsx)(O.a,{"aria-label":"close",className:J.closeButton,onClick:function(){return Ee(!1)},children:Object(E.jsx)(W.a,{})})]}),Object(E.jsxs)(I.a,{children:[Object(E.jsx)(T.a,{variant:"h6",children:"Phase 1 - The Game:"}),Object(E.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"Every time someone new bids the price increases and the timer resets. Dev takes 1% of every bid, fuckboi takes 1% for putting up $, which doesn't get to see treasurypot. That new highest bidder becomes the Authority. Anyone at any phase can check the code on dunncreativess/fair3d, or run the show command on the cli. Metaplex team can assist you."}),Object(E.jsx)(T.a,{variant:"h6",children:"Phase 2 - Grace period:"}),Object(E.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"You can optionally pay the median bid in order to qualify for a runner up ticket."}),Object(E.jsx)(T.a,{variant:"h6",children:"Phase 3 - The Lottery:"}),Object(E.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"If you get a ticket, the Authority must conduct a lottery. The Metaplex team can assist the Authority. There are all bidders over half the highest bid, +1 for good luck :)"}),Object(E.jsx)(T.a,{variant:"h6",children:"Phase 4 - The Candy Machine:"}),Object(E.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"Winners of lottery share 33% treasurypot when you punch your ticket. You also get an NFT. The Authority can punch everyones tickets for them. When withdrawing, the Authority gets what's left of the treasurypot - 66%."}),Object(E.jsx)(T.a,{variant:"h6",children:"Tips? Strategy? Nash Tables?"}),Object(E.jsxs)(T.a,{gutterBottom:!0,color:"textSecondary",children:["All in all it's not what @redacted_j had in mind. At all."," ",Object(E.jsx)("br",{}),"It's probably better to bid more sooner. More than once. If your goal is 1st prize (which it probably should be). You can now update your existing bids... By outpricing everyone else taking it seriously, you'd ensure the thing concludes before many other ppl out there know about it. That said, doing it from more than 1 address would increase your chances at getting either a winning ticket (which would get you a shiny Nft you'll be able to exchange for a new winning bid instead of sol in the next game) or a losing ticket (which you'll be able to exchange for a bid just over the median in the next game) You need to outgreed the consensus greed before the pool contributing to consensus includes greedier parties.",Object(E.jsx)("br",{})," Bidding more earlier from more addresses:",Object(E.jsx)("br",{})," 1. Ensures you'll probably priceout everyone easier than letting the 24hr timer nearly conclude over and over, as there will absolutely be more parties interested in pricing out everyone else as time elapses.",Object(E.jsx)("br",{})," 2. If your bids from any address are over the median by conclusion 2nd phase, they can punch to receive a ticket. This ticket gives you a chance at sharing the 2nd place prize pool.",Object(E.jsx)("br",{})," 3. Any ticket can be used in the next game instead of sol to enter a bid at median. These can then be manually increased incrementally to ensure another ticket, and chance at 2nd place prize, or maximally to become new highest bidder on that 2nd game - for a fraction of the cost in either case.",Object(E.jsx)("br",{})," 4. If your ticket wine that games draw, when punching you'll get an NFT from the candy machine. In the following game, winning nfts can be exchanged for a new top bid instead of paying sol.",Object(E.jsx)("br",{})," 5. Because the following game will absolutely have more interest than the previous games, the won nfts will always have more value than what it probably cost to acquire them. Losing tickets may have some value more or less... This depends entirely on when these things are redeemed.",Object(E.jsx)("br",{})," 6. Moreover either of these things can be traded on secondary.",Object(E.jsx)("br",{}),Object(E.jsx)("br",{})," In short: bidding more from more addresses as early as is feasible almost definitely ensures free bids, as well as significantly increasing chances at either pot.",Object(E.jsx)("br",{})," ",Object(E.jsx)("br",{})," Not financial advice. Risk only what you can afford to lose.",Object(E.jsx)("br",{})," ",Object(E.jsx)("br",{})," If you're among the subset of people that would rather see the timer almost expire then bid again - that's actually ok, too. The system needs you to thrive."]})]})]})]})})}),Object(E.jsx)(k.a,{open:ye.open,autoHideDuration:6e3,onClose:function(){return je(Object(d.a)(Object(d.a)({},ye),{},{open:!1}))},children:Object(E.jsx)(D.a,{onClose:function(){return je(Object(d.a)(Object(d.a)({},ye),{},{open:!1}))},severity:ye.severity,children:ye.message})}),Object(E.jsx)("br",{})]})})},$=n(29),ee=n(232),te=n(120),ne=n(778),re=n(487),ae=s.a.createContext(null),ie=function(e){var t=e.children,n=void 0===t?null:t,r=Object(c.useRef)(),a=Object(c.useRef)(),i=Object(c.useMemo)((function(){return function(){var e;a.current&&r.current&&(r.current.style.visibility="visible",null===(e=a.current({particleCount:400,spread:160,origin:{y:.3}}))||void 0===e||e.finally((function(){r.current&&(r.current.style.visibility="hidden")})))}}),[]);Object(c.useEffect)((function(){r.current&&!a.current&&(r.current.style.visibility="hidden",a.current=re.a.create(r.current,{resize:!0,useWorker:!0}))}),[]);return Object(E.jsxs)(ae.Provider,{value:{dropConfetti:i},children:[Object(E.jsx)("canvas",{ref:r,style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1,top:0,left:0}}),n]})},oe=Object(te.b)({palette:{type:"dark"}}),ce=void 0,se=new $.e.PublicKey("48CKQtggrtWGSwhxUUkV4Kvh3oF9UtyPcwWyT6skT4Wf"),ue=new $.e.PublicKey("EMHGix4Junr32h7Pt3QecDo3hD6tbf9jsD8xdQ3FBXSz"),le=new $.e.PublicKey("7RkR7koqCow45V41pjpsyoH1pPa3QPKfmNWTAXVzmycQ"),de=new $.e.PublicKey("Bu6bEU8bwVURLswnnK6jhM7WQH3xtJY3dSxmwXcqu61o"),be=new $.e.Connection("https://endgamify.art/90602747fa28b053f700f1390fa2b7025da84452/"),he=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"",REACT_APP_FAIR_LAUNCH_ID:"48CKQtggrtWGSwhxUUkV4Kvh3oF9UtyPcwWyT6skT4Wf",REACT_APP_FAIR_LAUNCH_ID2:"EMHGix4Junr32h7Pt3QecDo3hD6tbf9jsD8xdQ3FBXSz",REACT_APP_FAIR_LAUNCH_ID3:"7RkR7koqCow45V41pjpsyoH1pPa3QPKfmNWTAXVzmycQ",REACT_APP_FAIR_LAUNCH_ID4:"Bu6bEU8bwVURLswnnK6jhM7WQH3xtJY3dSxmwXcqu61o",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://endgamify.art/90602747fa28b053f700f1390fa2b7025da84452/"}).REACT_APP_CANDY_START_DATE,10),pe=3e4,fe=function(){var e=Object(c.useMemo)((function(){return Object(w.clusterApiUrl)("mainnet-beta")}),[]),t=Object(c.useMemo)((function(){return[Object(ee.getPhantomWallet)(),Object(ee.getSolflareWallet)(),Object(ee.getSolletWallet)()]}),[]);return Object(E.jsx)(ne.a,{theme:oe,children:Object(E.jsx)(F.ConnectionProvider,{endpoint:e,children:Object(E.jsx)(F.WalletProvider,{wallets:t,autoConnect:!0,children:Object(E.jsxs)(U.WalletDialogProvider,{children:[Object(E.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(E.jsxs)("div",{style:{display:"inline"},children:[Object(E.jsx)("div",{style:{textAlign:"center"},children:"Team 1"}),Object(E.jsx)(ie,{children:Object(E.jsx)(Z,{candyMachineId:ce,fairLaunchId:se,connection:be,startDate:he,txTimeout:pe})})]}),Object(E.jsxs)("div",{style:{display:"inline"},children:[Object(E.jsx)("div",{style:{textAlign:"center"},children:"Team 2"}),Object(E.jsx)(ie,{children:Object(E.jsx)(Z,{candyMachineId:ce,fairLaunchId:ue,connection:be,startDate:he,txTimeout:pe})})]})]}),Object(E.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(E.jsxs)("div",{style:{display:"inline"},children:[Object(E.jsx)("div",{style:{textAlign:"center"},children:"Team 3"}),Object(E.jsx)(ie,{children:Object(E.jsx)(Z,{candyMachineId:ce,fairLaunchId:le,connection:be,startDate:he,txTimeout:pe})})]}),Object(E.jsxs)("div",{style:{display:"inline"},children:[Object(E.jsx)("div",{style:{textAlign:"center"},children:"Team 4"}),Object(E.jsx)(ie,{children:Object(E.jsx)(Z,{candyMachineId:ce,fairLaunchId:de,connection:be,startDate:he,txTimeout:pe})})]})]})]})})})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,794)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};l.a.render(Object(E.jsx)("div",{children:Object(E.jsx)(fe,{})}),document.getElementById("root")),ge()}},[[760,1,2]]]);
//# sourceMappingURL=main.1debef32.chunk.js.map