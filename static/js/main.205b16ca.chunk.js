(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{150:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return k}));var a,r=n(18),i=n(1),s=n.n(i),o=n(20),c=n(3),u=n(33),l=(n(481),n.t(481,1)),d=n(55),m=n(51),p=new u.e.PublicKey("EHNbEKdx5qimYUBQdUXq2KmdZeikbnpiEzpKnydBUEwB");!function(e){e.Brewing="Brewing",e.Finished="Finished",e.PastDue="Past Due"}(a||(a={}));var f=function(){var e=Object(c.a)(s.a.mark((function e(t,n,a){var r,i,c,d,m,f,h,y,v,k,j,x,S;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new u.c(a,t,{preflightCommitment:"recent"}),i=l,console.log(i),(new Map).set(i),console.log(i.default),c=new u.b(i.default,p,r),e.next=9,c.account.fairLaunch.fetch(n);case 9:return d=e.sent,console.log(parseFloat(d.currentMedian)),e.next=13,g(d.tokenMint,t.publicKey);case 13:return m=e.sent,f=Object(o.a)(m,2),h=f[0],y=f[1],e.prev=17,e.next=20,c.account.fairLaunchTicket.fetch(h);case 20:v=e.sent,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(17),console.log("No ticket");case 26:return e.next=28,c.provider.connection.getBalance(d.treasury);case 28:return k=e.sent,j=new Uint8Array([]),e.next=32,b(d.tokenMint);case 32:return x=e.sent[0],e.prev=33,e.next=36,c.provider.connection.getAccountInfo(x);case 36:S=e.sent,j=new Uint8Array((null===S||void 0===S?void 0:S.data)||[]),e.next=44;break;case 40:e.prev=40,e.t1=e.catch(33),console.log("Could not find fair launch lottery."),console.log(e.t1);case 44:return e.abrupt("return",{id:n,state:d,program:c,ticket:{pubkey:h,bump:y,data:v},lottery:{pubkey:x,data:j},treasury:k});case 45:case"end":return e.stop()}}),e,null,[[17,23],[33,40]])})));return function(t,n,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a,i,o,c,l,p,f,h,v,k;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(n.state.tokenMint,t.publicKey);case 2:return a=e.sent[0],i=n.ticket.data,e.next=6,b(n.state.tokenMint);case 6:return o=e.sent[0],e.next=9,Object(m.d)(n.state.tokenMint,t.publicKey);case 9:if(c=e.sent[0],!(null===i||void 0===i?void 0:i.amount.gt(n.state.currentMedian))){e.next=20;break}return console.log("Adjusting down...",null===i||void 0===i?void 0:i.amount.toNumber(),n.state.currentMedian.toNumber()),e.next=14,y(n.program,n.state.currentMedian.toNumber(),t,n,a);case 14:return l=e.sent,p=l.remainingAccounts,f=l.instructions,h=l.signers,e.next=20,n.program.rpc.adjustTicket(n.state.currentMedian,{accounts:{fairLaunchTicket:a,fairLaunch:n.id,fairLaunchLotteryBitmap:o,treasury:n.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},instructions:f.length>0?f:void 0,remainingAccounts:[{pubkey:t.publicKey,isSigner:!0,isWritable:!0}].concat(Object(r.a)(p)),signers:h});case 20:return e.next=22,n.program.provider.connection.getAccountInfo(c);case 22:return v=e.sent,k=v?[]:[Object(m.b)(c,t.publicKey,t.publicKey,n.state.tokenMint)],e.next=26,n.program.rpc.punchTicket({accounts:{fairLaunchTicket:a,fairLaunch:n.id,fairLaunchLotteryBitmap:o,payer:t.publicKey,buyerTokenAccount:c,tokenMint:n.state.tokenMint,tokenProgram:d.b},instructions:k.length>0?k:void 0});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var t=Object(c.a)(s.a.mark((function t(n,a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),a.toBuffer()],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),b=function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),e.from("lottery")],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=Object(c.a)(s.a.mark((function e(t,n,a,r,i){var c,l,d,p,f,h,g,b,y,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",{remainingAccounts:[],instructions:[],signers:[],amountLamports:0});case 2:if(c=r.ticket,l=[],d=[],p=[],f=0,f=r.state.data.priceRangeEnd.toNumber(),!c.data){e.next=24;break}return e.next=11,Object(m.e)(r.state.tokenMint,null===(h=c.data)||void 0===h?void 0:h.seq);case 11:return g=e.sent,b=Object(o.a)(g,2),y=b[0],v=b[1],e.next=17,t.provider.connection.getAccountInfo(y);case 17:if(e.sent){e.next=24;break}return e.t0=d,e.next=22,t.instruction.createTicketSeq(v,{accounts:{fairLaunchTicketSeqLookup:y,fairLaunch:r.id,fairLaunchTicket:i,payer:a.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY},signers:[]});case 22:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 24:return e.abrupt("return",{remainingAccounts:l,instructions:d,signers:p,amountLamports:f});case 25:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a,r,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(m.d)(n.state.tokenMint,t.publicKey);case 4:if(a=e.sent[0],r=u.e.Keypair.generate(),i=[r],o=[d.c.createApproveInstruction(d.b,a,r.publicKey,t.publicKey,[],1)],c=[],!n.state.treasuryMint){e.next=17;break}return c.push({pubkey:n.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=c,e.next=14,Object(m.d)(n.state.treasuryMint,t.publicKey);case 14:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2);case 17:return console.log("tfr",n.state.treasury.toBase58(),t.publicKey.toBase58(),a.toBase58()),e.next=20,n.program.rpc.receiveRefund({accounts:{fairLaunch:n.id,treasury:n.state.treasury,buyer:t.publicKey,buyerTokenAccount:a,transferAuthority:r.publicKey,tokenMint:n.state.tokenMint,tokenProgram:d.b,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:c,instructions:o,signers:i});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(c.a)(s.a.mark((function e(t,n,a){var i,c,l,d,m,p,f,h,v,k,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return i=a.ticket.data,e.next=5,g(a.state.tokenMint,n.publicKey);case 5:return c=e.sent,l=Object(o.a)(c,2),d=l[0],m=l[1],e.next=11,y(a.program,t,n,a,d);case 11:if(p=e.sent,f=p.remainingAccounts,h=p.instructions,v=p.signers,k=p.amountLamports,!i){e.next=24;break}return e.next=19,b(a.state.tokenMint);case 19:return j=e.sent[0],console.log("Anchor wallet",n.publicKey.toBase58(),k),e.next=23,a.program.rpc.adjustTicket(new u.a(k),{accounts:{fairLaunchTicket:d,fairLaunch:a.id,fairLaunchLotteryBitmap:j,treasury:a.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}].concat(Object(r.a)(f)),signers:v,instructions:h.length>0?h:void 0});case 23:return e.abrupt("return");case 24:return e.prev=24,console.log("Amount",k),e.next=28,a.program.rpc.purchaseTicket(m,new u.a(k),{accounts:{fairLaunchTicket:d,fairLaunch:a.id,treasury:a.state.treasury,dev:a.state.dev,buyer:n.publicKey,payer:n.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY,clock:u.e.SYSVAR_CLOCK_PUBKEY,fuckboi:new u.e.PublicKey("FubJLhprTzFDddPafdiRKXfN6dypyF1jLwZA9i2Cm7R9")},remainingAccounts:f,signers:v,instructions:h.length>0?h:void 0});case 28:e.next=34;break;case 30:throw e.prev=30,e.t0=e.catch(24),console.log(e.t0),e.t0;case 34:case"end":return e.stop()}}),e,null,[[24,30]])})));return function(t,n,a){return e.apply(this,arguments)}}()}).call(this,n(6).Buffer)},230:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return y}));var a=n(1),r=n.n(a),i=n(3),s=n(33),o=n(55),c=n(61),u=n(480),l=n(51),d=new s.e.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),m=new s.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),p=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var s,o,c,u,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",s=l.length>4&&void 0!==l[4]&&l[4],o=!1,c={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(i.a)(r.a.mark((function e(u,l){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(o||!s){e.next=7;break}return Object(i.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getSignatureStatuses([t]);case 3:n=e.sent,c=n&&n.value[0],o||(c?c.err?(console.log("REST error for",t,c),o=!0,l(c.err)):c.confirmations?(console.log("REST confirmation for",t,c),o=!0,u(c)):console.log("REST no confirmations for",t,c):console.log("REST null result for",t,c)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,v(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return c=e.sent,a._signatureSubscriptions[u]&&a.removeSignatureListener(u),o=!0,console.log("Returning status",c),e.abrupt("return",c);case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),f=function(t,n,a,r){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:s.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.e.TransactionInstruction({keys:i,programId:l.a,data:e.from([])})},h=function(){var e=Object(i.a)(r.a.mark((function e(t,n,a){var i,o,c,u,l,m,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new s.c(a,t,{preflightCommitment:"recent"}),e.next=3,s.b.fetchIdl(d,i);case 3:return o=e.sent,c=new s.b(o,d,i),e.next=7,c.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),m=u.itemsRedeemed.toNumber(),p=l-m,e.abrupt("return",{id:n,program:c,state:{itemsAvailable:l,itemsRedeemed:m,itemsRemaining:p,isSoldOut:0===p,isActive:u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,config:u.config,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("metadata"),m.toBuffer(),n.toBuffer(),e.from("edition")],m);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("metadata"),m.toBuffer(),n.toBuffer()],m);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),y=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var a,i,d,p,h,y,v,k,j,x;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.e.Keypair.generate(),e.next=3,Object(l.d)(a.publicKey,n);case 3:return i=e.sent[0],e.next=6,Object(l.d)(t.state.tokenMint,n);case 6:return d=e.sent[0],p=t.id,h=[],y=[a],e.t0=s.e.SystemProgram,e.t1=n,e.t2=a.publicKey,e.t3=o.a.span,e.next=16,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 16:return e.t4=e.sent,e.t5=o.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=o.c.createInitMintInstruction(o.b,a.publicKey,0,n,n),e.t9=f(i,n,n,a.publicKey),e.t10=o.c.createMintToInstruction(o.b,a.publicKey,i,n,[],1),v=[e.t7,e.t8,e.t9,e.t10],t.state.tokenMint&&(k=s.e.Keypair.generate(),y.push(k),h.push({pubkey:d,isWritable:!0,isSigner:!1}),h.push({pubkey:k.publicKey,isWritable:!1,isSigner:!0}),v.push(o.c.createApproveInstruction(o.b,d,k.publicKey,n,[],t.state.price.toNumber()))),e.next=27,b(a.publicKey);case 27:return j=e.sent,e.next=30,g(a.publicKey);case 30:return x=e.sent,e.t11=v,e.next=34,t.program.instruction.mintNft({accounts:{config:t.state.config,candyMachine:p,payer:n,wallet:t.state.treasury,mint:a.publicKey,metadata:j,masterEdition:x,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:m,tokenProgram:o.b,systemProgram:c.SystemProgram.programId,rent:s.e.SYSVAR_RENT_PUBKEY,clock:s.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:h.length>0?h:void 0});case 34:return e.t12=e.sent,e.t11.push.call(e.t11,e.t12),e.prev=37,e.next=40,Object(u.a)(t.program.provider.connection,t.program.provider.wallet,v,y);case 40:return e.abrupt("return",e.sent.txid);case 43:e.prev=43,e.t13=e.catch(37),console.log(e.t13);case 46:return e.abrupt("return","j");case 47:case"end":return e.stop()}}),e,null,[[37,43]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(6).Buffer)},480:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a,r=n(18),i=n(1),s=n.n(i),o=n(3),c=n(61),u=n(64);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(a||(a={}));var l=function(){var e=Object(o.a)(s.a.mark((function e(t,n,a,i){var o,l,d,m,f,h,g,b,y,v,k,j=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=j.length>4&&void 0!==j[4]?j[4]:"singleGossip",l=j.length>5&&void 0!==j[5]&&j[5],d=j.length>6?j[6]:void 0,m=j.length>7?j[7]:void 0,n.publicKey){e.next=6;break}throw new u.WalletNotConnectedError;case 6:if(f=new c.Transaction,a.forEach((function(e){return f.add(e)})),e.t0=d,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(o);case 12:e.t0=e.sent;case 13:if(f.recentBlockhash=e.t0.blockhash,l?(h=f).setSigners.apply(h,Object(r.a)(i.map((function(e){return e.publicKey})))):(g=f).setSigners.apply(g,[n.publicKey].concat(Object(r.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(b=f).partialSign.apply(b,Object(r.a)(i)),l){e.next=20;break}return e.next=19,n.signTransaction(f);case 19:f=e.sent;case 20:return m&&m(),e.next=23,p({connection:t,signedTransaction:f});case 23:return y=e.sent,v=y.txid,k=y.slot,e.abrupt("return",{txid:v,slot:k});case 27:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},m=15e3;function p(e){return f.apply(this,arguments)}function f(){return(f=Object(o.a)(s.a.mark((function e(t){var n,a,r,i,c,u,l,p,f,g,y,k,j;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,a=t.connection,r=t.timeout,i=void 0===r?m:r,c=n.serialize(),u=d(),l=0,e.next=6,a.sendRawTransaction(c,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),f=!1,Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f||!(d()-u<i)){e.next=6;break}return a.sendRawTransaction(c,{skipPreflight:!0}),e.next=4,v(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,b(p,i,a,"recent",!0);case 13:if(g=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!g.err){e.next=19;break}throw console.error(g.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===g||void 0===g?void 0:g.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return y=null,e.prev=28,e.next=31,h(a,n,"single");case 31:y=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!y||!y.err){e.next=47;break}if(!y.logs){e.next=46;break}k=y.logs.length-1;case 39:if(!(k>=0)){e.next=46;break}if(!(j=y.logs[k]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+j.slice("Program log: ".length));case 43:--k,e.next=39;break;case 46:throw new Error(JSON.stringify(y.err));case 47:return e.prev=47,f=!0,e.finish(47);case 50:return console.log("Latency",p,d()-u),e.abrupt("return",{txid:p,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function h(e,t,n){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(s.a.mark((function e(t,n,a){var r,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,r=n.serializeMessage(),i=n._serialize(r),o=i.toString("base64"),c=[o,{encoding:"base64",commitment:a}],e.next=10,t._rpcRequest("simulateTransaction",c);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n){return y.apply(this,arguments)}function y(){return y=Object(o.a)(s.a.mark((function e(t,n,a){var r,i,c,u,l,d=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],c=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(o.a)(s.a.mark((function e(d,m){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){c||(c=!0,console.log("Rejecting for timeout..."),m({timeout:!0}))}),n);try{l=a.onSignature(t,(function(e,t){c=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),m(u)):(console.log("Resolved via websocket",e),d(u))}),r)}catch(p){c=!0,console.error("WS error in setup",t,p)}case 2:if(c||!i){e.next=8;break}return Object(o.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],c||(u?u.err?(console.log("REST error for",t,u),c=!0,m(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),c=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,v(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,a._signatureSubscriptions[l]&&a.removeSignatureListener(l),c=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function v(e){return new Promise((function(t){return setTimeout(t,e)}))}},481:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"fair_launch","instructions":[{"name":"initializeFairLaunch","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"fuckboi","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"},{"name":"treasuryBump","type":"u8"},{"name":"tokenMintBump","type":"u8"},{"name":"data","type":{"defined":"FairLaunchData"}}]},{"name":"updateFairLaunch","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"data","type":{"defined":"FairLaunchData"}}]},{"name":"startPhaseThree","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"fairLaunchLotteryBitmap","isMut":false,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenMint","isMut":true,"isSigner":false}],"args":[]},{"name":"updateFairLaunchLotteryBitmap","accounts":[{"name":"fairLaunch","isMut":false,"isSigner":false},{"name":"fairLaunchLotteryBitmap","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[{"name":"index","type":"u32"},{"name":"bytes","type":"bytes"}]},{"name":"createFairLaunchLotteryBitmap","accounts":[{"name":"fairLaunch","isMut":false,"isSigner":false},{"name":"fairLaunchLotteryBitmap","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"purchaseTicket","accounts":[{"name":"fairLaunchTicket","isMut":true,"isSigner":false},{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false},{"name":"buyer","isMut":true,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"dev","isMut":true,"isSigner":false},{"name":"fuckboi","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"},{"name":"amount","type":"u64"}]},{"name":"createTicketSeq","accounts":[{"name":"fairLaunchTicketSeqLookup","isMut":true,"isSigner":false},{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"fairLaunchTicket","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"bump","type":"u8"}]},{"name":"adjustTicket","accounts":[{"name":"fairLaunchTicket","isMut":true,"isSigner":false},{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"fairLaunchLotteryBitmap","isMut":false,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"punchTicket","accounts":[{"name":"fairLaunchTicket","isMut":true,"isSigner":false},{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"fairLaunchLotteryBitmap","isMut":false,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"buyerTokenAccount","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false},{"name":"buyer","isMut":true,"isSigner":false}],"args":[]},{"name":"withdrawFunds","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"receiveRefund","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"treasury","isMut":true,"isSigner":false},{"name":"buyer","isMut":true,"isSigner":false},{"name":"buyerTokenAccount","isMut":true,"isSigner":false},{"name":"transferAuthority","isMut":false,"isSigner":true},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[]},{"name":"restartPhaseTwo","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[]},{"name":"setTokenMetadata","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"metadata","isMut":true,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"data","type":{"defined":"TokenMetadata"}}]},{"name":"setParticipationNft","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"participationMint","isMut":true,"isSigner":false},{"name":"participationTokenAccount","isMut":true,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"masterEdition","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"clock","isMut":false,"isSigner":false}],"args":[{"name":"participationMintBump","type":"u8"},{"name":"participationTokenBump","type":"u8"},{"name":"participationModulo","type":"u8"},{"name":"data","type":{"defined":"TokenMetadata"}}]},{"name":"updateParticipationNft","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"metadata","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"participationModulo","type":"u8"},{"name":"data","type":{"defined":"TokenMetadata"}}]},{"name":"mintParticipationNft","accounts":[{"name":"fairLaunch","isMut":false,"isSigner":false},{"name":"fairLaunchTicket","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"participationMint","isMut":true,"isSigner":false},{"name":"participationTokenAccount","isMut":true,"isSigner":false},{"name":"buyer","isMut":false,"isSigner":false},{"name":"buyerNftTokenAccount","isMut":false,"isSigner":false},{"name":"newMetadata","isMut":true,"isSigner":false},{"name":"newEdition","isMut":true,"isSigner":false},{"name":"newMint","isMut":true,"isSigner":false},{"name":"newMintAuthority","isMut":false,"isSigner":true},{"name":"metadata","isMut":true,"isSigner":false},{"name":"masterEdition","isMut":true,"isSigner":false},{"name":"editionMarkPda","isMut":true,"isSigner":false},{"name":"tokenMetadataProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"mintTokens","accounts":[{"name":"fairLaunch","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"tokenMint","isMut":true,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]}],"accounts":[{"name":"FairLaunch","type":{"kind":"struct","fields":[{"name":"tokenMint","type":"publicKey"},{"name":"treasury","type":"publicKey"},{"name":"treasuryMint","type":{"option":"publicKey"}},{"name":"authority","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"treasuryBump","type":"u8"},{"name":"tokenMintBump","type":"u8"},{"name":"data","type":{"defined":"FairLaunchData"}},{"name":"numberTicketsUnSeqed","type":"u64"},{"name":"numberTicketsSold","type":"u64"},{"name":"numberTicketsDropped","type":"u64"},{"name":"numberTicketsPunched","type":"u64"},{"name":"numberTokensBurnedForRefunds","type":"u64"},{"name":"numberTokensPreminted","type":"u64"},{"name":"phaseThreeStarted","type":"bool"},{"name":"treasurySnapshot","type":{"option":"u64"}},{"name":"currentEligibleHolders","type":"u64"},{"name":"currentMedian","type":"u64"},{"name":"countsAtEachTick","type":{"vec":"u64"}},{"name":"participationModulo","type":"u8"},{"name":"participationMintBump","type":"u8"},{"name":"participationTokenBump","type":"u8"},{"name":"participationMint","type":{"option":"publicKey"}},{"name":"dev","type":"publicKey"},{"name":"fuckboi","type":"publicKey"}]}},{"name":"FairLaunchLotteryBitmap","type":{"kind":"struct","fields":[{"name":"fairLaunch","type":"publicKey"},{"name":"bump","type":"u8"},{"name":"bitmapOnes","type":"u64"}]}},{"name":"FairLaunchTicket","type":{"kind":"struct","fields":[{"name":"fairLaunch","type":"publicKey"},{"name":"buyer","type":"publicKey"},{"name":"amount","type":"u64"},{"name":"state","type":{"defined":"FairLaunchTicketState"}},{"name":"bump","type":"u8"},{"name":"seq","type":"u64"},{"name":"gottenParticipation","type":"bool"}]}},{"name":"FairLaunchTicketSeqLookup","type":{"kind":"struct","fields":[{"name":"fairLaunchTicket","type":"publicKey"},{"name":"buyer","type":"publicKey"},{"name":"seq","type":"u64"},{"name":"bump","type":"u8"}]}}],"types":[{"name":"Creator","type":{"kind":"struct","fields":[{"name":"address","type":"publicKey"},{"name":"verified","type":"bool"},{"name":"share","type":"u8"}]}},{"name":"TokenMetadata","type":{"kind":"struct","fields":[{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"},{"name":"sellerFeeBasisPoints","type":"u16"},{"name":"creators","type":{"option":{"vec":{"defined":"Creator"}}}},{"name":"isMutable","type":"bool"}]}},{"name":"AntiRugSetting","type":{"kind":"struct","fields":[{"name":"reserveBp","type":"u16"},{"name":"tokenRequirement","type":"u64"},{"name":"selfDestructDate","type":"i64"}]}},{"name":"FairLaunchData","type":{"kind":"struct","fields":[{"name":"uuid","type":"string"},{"name":"priceRangeStart","type":"u64"},{"name":"priceRangeEnd","type":"u64"},{"name":"phaseOneStart","type":"i64"},{"name":"phaseOneEnd","type":"i64"},{"name":"phaseTwoEnd","type":"i64"},{"name":"lotteryDuration","type":"i64"},{"name":"tickSize","type":"u64"},{"name":"numberOfTokens","type":"u64"},{"name":"fee","type":"u64"},{"name":"antiRugSetting","type":{"option":{"defined":"AntiRugSetting"}}}]}},{"name":"FairLaunchTicketState","type":{"kind":"enum","variants":[{"name":"NoSequenceStruct"},{"name":"Unpunched"},{"name":"Punched"},{"name":"Withdrawn"}]}}],"errors":[{"code":300,"name":"IncorrectOwner","msg":"Account does not have correct owner!"},{"code":301,"name":"Uninitialized","msg":"Account is not initialized!"},{"code":302,"name":"MintMismatch","msg":"Mint Mismatch!"},{"code":303,"name":"TokenTransferFailed","msg":"Token transfer failed"},{"code":304,"name":"NumericalOverflowError","msg":"Numerical overflow error"},{"code":305,"name":"TimestampsDontLineUp","msg":"Timestamps of phases should line up"},{"code":306,"name":"CantSetPhaseThreeDatesYet","msg":"Cant set phase 3 dates yet"},{"code":307,"name":"UuidMustBeExactly6Length","msg":"Uuid must be exactly of 6 length"},{"code":308,"name":"TickSizeTooSmall","msg":"Tick size too small"},{"code":309,"name":"CannotGiveZeroTokens","msg":"Cannot give zero tokens"},{"code":310,"name":"InvalidPriceRanges","msg":"Invalid price ranges"},{"code":311,"name":"TooMuchGranularityInRange","msg":"With this tick size and price range, you will have too many ticks(>"},{"code":312,"name":"CannotUseTickSizeThatGivesRemainder","msg":"Cannot use a tick size with a price range that results in a remainder when doing (end-start)/ticksize"},{"code":313,"name":"DerivedKeyInvalid","msg":"Derived key invalid"},{"code":314,"name":"TreasuryAlreadyExists","msg":"Treasury Already Exists"},{"code":315,"name":"LotteryBitmapOnesMustEqualNumberOfTicketsSold","msg":"The number of ones in the lottery must equal the number of tickets sold in phase 1"},{"code":316,"name":"InvalidPurchaseAmount","msg":"Amount must be between price ranges and at a tick mark"},{"code":317,"name":"TreasuryMintMismatch","msg":"Treasury mint does not match"},{"code":318,"name":"NotEnoughTokens","msg":"Not enough tokens to pay for this minting"},{"code":319,"name":"NotEnoughSOL","msg":"Not enough SOL to pay for this minting"},{"code":320,"name":"InvalidTokenProgram","msg":"Sent up invalid token program"},{"code":321,"name":"CannotBuyTicketsOutsidePhaseOne","msg":"Cannot buy tickets outside phase one"},{"code":322,"name":"CannotCreateFairLaunchLotteryBitmapBeforePhaseTwoEnd","msg":"Cannot create the bitmap before phase two end"},{"code":323,"name":"CannotUpdateFairLaunchLotteryOncePhaseThreeLocked","msg":"Cannot update fair launch lottery once phase three locked"},{"code":324,"name":"SeqAlreadyExists","msg":"Seq already exists"},{"code":325,"name":"CannotSetFairLaunchLotteryUntilAllTicketsAreSequenced","msg":"Cannot set lottery until all tickets have sequence lookups using permissionless crank endpoint. Use CLI to make."},{"code":326,"name":"CanOnlySubmitZeroDuringPhaseThree","msg":"During phase three, since you did not pay up to the median, you can only withdraw your funds"},{"code":327,"name":"CanOnlySubmitDifferenceDuringPhaseThree","msg":"During phase three, since you paid above median, you can only withdraw the difference"},{"code":328,"name":"DidNotWinLotteryCanOnlyWithdraw","msg":"You did not win the lottery, therefore you can only withdraw your funds"},{"code":329,"name":"AccountShouldHaveNoDelegates","msg":"This account should have no delegates"},{"code":330,"name":"TokenMintToFailed","msg":"Token minting failed"},{"code":331,"name":"DuringPhaseTwoAndOneBuyerMustBeSigner","msg":"During phase two and one buyer must be signer"},{"code":332,"name":"InvalidFairLaunchTicketState","msg":"Invalid fair launch ticket state for this operation"},{"code":333,"name":"CannotCashOutUntilAllRefundsAndPunchesHaveBeenProcessed","msg":"Cannot cash out until all refunds and punches (permissionless calls) have been processed. Use the CLI."},{"code":334,"name":"CannotCashOutUntilPhaseThree","msg":"Cannot cash out until phase three"},{"code":335,"name":"CannotUpdateFairLaunchDataOnceInProgress","msg":"Cannot update fair launch variables once it is in progress"},{"code":336,"name":"PhaseTwoEnded","msg":"Not able to adjust tickets between phase two and three"},{"code":337,"name":"CannotPunchTicketWhenHavingPaidLessThanMedian","msg":"Cannot punch ticket when having paid less than median."},{"code":338,"name":"AlreadyWithdrawnCapitalAlotment","msg":"You have already withdrawn your seed capital alotment from the treasury."},{"code":339,"name":"NoAntiRugSetting","msg":"No anti rug settings on this fair launch. Should\'ve checked twice."},{"code":340,"name":"SelfDestructNotPassed","msg":"Self destruct date has not passed yet, so you are not eligible for a refund."},{"code":341,"name":"TokenBurnFailed","msg":"Token burn failed"},{"code":342,"name":"NoTreasurySnapshot","msg":"No treasury snapshot present"},{"code":343,"name":"CannotRefundUntilAllTicketsHaveBeenPunchedOrDropped","msg":"Cannot refund until all existing tickets have been dropped or punched"},{"code":344,"name":"CannotRefundUntilPhaseThree","msg":"Cannot refund until phase three"},{"code":345,"name":"InvalidReserveBp","msg":"Invalid reserve bp"},{"code":346,"name":"InvalidAntiRugTokenRequirement","msg":"Anti Rug Token Requirement must be less than or equal to number of tokens being sold"},{"code":347,"name":"CannotPunchTicketUntilPhaseThree","msg":"Cannot punch ticket until phase three"},{"code":348,"name":"CannotPunchTicketUntilEqualized","msg":"Cannot punch ticket until you have refunded the difference between your given price and the median."},{"code":349,"name":"InvalidLotteryDuration","msg":"Invalid lottery duration"},{"code":350,"name":"PhaseThreeAlreadyStarted","msg":"Phase two already started"},{"code":351,"name":"PhaseTwoHasntEndedYet","msg":"Phase two hasnt ended yet"},{"code":352,"name":"LotteryDurationHasntEndedYet","msg":"Lottery duration hasnt ended yet"},{"code":353,"name":"FairLaunchMismatch","msg":"Fair launch ticket and fair launch key mismatch"},{"code":354,"name":"ParticipationTokenAccountAlreadyExists","msg":"Participation Token Account already exists"},{"code":355,"name":"InvalidParticipationModulo","msg":"Invalid participation modulo"},{"code":356,"name":"AlreadyMintedParticipation","msg":"Already got participation"},{"code":357,"name":"NotEligibleForParticipation","msg":"Not eligible for participation"},{"code":358,"name":"ParticipationMintMismatch","msg":"The mint on this account does not match the participation nft mint"},{"code":359,"name":"AccountOwnerShouldBeBuyer","msg":"Account owner should be buyer"},{"code":360,"name":"AccountOwnerShouldBeAuthority","msg":"Account owner should be fair launch authority"},{"code":361,"name":"TokenMintMismatch","msg":"Token mint mismatch"},{"code":362,"name":"CannotMintMoreTokensThanTotal","msg":"Cannot mint more tokens than are allowed by the fair launch"},{"code":363,"name":"CanOnlyPremintOnce","msg":"Due to concerns that you might mint, burn, then mint again and mess up the counter, you can only mint once before the FLP"},{"code":364,"name":"CannotMintTokensUntilAllCashedOut","msg":"Once phase three has begun, no more FLP tokens can be minted until all ticket holders have been given tokens"}],"metadata":{"address":"EHNbEKdx5qimYUBQdUXq2KmdZeikbnpiEzpKnydBUEwB"}}')},507:function(e,t,n){},508:function(e,t,n){},509:function(e,t){},51:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n(1),r=n.n(a),i=n(3),s=n(33),o=n(55),c=n(61),u=new s.e.PublicKey("EHNbEKdx5qimYUBQdUXq2KmdZeikbnpiEzpKnydBUEwB"),l=function(e){if(e)return new Date(1e3*e.toNumber())},d=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),m={format:function(e){return e?d.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/c.LAMPORTS_PER_SOL}},p=new s.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),f=function(){var t=Object(i.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),a.toArrayLike(e,"le",8)],u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),h=function(){var e=Object(i.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.e.PublicKey.findProgramAddress([n.toBuffer(),o.b.toBuffer(),t.toBuffer()],p);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function g(t,n,a,r){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:c.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:c.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new c.TransactionInstruction({keys:i,programId:p,data:e.from([])})}}).call(this,n(6).Buffer)},511:function(e,t){},527:function(e,t){},528:function(e,t){},653:function(e,t){},655:function(e,t){},669:function(e,t){},673:function(e,t){},675:function(e,t){},686:function(e,t){},688:function(e,t){},715:function(e,t){},717:function(e,t){},722:function(e,t){},724:function(e,t){},731:function(e,t){},743:function(e,t){},746:function(e,t){},758:function(e,t){},759:function(e,t,n){"use strict";n.r(t);var a,r,i,s,o=n(4),c=n.n(o),u=n(40),l=n.n(u),d=(n(507),n(508),n(11)),m=n(1),p=n.n(m),f=n(3),h=n(20),g=n(229),b=n(174),y=n(792),v=n(781),k=n(780),j=n(788),x=n(778),S=n(789),O=n(61),w=n(779),M=n(491),T=n(494),P=n(787),L=n(476),A=n(171),C=n(398),R=n(19),E=Object(C.a)((function(e){return Object(L.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),B=function(e){var t=e.date,n=e.status,a=e.style,r=e.start,i=e.end,s=e.onComplete,c=E(),u=Object(o.useState)(!!(r&&i&&t)&&r.getTime()-Date.now()<0),l=Object(h.a)(u,2),d=l[0],m=(l[1],function(e){var t=e.days,r=e.hours,i=e.minutes,s=e.seconds;return r+=24*t,e.completed?n?Object(R.jsx)("span",{className:c.done,children:n}):null:Object(R.jsxs)("div",{className:c.root,style:a,children:[d&&Object(R.jsx)(M.a,{elevation:0,children:Object(R.jsx)("span",{className:c.item,children:"+"})}),Object(R.jsxs)(M.a,{elevation:0,children:[Object(R.jsx)("span",{className:c.item,children:r<10?"0".concat(r):r}),Object(R.jsx)("span",{children:"hrs"})]}),Object(R.jsxs)(M.a,{elevation:0,children:[Object(R.jsx)("span",{className:c.item,children:i<10?"0".concat(i):i}),Object(R.jsx)("span",{children:"mins"})]}),Object(R.jsxs)(M.a,{elevation:0,children:[Object(R.jsx)("span",{className:c.item,children:s<10?"0".concat(s):s}),Object(R.jsx)("span",{children:"secs"})]})]})});return t&&r&&i&&d&&A.a,t?Object(R.jsx)(A.a,{date:t,onComplete:s,renderer:m}):null},K=n(782),N=n(786),D=n(785),_=n(299),I=n.n(_),F=n(790),W=n(101),U=n(217),q=n(230),Y=n(150),z=n(51),H=Object(b.a)(U.WalletDialogButton)(a||(a=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),V=b.a.div(r||(r=Object(g.a)([""]))),G=Object(b.a)(w.a)(i||(i=Object(g.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),J=function(e){return Object(L.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})},Z=Object(b.a)(y.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});!function(e){e[e.Phase0=0]="Phase0",e[e.Phase1=1]="Phase1",e[e.Phase2=2]="Phase2",e[e.Lottery=3]="Lottery",e[e.Phase3=4]="Phase3",e[e.Phase4=5]="Phase4",e[e.Unknown=6]="Unknown"}(s||(s={}));var X=function(e){var t=e.phaseName,n=e.desc,a=e.date,r=e.status;return Object(R.jsxs)(P.a,{container:!0,justifyContent:"center",children:[Object(R.jsxs)(P.a,{xs:6,justifyContent:"center",direction:"column",children:[Object(R.jsx)(T.a,{variant:"h5",style:{fontWeight:600},children:t}),Object(R.jsx)(T.a,{variant:"body1",color:"textSecondary",children:n})]}),Object(R.jsx)(P.a,{xs:6,container:!0,justifyContent:"flex-end",children:Object(R.jsx)(B,{date:Object(z.f)(a),style:{justifyContent:"flex-end"},status:r||"COMPLETE"})})]})};var Q=function(e,t){var n,a,r;if(t>0)return!0;if(!(null===e||void 0===e?void 0:e.lottery.data)||!(null===e||void 0===e?void 0:e.lottery.data.length)||!(null===e||void 0===e||null===(n=e.ticket.data)||void 0===n?void 0:n.seq)||!(null===e||void 0===e?void 0:e.state.phaseThreeStarted))return!1;var i=e.lottery.data[49+Math.floor((null===(a=e.ticket.data)||void 0===a?void 0:a.seq.toNumber())/8)],s=7-(null===(r=e.ticket.data)||void 0===r?void 0:r.seq.toNumber())%8,o=i&Math.pow(2,s);return o>0},$=function(e){var t,n,a,r,i,c,u,l,m,g,b,y,w,L,C,E,B,_,U,$,ee,te,ne,ae,re,ie,se,oe=Object(o.useState)(0),ce=Object(h.a)(oe,2),ue=ce[0],le=(ce[1],Object(o.useState)(null)),de=Object(h.a)(le,2),me=(de[0],de[1],Object(o.useState)(!1)),pe=Object(h.a)(me,2),fe=pe[0],he=pe[1],ge=Object(o.useState)(0),be=Object(h.a)(ge,2),ye=be[0],ve=be[1],ke=Object(W.useWallet)(),je=Object(o.useMemo)((function(){if(ke&&ke.publicKey&&ke.signAllTransactions&&ke.signTransaction)return{publicKey:ke.publicKey,signAllTransactions:ke.signAllTransactions,signTransaction:ke.signTransaction}}),[ke]),xe=Object(o.useState)({open:!1,message:"",severity:void 0}),Se=Object(h.a)(xe,2),Oe=Se[0],we=Se[1],Me=Object(o.useState)(),Te=Object(h.a)(Me,2),Pe=Te[0],Le=Te[1],Ae=Object(o.useState)(),Ce=Object(h.a)(Ae,2),Re=Ce[0],Ee=Ce[1],Be=Object(o.useState)(!1),Ke=Object(h.a)(Be,2),Ne=Ke[0],De=Ke[1],_e=Object(o.useState)(!1),Ie=Object(h.a)(_e,2),Fe=Ie[0],We=Ie[1],Ue=Object(o.useState)(!1),qe=Object(h.a)(Ue,2),Ye=qe[0],ze=qe[1],He=function(){var t=Object(f.a)(p.a.mark((function t(){var n,a,r,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,he(!0),!(ke.connected&&(null===Re||void 0===Re?void 0:Re.program)&&ke.publicKey)){t.next=13;break}if(!(null===Pe||void 0===Pe||null===(n=Pe.ticket.data)||void 0===n?void 0:n.state.unpunched)||!Q(Pe,ue)){t.next=6;break}return t.next=6,et();case 6:return t.next=8,Object(q.c)(Re,ke.publicKey);case 8:return a=t.sent,t.next=11,Object(q.a)(a,e.txTimeout,e.connection,"singleGossip",!1);case 11:(null===(r=t.sent)||void 0===r?void 0:r.err)?we({open:!0,message:"Mint failed! Please try again!",severity:"error"}):we({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"});case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),i=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(i="SOLD OUT!",window.location.reload()):312===t.t0.code&&(i="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?i="SOLD OUT!":t.t0.message.indexOf("0x135")&&(i="Insufficient funds to mint. Please fund your wallet.")):i="Transaction Timeout! Please try again.",we({open:!0,message:i,severity:"error"});case 20:return t.prev=20,he(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,15,20,23]])})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){Object(f.a)(p.a.mark((function t(){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(je){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,Object(Y.a)(je,e.fairLaunchId,e.connection);case 5:n=t.sent,Le(n),ve((n.state.currentMedian||n.state.data.priceRangeStart).toNumber()/O.LAMPORTS_PER_SOL),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("Problem getting fair launch state"),console.log(t.t0);case 14:if(!e.candyMachineId){t.next=28;break}return t.prev=15,t.next=18,Object(q.b)(je,e.candyMachineId,e.connection);case 18:a=t.sent,Ee(a),t.next=26;break;case 22:t.prev=22,t.t1=t.catch(15),console.log("Problem getting candy machine state"),console.log(t.t1);case 26:t.next=29;break;case 28:console.log("No candy machine detected in configuration.");case 29:case"end":return t.stop()}}),t,null,[[2,10],[15,22]])})))()}),[je,e.candyMachineId,e.connection,e.fairLaunchId]);var Ve=z.c.asNumber(null===Pe||void 0===Pe?void 0:Pe.state.data.priceRangeStart),Ge=z.c.asNumber(null===Pe||void 0===Pe?void 0:Pe.state.data.priceRangeEnd),Je=z.c.asNumber(null===Pe||void 0===Pe?void 0:Pe.state.data.tickSize),Ze=z.c.asNumber(null===Pe||void 0===Pe?void 0:Pe.state.currentMedian),Xe=[{value:Ve||0,label:"".concat(Ve," SOL")},{value:Ge||0,label:"".concat(Ge," SOL")}].filter((function(e){return void 0!==e&&0!==e.value})),Qe=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je){e.next=2;break}return e.abrupt("return");case 2:return console.log("deposit"),he(!0),e.prev=4,e.next=7,Object(Y.c)(ye,je,Pe);case 7:he(!1),we({open:!0,message:"Congratulations! Bid ".concat((null===Pe||void 0===Pe?void 0:Pe.ticket.data)?"updated":"inserted","!"),severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),he(!1),we({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,he(!0),e.next=7,Object(Y.d)(je,Pe);case 7:he(!1),we({open:!0,message:"Congratulations! You have received a refund. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),he(!1),we({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),et=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je&&Pe&&Pe.ticket){e.next=2;break}return e.abrupt("return");case 2:return console.log("punch"),he(!0),e.prev=4,e.next=7,Object(Y.b)(je,Pe);case 7:he(!1),we({open:!0,message:"Congratulations! Ticket punched!",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),he(!1),we({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),tt=function(e,t){var n,a,r,i,o=(new Date).getTime(),c=null===(n=Object(z.f)(null===e||void 0===e?void 0:e.state.data.phaseOneStart))||void 0===n?void 0:n.getTime(),u=null===(a=Object(z.f)(null===e||void 0===e?void 0:e.state.data.phaseOneEnd))||void 0===a?void 0:a.getTime(),l=null===(r=Object(z.f)(null===e||void 0===e?void 0:e.state.data.phaseTwoEnd))||void 0===r?void 0:r.getTime(),d=null===(i=Object(z.f)(null===t||void 0===t?void 0:t.state.goLiveDate))||void 0===i?void 0:i.getTime();return c&&o<c?s.Phase0:u&&o<=u?s.Phase1:l&&o<=l?s.Phase2:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?(null===e||void 0===e?void 0:e.state.phaseThreeStarted)&&d&&o>d?s.Phase4:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?s.Phase3:s.Unknown:s.Lottery}(Pe,Re),nt=(null===Re||void 0===Re?void 0:Re.state.goLiveDate)&&(null===Pe||void 0===Pe?void 0:Pe.state.data.phaseTwoEnd)&&(null===Re||void 0===Re?void 0:Re.state.goLiveDate.lt(null===Pe||void 0===Pe?void 0:Pe.state.data.phaseTwoEnd));return Object(R.jsxs)(v.a,{style:{marginTop:100},children:[Object(R.jsx)(v.a,{maxWidth:"xs",style:{position:"relative"},children:Object(R.jsx)(M.a,{style:{padding:24,backgroundColor:"#151A1F",borderRadius:6},children:Object(R.jsxs)(P.a,{container:!0,justifyContent:"center",direction:"column",children:[tt===s.Phase0&&Object(R.jsx)(X,{phaseName:"Phase 0",desc:"Anticipation Phase",date:null===Pe||void 0===Pe?void 0:Pe.state.data.phaseOneStart}),tt===s.Phase1&&Object(R.jsx)(X,{phaseName:"Phase 1",desc:"SOL of the Hill Phase",date:null===Pe||void 0===Pe?void 0:Pe.state.data.phaseOneEnd}),tt===s.Phase2&&Object(R.jsx)(X,{phaseName:"Phase 2",desc:"Grace period",date:null===Pe||void 0===Pe?void 0:Pe.state.data.phaseTwoEnd}),tt===s.Lottery&&Object(R.jsx)(X,{phaseName:"Phase 3",desc:"Raffle in progress",date:null===Pe||void 0===Pe?void 0:Pe.state.data.phaseTwoEnd.add(null===Pe||void 0===Pe?void 0:Pe.state.data.lotteryDuration)}),tt===s.Phase3&&!Re&&Object(R.jsx)(X,{phaseName:"Phase 3",desc:"Raffle finished!",date:null===Pe||void 0===Pe?void 0:Pe.state.data.phaseTwoEnd}),tt===s.Phase3&&Re&&Object(R.jsx)(X,{phaseName:"Phase 3",desc:"Minting starts in...",date:null===Re||void 0===Re?void 0:Re.state.goLiveDate}),tt===s.Phase4&&Object(R.jsx)(X,{phaseName:nt?"Phase 3":"Phase 4",desc:"Candy Time \ud83c\udf6c \ud83c\udf6c \ud83c\udf6c",date:null===Re||void 0===Re?void 0:Re.state.goLiveDate,status:"LIVE"}),Pe&&Object(R.jsx)(P.a,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",style:{height:200,marginTop:20,marginBottom:20,background:"#384457",borderRadius:6},children:Pe.ticket.data?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(T.a,{children:"Your bid"}),Object(R.jsxs)(T.a,{variant:"h6",style:{fontWeight:900},children:[z.c.format(((null===Pe||void 0===Pe||null===(t=Pe.ticket.data)||void 0===t?void 0:t.amount.toNumber())||0)/O.LAMPORTS_PER_SOL)," ","SOL"]}),Object(R.jsxs)(T.a,{children:[Pe.state.authority.toBase58().slice(0,3)+"..."+Pe.state.authority.toBase58().slice(Pe.state.authority.toBase58().length-3,Pe.state.authority.toBase58().length)," is Authority",Object(R.jsx)("br",{}),"Only new bids from new addresses will become new authority. Changing bids will not."]})]}):[s.Phase0,s.Phase1].includes(tt)?Object(R.jsxs)(T.a,{children:["The last person to bid wins 90% the treasurypot. ",Object(R.jsx)("br",{}),"10% of bidders win around 10% treasurypot. ",Object(R.jsx)("br",{})]}):Object(R.jsx)(T.a,{children:"You didn't participate in this raffle."})}),Pe&&Object(R.jsxs)(R.Fragment,{children:[[s.Phase1,s.Phase2,s.Phase3,s.Lottery].includes(tt)&&(null===Pe||void 0===Pe||null===(n=Pe.ticket)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.state.withdrawn)&&Object(R.jsx)("div",{style:{paddingTop:"15px"},children:Object(R.jsx)(F.a,{severity:"error",children:"Your bid was withdrawn and cannot be adjusted or re-inserted."})}),[s.Phase1,s.Phase2].includes(tt)&&Pe.state.currentMedian&&(null===Pe||void 0===Pe||null===(r=Pe.ticket)||void 0===r||null===(i=r.data)||void 0===i?void 0:i.amount)&&!(null===Pe||void 0===Pe||null===(c=Pe.ticket)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.state.withdrawn)&&Pe.state.currentMedian.gt(null===Pe||void 0===Pe||null===(l=Pe.ticket)||void 0===l||null===(m=l.data)||void 0===m?void 0:m.amount)&&Object(R.jsx)("div",{style:{paddingTop:"15px"},children:Object(R.jsx)(F.a,{severity:"warning",children:"Your bid is currently below the top bid and will not be eligible for the raffle."})}),[s.Phase3,s.Lottery].includes(tt)&&Pe.state.currentMedian&&(null===Pe||void 0===Pe||null===(g=Pe.ticket)||void 0===g||null===(b=g.data)||void 0===b?void 0:b.amount)&&!(null===Pe||void 0===Pe||null===(y=Pe.ticket)||void 0===y||null===(w=y.data)||void 0===w?void 0:w.state.withdrawn)&&Pe.state.currentMedian.gt(null===Pe||void 0===Pe||null===(L=Pe.ticket)||void 0===L||null===(C=L.data)||void 0===C?void 0:C.amount)&&Object(R.jsx)("div",{style:{paddingTop:"15px"},children:Object(R.jsxs)(F.a,{severity:"error",children:["Your bid was below the top bid and was not included in the raffle. You may click ",Object(R.jsx)("em",{children:"Withdraw"})," when the raffle ends or you will be automatically issued one when the Fair Launch authority withdraws from the treasury."]})}),false]}),[s.Phase1,s.Phase2].includes(tt)&&Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(P.a,{style:{marginTop:40,marginBottom:20},children:Object(R.jsx)(Z,{min:Ve,marks:Xe,max:Ge,step:Je,value:ye,onChange:function(e,t){return ve(t)},valueLabelDisplay:"auto",style:{width:"calc(100% - 40px)",marginLeft:20,height:30}})})}),ke.connected?Object(R.jsxs)("div",{children:[[s.Phase1,s.Phase2].includes(tt)&&Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(G,{onClick:Qe,variant:"contained",disabled:fe||!(null===Pe||void 0===Pe?void 0:Pe.ticket.data)&&tt===s.Phase2||false,children:fe?Object(R.jsx)(k.a,{}):(null===Pe||void 0===Pe?void 0:Pe.ticket.data)?"Change bid":"Place bid"})}),[s.Phase3].includes(tt)&&Object(R.jsx)(R.Fragment,{children:Q(Pe,ue)&&Object(R.jsx)(G,{onClick:et,variant:"contained",disabled:void 0!==(null===Pe||void 0===Pe||null===(E=Pe.ticket.data)||void 0===E?void 0:E.state.punched),children:fe?Object(R.jsx)(k.a,{}):"Punch Ticket"})}),tt===s.Phase4&&Object(R.jsx)(R.Fragment,{children:(!Pe||Q(Pe,ue))&&Object(R.jsx)(V,{children:Object(R.jsx)(G,{disabled:(null===Re||void 0===Re?void 0:Re.state.isSoldOut)||fe||!(null===Re||void 0===Re?void 0:Re.state.isActive)||(null===Pe||void 0===Pe||null===(B=Pe.ticket)||void 0===B||null===(_=B.data)||void 0===_?void 0:_.state.punched)&&0===ue,onClick:He,variant:"contained",children:(null===Pe||void 0===Pe||null===(U=Pe.ticket)||void 0===U||null===($=U.data)||void 0===$?void 0:$.state.punched)&&0===ue?"MINTED":(null===Re||void 0===Re?void 0:Re.state.isSoldOut)?"SOLD OUT":fe?Object(R.jsx)(k.a,{}):"MINT"})})})]}):Object(R.jsxs)(H,{children:["Connect"," ",[s.Phase1].includes(tt)?"to bid":"to see status"]}),Object(R.jsxs)(P.a,{container:!0,justifyContent:"space-between",color:"textSecondary",children:[" ",Object(R.jsx)(j.a,{component:"button",variant:"body2",color:"textSecondary",align:"left",onClick:function(){De(!0)},children:"How this game works"})]}),Object(R.jsx)(K.a,{open:Fe,onClose:function(){return We(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(R.jsx)(D.a,{style:{padding:24},children:"During raffle phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed."})}),Object(R.jsx)(K.a,{open:Ye,onClose:function(){ze(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(R.jsxs)(D.a,{style:{padding:24},children:[!(null===Pe||void 0===Pe?void 0:Pe.state.data.antiRugSetting)&&Object(R.jsx)("span",{children:"This Fair Launch has no anti-rug settings."}),(null===Pe||void 0===Pe?void 0:Pe.state.data.antiRugSetting)&&Pe.state.data.antiRugSetting.selfDestructDate&&Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Anti-Rug Policy"}),Object(R.jsx)("p",{children:"This raffle is governed by a smart contract to prevent the artist from running away with your money."}),Object(R.jsx)("p",{children:"How it works:"}),"This project will retain"," ",Pe.state.data.antiRugSetting.reserveBp/100,"% (\u25ce"," ",(null===Pe||void 0===Pe?void 0:Pe.treasury)*Pe.state.data.antiRugSetting.reserveBp/(1e4*O.LAMPORTS_PER_SOL),") of the pledged amount in a locked state until all but"," ",Pe.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs (out of up to"," ",Pe.state.data.numberOfTokens.toNumber(),") have been minted.",Object(R.jsxs)("p",{children:["If more than"," ",Pe.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs remain as of"," ",null===(ee=Object(z.f)(Pe.state.data.antiRugSetting.selfDestructDate))||void 0===ee?void 0:ee.toLocaleDateString()," ","at"," ",null===(te=Object(z.f)(Pe.state.data.antiRugSetting.selfDestructDate))||void 0===te?void 0:te.toLocaleTimeString(),", you will have the option to get a refund of"," ",Pe.state.data.antiRugSetting.reserveBp/100,"% of the cost of your token."]}),(null===Pe||void 0===Pe||null===(ne=Pe.ticket)||void 0===ne?void 0:ne.data)&&!(null===Pe||void 0===Pe||null===(ae=Pe.ticket)||void 0===ae?void 0:ae.data.state.withdrawn)&&Object(R.jsx)(G,{onClick:$e,variant:"contained",disabled:!Pe.ticket.data||!Pe.ticket.data.state.punched||Date.now()/1e3<Pe.state.data.antiRugSetting.selfDestructDate.toNumber(),children:fe?Object(R.jsx)(k.a,{}):Date.now()/1e3<Pe.state.data.antiRugSetting.selfDestructDate.toNumber()?Object(R.jsxs)("span",{children:["Refund in...",Object(R.jsx)(A.a,{date:Object(z.f)(Pe.state.data.antiRugSetting.selfDestructDate)})]}):"Refund"}),Object(R.jsx)("div",{style:{textAlign:"center",marginTop:"-5px"},children:(null===Pe||void 0===Pe||null===(re=Pe.ticket)||void 0===re?void 0:re.data)&&!(null===Pe||void 0===Pe||null===(ie=Pe.ticket)||void 0===ie||null===(se=ie.data)||void 0===se?void 0:se.state.punched)&&Object(R.jsx)("small",{children:"You currently have a ticket but it has not been punched yet, so cannot be refunded."})})]})]})}),Object(R.jsxs)(K.a,{open:Ne,onClose:function(){return De(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:[Object(R.jsxs)(N.a,{disableTypography:!0,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(R.jsx)(j.a,{component:"button",variant:"h6",color:"textSecondary",onClick:function(){De(!0)},children:"How to win"}),Object(R.jsx)(x.a,{"aria-label":"close",className:J.closeButton,onClick:function(){return De(!1)},children:Object(R.jsx)(I.a,{})})]}),Object(R.jsxs)(D.a,{children:[Object(R.jsx)(T.a,{variant:"h6",children:"Phase 1 - The Game:"}),Object(R.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"Every time someone new bids the price increases and the timer resets. Dev takes 1% of every bid, fuckboi takes 1% for putting up $, which doesn't get to see treasurypot. That top bidder becomes the Authority. Anyone at any phase can check the code on dunncreativess/fair3d, or run the show command on the cli. Metaplex team can assist you."}),Object(R.jsx)(T.a,{variant:"h6",children:"Phase 2 - Grace period:"}),Object(R.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"You can optionally pay the top bid in order to qualify for a ticket."}),Object(R.jsx)(T.a,{variant:"h6",children:"Phase 3 - The Lottery:"}),Object(R.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"If you get a ticket, the Authority must conduct a lottery. The Metaplex team can assist the Authority. There are 10% of the total unique addreses bidding as winning tickets."}),Object(R.jsx)(T.a,{variant:"h6",children:"Phase 4 - The Candy Machine:"}),Object(R.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"Winners of lottery share 10% treasurypot when you punch your ticket. You also get an NFT. The Authority can punch everyone's tickets for them. When withdrawing, the Authority gets what's left of the treasurypot - 90%."}),Object(R.jsx)(T.a,{variant:"h6",children:"Wat?"}),Object(R.jsx)(T.a,{gutterBottom:!0,color:"textSecondary",children:"If 500 bidders means 50 winning tickets. There's 1 bidder that gets a ticket by default - the top bidder. They also get 90% of the treasurypot. Anyone who opts into paying their top bid gets a chance at one of those 50 winning tickets, and those 50 tickets share 10% pot."})]})]})]})})}),Pe&&Object(R.jsx)(v.a,{maxWidth:"xs",style:{position:"relative",marginTop:10},children:Object(R.jsx)("div",{style:{margin:20},children:Object(R.jsxs)(P.a,{container:!0,direction:"row",wrap:"nowrap",children:[Object(R.jsxs)(P.a,{container:!0,md:4,direction:"column",children:[Object(R.jsx)(T.a,{variant:"body2",color:"textSecondary",children:"Bids"}),Object(R.jsx)(T.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:(null===Pe||void 0===Pe?void 0:Pe.state.numberTicketsSold.toNumber())||0})]}),Object(R.jsxs)(P.a,{container:!0,md:4,direction:"column",children:[Object(R.jsx)(T.a,{variant:"body2",color:"textSecondary",children:"Top bid"}),Object(R.jsxs)(T.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce ",z.c.format(Ze)]})]}),Object(R.jsxs)(P.a,{container:!0,md:4,direction:"column",children:[Object(R.jsx)(T.a,{variant:"body2",color:"textSecondary",children:"Total raised"}),Object(R.jsxs)(T.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce"," ",z.c.format(((null===Pe||void 0===Pe?void 0:Pe.treasury)||0)/O.LAMPORTS_PER_SOL)]})]})]})})}),Object(R.jsx)(S.a,{open:Oe.open,autoHideDuration:6e3,onClose:function(){return we(Object(d.a)(Object(d.a)({},Oe),{},{open:!1}))},children:Object(R.jsx)(F.a,{onClose:function(){return we(Object(d.a)(Object(d.a)({},Oe),{},{open:!1}))},severity:Oe.severity,children:Oe.message})})]})},ee=n(33),te=n(231),ne=n(119),ae=n(777),re=n(486),ie=c.a.createContext(null),se=function(e){var t=e.children,n=void 0===t?null:t,a=Object(o.useRef)(),r=Object(o.useRef)(),i=Object(o.useMemo)((function(){return function(){var e;r.current&&a.current&&(a.current.style.visibility="visible",null===(e=r.current({particleCount:400,spread:160,origin:{y:.3}}))||void 0===e||e.finally((function(){a.current&&(a.current.style.visibility="hidden")})))}}),[]);Object(o.useEffect)((function(){a.current&&!r.current&&(a.current.style.visibility="hidden",r.current=re.a.create(a.current,{resize:!0,useWorker:!0}))}),[]);return Object(R.jsxs)(ie.Provider,{value:{dropConfetti:i},children:[Object(R.jsx)("canvas",{ref:a,style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1,top:0,left:0}}),n]})},oe=Object(ne.b)({palette:{type:"dark"}}),ce=new ee.e.PublicKey("CKdk5rxrBo73J3D6jCk8XDgx4b5kojcmu7KvfWFaufKF"),ue=new ee.e.Connection("https://api.mainnet-beta.solana.com"),le=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"",REACT_APP_SOLANA_NETWORK:"mainnet-beta",REACT_APP_SOLANA_RPC_HOST:"https://api.mainnet-beta.solana.com",REACT_APP_FAIR_LAUNCH_ID:"CKdk5rxrBo73J3D6jCk8XDgx4b5kojcmu7KvfWFaufKF"}).REACT_APP_CANDY_START_DATE,10),de=function(){var e=Object(o.useMemo)((function(){return Object(O.clusterApiUrl)("mainnet-beta")}),[]),t=Object(o.useMemo)((function(){return[Object(te.getPhantomWallet)(),Object(te.getSolflareWallet)(),Object(te.getSolletWallet)()]}),[]);return Object(R.jsx)(ae.a,{theme:oe,children:Object(R.jsx)(W.ConnectionProvider,{endpoint:e,children:Object(R.jsx)(W.WalletProvider,{wallets:t,autoConnect:!0,children:Object(R.jsx)(U.WalletDialogProvider,{children:Object(R.jsx)(se,{children:Object(R.jsx)($,{candyMachineId:undefined,fairLaunchId:ce,connection:ue,startDate:le,txTimeout:3e4})})})})})})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,793)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};l.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(de,{})}),document.getElementById("root")),me()}},[[759,1,2]]]);
//# sourceMappingURL=main.205b16ca.chunk.js.map