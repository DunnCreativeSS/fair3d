(this["webpackJsonpcandy-machine-mint"]=this["webpackJsonpcandy-machine-mint"]||[]).push([[0],{151:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return j})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return w}));var r,a=n(18),i=n(1),c=n.n(i),o=n(20),s=n(3),u=n(30),l=n(54),d=n(55),b=n(49),p=new u.e.PublicKey("GUes4PH9UcoMuhATVaT1FH5QAQja1uHep8YnPE1oxPSY"),h=new u.e.PublicKey("91abFaf8hFuggXr7sr6PZkcRK7UiggKRpu7aiZeELSyz"),f=new u.e.PublicKey("5beKm6Ht5pbxgUSHirhSzhXNe77sTg51wcQcZyCGNeUe"),v=new u.e.PublicKey("EPAEqcnXHJfU4efoBucinXy8LHjWmYqrButbXUDN8KvA"),g=new u.e.PublicKey("Dd5hc3DyQJAU1krAMGkN5SFBSR3cuu8iaQcmirojbD47");!function(e){e.Brewing="Brewing",e.Finished="Finished",e.PastDue="Past Due"}(r||(r={}));var m=function(){var e=Object(s.a)(c.a.mark((function e(t,n,r){var a,i,s,l,d,b,h,f,v,g,m,j,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new u.c(r,t,{preflightCommitment:"recent"}),e.next=3,u.b.fetchIdl(p,a);case 3:return i=e.sent,s=new u.b(i,p,a),e.next=7,s.account.fairLaunch.fetch(n);case 7:return l=e.sent,e.next=10,y(l.tokenMint,t.publicKey);case 10:return d=e.sent,b=Object(o.a)(d,2),h=b[0],f=b[1],e.prev=14,e.next=17,s.account.fairLaunchTicket.fetch(h);case 17:v=e.sent,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.log("No ticket");case 23:return e.next=25,s.provider.connection.getBalance(l.treasury);case 25:return g=e.sent,m=new Uint8Array([]),e.next=29,x(l.tokenMint);case 29:return j=e.sent[0],e.prev=30,e.next=33,s.provider.connection.getAccountInfo(j);case 33:O=e.sent,m=new Uint8Array((null===O||void 0===O?void 0:O.data)||[]),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(30),console.log("Could not find fair launch lottery."),console.log(e.t1);case 41:return e.abrupt("return",{id:n,state:l,program:s,ticket:{pubkey:h,bump:f,data:v},lottery:{pubkey:j,data:m},treasury:g});case 42:case"end":return e.stop()}}),e,null,[[14,20],[30,37]])})));return function(t,n,r){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r,i,o,s,d,p,h,f,v,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n.state.tokenMint,t.publicKey);case 2:return r=e.sent[0],i=n.ticket.data,e.next=6,x(n.state.tokenMint);case 6:return o=e.sent[0],e.next=9,Object(b.d)(n.state.tokenMint,t.publicKey);case 9:if(s=e.sent[0],!(null===i||void 0===i?void 0:i.amount.gt(n.state.currentMedian))){e.next=20;break}return console.log("Adjusting down...",null===i||void 0===i?void 0:i.amount.toNumber(),n.state.currentMedian.toNumber()),e.next=14,O(n.program,n.state.currentMedian.toNumber(),t,n,r);case 14:return d=e.sent,p=d.remainingAccounts,h=d.instructions,f=d.signers,e.next=20,n.program.rpc.adjustTicket(n.state.currentMedian,{accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:o,dev:n.state.dev,buyer:t.publicKey,treasury:n.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},instructions:h.length>0?h:void 0,remainingAccounts:[{pubkey:t.publicKey,isSigner:!0,isWritable:!0}].concat(Object(a.a)(p)),signers:f});case 20:return e.next=22,n.program.provider.connection.getAccountInfo(s);case 22:return v=e.sent,g=v?[]:[Object(b.b)(s,t.publicKey,t.publicKey,n.state.tokenMint)],e.next=26,n.program.rpc.punchTicket({accounts:{fairLaunchTicket:r,fairLaunch:n.id,fairLaunchLotteryBitmap:o,payer:t.publicKey,buyerTokenAccount:s,tokenMint:n.state.tokenMint,tokenProgram:l.b},instructions:g.length>0?g:void 0});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var t=Object(s.a)(c.a.mark((function t(n,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toBuffer()],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),x=function(){var t=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),e.from("lottery")],p);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(c.a.mark((function e(t,n,r,a,i){var s,p,h,f,v,g,m,j,y,x,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",{remainingAccounts:[],instructions:[],signers:[],amountLamports:0});case 2:if(s=a.ticket,p=[],h=[],f=[],v=0,a.state.treasuryMint){e.next=11;break}v=s||0!==n?Math.ceil(n*d.LAMPORTS_PER_SOL):a.state.data.priceRangeStart.toNumber(),e.next=23;break;case 11:return g=u.e.Keypair.generate(),f.push(g),h.push(l.c.createApproveInstruction(l.b,a.state.treasuryMint,g.publicKey,r.publicKey,[],amountNumber+a.state.data.fees.toNumber())),p.push({pubkey:a.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=p,e.next=18,Object(b.d)(a.state.treasuryMint,r.publicKey);case 18:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2),p.push({pubkey:g.publicKey,isWritable:!1,isSigner:!0}),p.push({pubkey:l.b,isWritable:!1,isSigner:!1});case 23:if(!s.data){e.next=39;break}return e.next=26,Object(b.e)(a.state.tokenMint,null===(m=s.data)||void 0===m?void 0:m.seq);case 26:return j=e.sent,y=Object(o.a)(j,2),x=y[0],O=y[1],e.next=32,t.provider.connection.getAccountInfo(x);case 32:if(e.sent){e.next=39;break}return e.t3=h,e.next=37,t.instruction.createTicketSeq(O,{accounts:{fairLaunchTicketSeqLookup:x,fairLaunch:a.id,fairLaunchTicket:i,payer:r.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY},signers:[]});case 37:e.t4=e.sent,e.t3.push.call(e.t3,e.t4);case 39:return e.abrupt("return",{remainingAccounts:p,instructions:h,signers:f,amountLamports:v});case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(c.a.mark((function e(t,n){var r,a,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(b.d)(n.state.tokenMint,t.publicKey);case 4:if(r=e.sent[0],a=u.e.Keypair.generate(),i=[a],o=[l.c.createApproveInstruction(l.b,r,a.publicKey,t.publicKey,[],1)],s=[],!n.state.treasuryMint){e.next=17;break}return s.push({pubkey:n.state.treasuryMint,isWritable:!0,isSigner:!1}),e.t0=s,e.next=14,Object(b.d)(n.state.treasuryMint,t.publicKey);case 14:e.t1=e.sent[0],e.t2={pubkey:e.t1,isWritable:!0,isSigner:!1},e.t0.push.call(e.t0,e.t2);case 17:return console.log("tfr",n.state.treasury.toBase58(),t.publicKey.toBase58(),r.toBase58()),e.next=20,n.program.rpc.receiveRefund({accounts:{fairLaunch:n.id,treasury:n.state.treasury,buyer:t.publicKey,buyerTokenAccount:r,transferAuthority:a.publicKey,tokenMint:n.state.tokenMint,tokenProgram:l.b,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:s,instructions:o,signers:i});case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(c.a.mark((function e(t,n,r){var i,s,l,d,b,p,m,j,k,w,S,P,T;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return i=r.ticket.data,e.next=5,y(r.state.tokenMint,n.publicKey);case 5:return s=e.sent,l=Object(o.a)(s,2),d=l[0],b=l[1],e.next=11,O(r.program,t,n,r,d);case 11:if(p=e.sent,m=p.remainingAccounts,j=p.instructions,k=p.signers,w=p.amountLamports,!i){e.next=26;break}return e.next=19,x(r.state.tokenMint);case 19:return S=e.sent[0],console.log("Anchor wallet",n.publicKey.toBase58(),w),P=n.publicKey,0==w&&(P=r.state.authority),e.next=25,r.program.rpc.adjustTicket(new u.a(w),{accounts:{fairLaunchTicket:d,fairLaunch:r.id,dev:r.state.dev,buyer:P,fairLaunchLotteryBitmap:S,treasury:r.state.treasury,systemProgram:u.e.SystemProgram.programId,clock:u.e.SYSVAR_CLOCK_PUBKEY},__private:{logAccounts:!0},remainingAccounts:[{pubkey:r.state.treasury,isSigner:!1,isWritable:!0}].concat(Object(a.a)(m)),signers:k,instructions:j.length>0?j:void 0});case 25:return e.abrupt("return");case 26:return e.prev=26,T=n.publicKey,0==w&&(T=r.state.authority),console.log("Amount",w),e.next=32,r.program.rpc.purchaseTicket(b,new u.a(w),{accounts:{fairLaunchTicket:d,fairLaunch:r.id,fairLaunchOne:h,fairLaunchTwo:f,fairLaunchThree:v,fairLaunchFour:g,authority:r.state.authority,dev:r.state.dev,tokenMint:r.state.tokenMint,treasury:r.state.treasury,buyer:T,payer:n.publicKey,systemProgram:u.e.SystemProgram.programId,rent:u.e.SYSVAR_RENT_PUBKEY,clock:u.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:r.state.dev,isSigner:!1,isWritable:!0},{pubkey:r.state.authority,isSigner:!1,isWritable:!0}].concat(Object(a.a)(m)),signers:k,instructions:j.length>0?j:void 0});case 32:e.next=38;break;case 34:throw e.prev=34,e.t0=e.catch(26),console.log(e.t0),e.t0;case 38:case"end":return e.stop()}}),e,null,[[26,34]])})));return function(t,n,r){return e.apply(this,arguments)}}()}).call(this,n(6).Buffer)},231:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return m}));var r=n(1),a=n.n(r),i=n(3),c=n(30),o=n(54),s=n(55),u=n(481),l=n(49),d=new c.e.PublicKey("cndyAnrLdpjq1Ssp1z8xxDsB8dxe7u4HL5Nxi2K5WXZ"),b=new c.e.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),p=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var c,o,s,u,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l.length>3&&void 0!==l[3]?l[3]:"recent",c=l.length>4&&void 0!==l[4]&&l[4],o=!1,s={slot:0,confirmations:0,err:null},u=0,e.next=7,new Promise(function(){var e=Object(i.a)(a.a.mark((function e(u,l){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){o||(o=!0,console.log("Rejecting for timeout..."),l({timeout:!0}))}),n);case 1:if(o||!c){e.next=7;break}return Object(i.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,s=n&&n.value[0],o||(s?s.err?(console.log("REST error for",t,s),o=!0,l(s.err)):s.confirmations?(console.log("REST confirmation for",t,s),o=!0,u(s)):console.log("REST no confirmations for",t,s):console.log("REST null result for",t,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=5,j(2e3);case 5:e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return s=e.sent,r._signatureSubscriptions[u]&&r.removeSignatureListener(u),o=!0,console.log("Returning status",s),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c.e.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:c.e.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new c.e.TransactionInstruction({keys:i,programId:l.a,data:e.from([])})},f=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r){var i,o,s,u,l,b,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new c.c(r,t,{preflightCommitment:"recent"}),e.next=3,c.b.fetchIdl(d,i);case 3:return o=e.sent,s=new c.b(o,d,i),e.next=7,s.account.candyMachine.fetch(n);case 7:return u=e.sent,l=u.data.itemsAvailable.toNumber(),b=u.itemsRedeemed.toNumber(),p=l-b,e.abrupt("return",{id:n,program:s,state:{itemsAvailable:l,itemsRedeemed:b,itemsRemaining:p,isSoldOut:0===p,isActive:u.data.goLiveDate.toNumber()<(new Date).getTime()/1e3,goLiveDate:u.data.goLiveDate,treasury:u.wallet,tokenMint:u.tokenMint,config:u.config,price:u.data.price}});case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer(),e.from("edition")],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var t=Object(i.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([e.from("metadata"),b.toBuffer(),n.toBuffer()],b);case 2:return t.abrupt("return",t.sent[0]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i,d,p,f,m,j,y,x,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.e.Keypair.generate(),e.next=3,Object(l.d)(r.publicKey,n);case 3:return i=e.sent[0],e.next=6,Object(l.d)(t.state.tokenMint,n);case 6:return d=e.sent[0],p=t.id,f=[],m=[r],e.t0=c.e.SystemProgram,e.t1=n,e.t2=r.publicKey,e.t3=o.a.span,e.next=16,t.program.provider.connection.getMinimumBalanceForRentExemption(o.a.span);case 16:return e.t4=e.sent,e.t5=o.b,e.t6={fromPubkey:e.t1,newAccountPubkey:e.t2,space:e.t3,lamports:e.t4,programId:e.t5},e.t7=e.t0.createAccount.call(e.t0,e.t6),e.t8=o.c.createInitMintInstruction(o.b,r.publicKey,0,n,n),e.t9=h(i,n,n,r.publicKey),e.t10=o.c.createMintToInstruction(o.b,r.publicKey,i,n,[],1),j=[e.t7,e.t8,e.t9,e.t10],t.state.tokenMint&&(y=c.e.Keypair.generate(),m.push(y),f.push({pubkey:d,isWritable:!0,isSigner:!1}),f.push({pubkey:y.publicKey,isWritable:!1,isSigner:!0}),j.push(o.c.createApproveInstruction(o.b,d,y.publicKey,n,[],t.state.price.toNumber()))),e.next=27,g(r.publicKey);case 27:return x=e.sent,e.next=30,v(r.publicKey);case 30:return O=e.sent,e.t11=j,e.next=34,t.program.instruction.mintNft({accounts:{config:t.state.config,candyMachine:p,payer:n,wallet:t.state.treasury,mint:r.publicKey,metadata:x,masterEdition:O,mintAuthority:n,updateAuthority:n,tokenMetadataProgram:b,tokenProgram:o.b,systemProgram:s.SystemProgram.programId,rent:c.e.SYSVAR_RENT_PUBKEY,clock:c.e.SYSVAR_CLOCK_PUBKEY},remainingAccounts:f.length>0?f:void 0});case 34:return e.t12=e.sent,e.t11.push.call(e.t11,e.t12),e.prev=37,e.next=40,Object(u.a)(t.program.provider.connection,t.program.provider.wallet,j,m);case 40:return e.abrupt("return",e.sent.txid);case 43:e.prev=43,e.t13=e.catch(37),console.log(e.t13);case 46:return e.abrupt("return","j");case 47:case"end":return e.stop()}}),e,null,[[37,43]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e){return new Promise((function(t){return setTimeout(t,e)}))}}).call(this,n(6).Buffer)},481:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n(18),i=n(1),c=n.n(i),o=n(3),s=n(55),u=n(65);!function(e){e[e.Sequential=0]="Sequential",e[e.Parallel=1]="Parallel",e[e.StopOnFailure=2]="StopOnFailure"}(r||(r={}));var l=function(){var e=Object(o.a)(c.a.mark((function e(t,n,r,i){var o,l,d,b,h,f,v,g,m,j,y,x=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=x.length>4&&void 0!==x[4]?x[4]:"singleGossip",l=x.length>5&&void 0!==x[5]&&x[5],d=x.length>6?x[6]:void 0,b=x.length>7?x[7]:void 0,n.publicKey){e.next=6;break}throw new u.WalletNotConnectedError;case 6:if(h=new s.Transaction,r.forEach((function(e){return h.add(e)})),e.t0=d,e.t0){e.next=13;break}return e.next=12,t.getRecentBlockhash(o);case 12:e.t0=e.sent;case 13:if(h.recentBlockhash=e.t0.blockhash,l?(f=h).setSigners.apply(f,Object(a.a)(i.map((function(e){return e.publicKey})))):(v=h).setSigners.apply(v,[n.publicKey].concat(Object(a.a)(i.map((function(e){return e.publicKey}))))),i.length>0&&(g=h).partialSign.apply(g,Object(a.a)(i)),l){e.next=20;break}return e.next=19,n.signTransaction(h);case 19:h=e.sent;case 20:return b&&b(),e.next=23,p({connection:t,signedTransaction:h});case 23:return m=e.sent,j=m.txid,y=m.slot,e.abrupt("return",{txid:j,slot:y});case 27:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){return(new Date).getTime()/1e3},b=15e3;function p(e){return h.apply(this,arguments)}function h(){return(h=Object(o.a)(c.a.mark((function e(t){var n,r,a,i,s,u,l,p,h,v,m,y,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signedTransaction,r=t.connection,a=t.timeout,i=void 0===a?b:a,s=n.serialize(),u=d(),l=0,e.next=6,r.sendRawTransaction(s,{skipPreflight:!0});case 6:return p=e.sent,console.log("Started awaiting confirmation for",p),h=!1,Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h||!(d()-u<i)){e.next=6;break}return r.sendRawTransaction(s,{skipPreflight:!0}),e.next=4,j(500);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e)})))(),e.prev=10,e.next=13,g(p,i,r,"recent",!0);case 13:if(v=e.sent){e.next=16;break}throw new Error("Timed out awaiting confirmation on transaction");case 16:if(!v.err){e.next=19;break}throw console.error(v.err),new Error("Transaction failed: Custom instruction error");case 19:l=(null===v||void 0===v?void 0:v.slot)||0,e.next=47;break;case 22:if(e.prev=22,e.t0=e.catch(10),console.error("Timeout Error caught",e.t0),!e.t0.timeout){e.next=27;break}throw new Error("Timed out awaiting confirmation on transaction");case 27:return m=null,e.prev=28,e.next=31,f(r,n,"single");case 31:m=e.sent.value,e.next=36;break;case 34:e.prev=34,e.t1=e.catch(28);case 36:if(!m||!m.err){e.next=47;break}if(!m.logs){e.next=46;break}y=m.logs.length-1;case 39:if(!(y>=0)){e.next=46;break}if(!(x=m.logs[y]).startsWith("Program log: ")){e.next=43;break}throw new Error("Transaction failed: "+x.slice("Program log: ".length));case 43:--y,e.next=39;break;case 46:throw new Error(JSON.stringify(m.err));case 47:return e.prev=47,h=!0,e.finish(47);case 50:return console.log("Latency",p,d()-u),e.abrupt("return",{txid:p,slot:l});case 52:case"end":return e.stop()}}),e,null,[[10,22,47,50],[28,34]])})))).apply(this,arguments)}function f(e,t,n){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(c.a.mark((function e(t,n,r){var a,i,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._recentBlockhash(t._disableBlockhashCaching);case 2:return n.recentBlockhash=e.sent,a=n.serializeMessage(),i=n._serialize(a),o=i.toString("base64"),s=[o,{encoding:"base64",commitment:r}],e.next=10,t._rpcRequest("simulateTransaction",s);case 10:if(!(u=e.sent).error){e.next=13;break}throw new Error("failed to simulate transaction: "+u.error.message);case 13:return e.abrupt("return",u.result);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n){return m.apply(this,arguments)}function m(){return m=Object(o.a)(c.a.mark((function e(t,n,r){var a,i,s,u,l,d=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:"recent",i=d.length>4&&void 0!==d[4]&&d[4],s=!1,u={slot:0,confirmations:0,err:null},l=0,e.next=7,new Promise(function(){var e=Object(o.a)(c.a.mark((function e(d,b){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){s||(s=!0,console.log("Rejecting for timeout..."),b({timeout:!0}))}),n);try{l=r.onSignature(t,(function(e,t){s=!0,u={err:e.err,slot:t.slot,confirmations:0},e.err?(console.log("Rejected via websocket",e.err),b(u)):(console.log("Resolved via websocket",e),d(u))}),a)}catch(p){s=!0,console.error("WS error in setup",t,p)}case 2:if(s||!i){e.next=8;break}return Object(o.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.getSignatureStatuses([t]);case 3:n=e.sent,u=n&&n.value[0],s||(u?u.err?(console.log("REST error for",t,u),s=!0,b(u.err)):u.confirmations?(console.log("REST confirmation for",t,u),s=!0,d(u)):console.log("REST no confirmations for",t,u):console.log("REST null result for",t,u)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s||console.log("REST connection error: txid",t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),e.next=6,j(2e3);case 6:e.next=2;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 7:return u=e.sent,r._signatureSubscriptions[l]&&r.removeSignatureListener(l),s=!0,console.log("Returning status",u),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function j(e){return new Promise((function(t){return setTimeout(t,e)}))}},49:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return v}));var r=n(1),a=n.n(r),i=n(3),c=n(30),o=n(54),s=n(55),u=new c.e.PublicKey("3i1LEoG7xM9PvcfDA8jahjnbd2jxXe99835yGUZa9ZhT"),l=function(e){if(e)return new Date(1e3*e.toNumber())},d=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}),b={format:function(e){return e?d.format(e):"--"},asNumber:function(e){if(e)return e.toNumber()/s.LAMPORTS_PER_SOL}},p=new c.e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),h=function(){var t=Object(i.a)(a.a.mark((function t(n,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e.PublicKey.findProgramAddress([e.from("fair_launch"),n.toBuffer(),r.toArrayLike(e,"le",8)],u);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.e.PublicKey.findProgramAddress([n.toBuffer(),o.b.toBuffer(),t.toBuffer()],p);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function v(t,n,r,a){var i=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.b,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new s.TransactionInstruction({keys:i,programId:p,data:e.from([])})}}).call(this,n(6).Buffer)},507:function(e,t,n){},508:function(e,t,n){},513:function(e,t){},515:function(e,t){},531:function(e,t){},532:function(e,t){},653:function(e,t){},655:function(e,t){},669:function(e,t){},673:function(e,t){},675:function(e,t){},686:function(e,t){},688:function(e,t){},715:function(e,t){},717:function(e,t){},722:function(e,t){},724:function(e,t){},731:function(e,t){},743:function(e,t){},746:function(e,t){},758:function(e,t){},759:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o=n(5),s=n.n(o),u=n(41),l=n.n(u),d=(n(507),n(508),n(10)),b=n(1),p=n.n(b),h=n(3),f=n(20),v=n(230),g=n(175),m=n(792),j=n(781),y=n(780),x=n(788),O=n(778),k=n(789),w=n(779),S=n(491),P=n(494),T=n(787),A=n(477),R=n(172),L=n(383),K=n(19),E=Object(L.a)((function(e){return Object(A.a)({root:{display:"flex",padding:e.spacing(0),"& > *":{margin:e.spacing(.5),marginRight:0,width:e.spacing(6),height:e.spacing(6),display:"flex",flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontSize:10}},done:{display:"flex",margin:e.spacing(1),marginRight:0,padding:e.spacing(1),flexDirection:"column",alignContent:"center",alignItems:"center",justifyContent:"center",background:"#384457",color:"white",borderRadius:5,fontWeight:"bold",fontSize:18},item:{fontWeight:"bold",fontSize:18}})})),_=function(e){var t=e.date,n=e.status,r=e.style,a=e.start,i=e.end,c=e.onComplete,s=E(),u=Object(o.useState)(!!(a&&i&&t)&&a.getTime()-Date.now()<0),l=Object(f.a)(u,2),d=l[0],b=(l[1],function(e){var t=e.days,a=e.hours,i=e.minutes,c=e.seconds;return a+=24*t,e.completed?n?Object(K.jsx)("span",{className:s.done,children:n}):null:Object(K.jsxs)("div",{className:s.root,style:r,children:[d&&Object(K.jsx)(S.a,{elevation:0,children:Object(K.jsx)("span",{className:s.item,children:"+"})}),Object(K.jsxs)(S.a,{elevation:0,children:[Object(K.jsx)("span",{className:s.item,children:a<10?"0".concat(a):a}),Object(K.jsx)("span",{children:"hrs"})]}),Object(K.jsxs)(S.a,{elevation:0,children:[Object(K.jsx)("span",{className:s.item,children:i<10?"0".concat(i):i}),Object(K.jsx)("span",{children:"mins"})]}),Object(K.jsxs)(S.a,{elevation:0,children:[Object(K.jsx)("span",{className:s.item,children:c<10?"0".concat(c):c}),Object(K.jsx)("span",{children:"secs"})]})]})});return t&&a&&i&&d&&R.a,t?Object(K.jsx)(R.a,{date:t,onComplete:c,renderer:b}):null},C=n(782),M=n(786),N=n(785),D=n(300),B=n.n(D),I=n(790),W=n(55),U=n(102),F=n(218),Y=n(231),H=n(151),q=n(49),z=Object(g.a)(F.WalletDialogButton)(r||(r=Object(v.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 2px;\n  margin-bottom: 1px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),X=g.a.div(a||(a=Object(v.a)([""]))),G=Object(g.a)(w.a)(i||(i=Object(v.a)(["\n  width: 100%;\n  height: 60px;\n  margin-top: 2px;\n  margin-bottom: 1px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n"]))),V=function(e){return Object(A.a)({root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}})},Z=Object(g.a)(m.a)({color:"#C0D5FE",height:8,"& > *":{height:4},"& .MuiSlider-track":{border:"none",height:4},"& .MuiSlider-thumb":{height:24,width:24,marginTop:-10,background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)",border:"2px solid currentColor","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"}},"& .MuiSlider-valueLabel":{"& > *":{background:"linear-gradient(180deg, #604AE5 0%, #813EEE 100%)"},lineHeight:1.2,fontSize:12,padding:0,width:32,height:32,marginLeft:9}});!function(e){e[e.Phase0=0]="Phase0",e[e.Phase1=1]="Phase1",e[e.Phase2=2]="Phase2",e[e.Lottery=3]="Lottery",e[e.Phase3=4]="Phase3",e[e.Phase4=5]="Phase4",e[e.Unknown=6]="Unknown"}(c||(c={}));var Q=function(e){var t=e.phaseName,n=e.desc,r=e.date,a=e.status;return Object(K.jsxs)(T.a,{container:!0,justifyContent:"center",children:[Object(K.jsxs)(T.a,{xs:6,justifyContent:"center",direction:"column",children:[Object(K.jsx)(P.a,{variant:"h5",style:{fontWeight:600},children:t}),Object(K.jsx)(P.a,{variant:"body1",color:"textSecondary",children:n})]}),Object(K.jsx)(T.a,{xs:6,container:!0,justifyContent:"flex-end",children:Object(K.jsx)(_,{date:Object(q.f)(r),style:{justifyContent:"flex-end"},status:a||"COMPLETE"})})]})};function J(e,t){var n,r,a,i,o=(new Date).getTime(),s=null===(n=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseOneStart))||void 0===n?void 0:n.getTime(),u=null===(r=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseOneEnd))||void 0===r?void 0:r.getTime(),l=null===(a=Object(q.f)(null===e||void 0===e?void 0:e.state.data.phaseTwoEnd))||void 0===a?void 0:a.getTime(),d=null===(i=Object(q.f)(null===t||void 0===t?void 0:t.state.goLiveDate))||void 0===i?void 0:i.getTime();return s&&o<s?c.Phase0:u&&o<=u?c.Phase1:l&&o<=l?c.Phase2:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?(null===e||void 0===e?void 0:e.state.phaseThreeStarted)&&d&&o>d?c.Phase4:(null===e||void 0===e?void 0:e.state.phaseThreeStarted)?c.Phase3:c.Unknown:c.Lottery}var $=function(e,t){var n,r,a;if(t>0)return!0;if(!(null===e||void 0===e?void 0:e.lottery.data)||!(null===e||void 0===e?void 0:e.lottery.data.length)||!(null===e||void 0===e||null===(n=e.ticket.data)||void 0===n?void 0:n.seq)||!(null===e||void 0===e?void 0:e.state.phaseThreeStarted))return!1;var i=e.lottery.data[49+Math.floor((null===(r=e.ticket.data)||void 0===r?void 0:r.seq.toNumber())/8)],c=7-(null===(a=e.ticket.data)||void 0===a?void 0:a.seq.toNumber())%8,o=i&Math.pow(2,c);return o>0},ee=function(e){var t,n,r,a,i,s,u,l,b,v,g,m,w,A,L,E,_,D,F,ee,te,ne,re,ae,ie,ce,oe,se,ue,le,de=Object(o.useState)(0),be=Object(f.a)(de,2),pe=be[0],he=be[1],fe=Object(o.useState)(null),ve=Object(f.a)(fe,2),ge=ve[0],me=ve[1],je=Object(o.useState)(!1),ye=Object(f.a)(je,2),xe=ye[0],Oe=ye[1],ke=Object(o.useState)(0),we=Object(f.a)(ke,2),Se=we[0],Pe=we[1],Te=Object(U.useWallet)(),Ae=Object(o.useMemo)((function(){if(Te&&Te.publicKey&&Te.signAllTransactions&&Te.signTransaction)return{publicKey:Te.publicKey,signAllTransactions:Te.signAllTransactions,signTransaction:Te.signTransaction}}),[Te]),Re=Object(o.useState)({open:!1,message:"",severity:void 0}),Le=Object(f.a)(Re,2),Ke=Le[0],Ee=Le[1],_e=Object(o.useState)(),Ce=Object(f.a)(_e,2),Me=Ce[0],Ne=Ce[1],De=Object(o.useState)(),Be=Object(f.a)(De,2),Ie=Be[0],We=Be[1],Ue=Object(o.useState)(!1),Fe=Object(f.a)(Ue,2),Ye=Fe[0],He=Fe[1],qe=Object(o.useState)(!1),ze=Object(f.a)(qe,2),Xe=ze[0],Ge=ze[1],Ve=Object(o.useState)(!1),Ze=Object(f.a)(Ve,2),Qe=Ze[0],Je=Ze[1],$e=function(){var t=Object(h.a)(p.a.mark((function t(){var n,r,a,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Oe(!0),!(Te.connected&&(null===Ie||void 0===Ie?void 0:Ie.program)&&Te.publicKey)){t.next=13;break}if(!(null===Me||void 0===Me||null===(n=Me.ticket.data)||void 0===n?void 0:n.state.unpunched)||!$(Me,pe)){t.next=6;break}return t.next=6,st();case 6:return t.next=8,Object(Y.c)(Ie,Te.publicKey);case 8:return r=t.sent,t.next=11,Object(Y.a)(r,e.txTimeout,e.connection,"singleGossip",!1);case 11:(null===(a=t.sent)||void 0===a?void 0:a.err)?Ee({open:!0,message:"Mint failed! Please try again!",severity:"error"}):Ee({open:!0,message:"Congratulations! Mint succeeded!",severity:"success"});case 13:t.next=20;break;case 15:t.prev=15,t.t0=t.catch(0),i=t.t0.msg||"Minting failed! Please try again!",t.t0.msg?311===t.t0.code?(i="SOLD OUT!",window.location.reload()):312===t.t0.code&&(i="Minting period hasn't started yet."):t.t0.message?t.t0.message.indexOf("0x138")||(t.t0.message.indexOf("0x137")?i="SOLD OUT!":t.t0.message.indexOf("0x135")&&(i="Insufficient funds to mint. Please fund your wallet.")):i="Transaction Timeout! Please try again.",Ee({open:!0,message:i,severity:"error"});case 20:return t.prev=20,Oe(!1),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[0,15,20,23]])})));return function(){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){Object(h.a)(p.a.mark((function t(){var n,r,a,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ae){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,e.connection.getBalance(Ae.publicKey);case 5:return n=t.sent,me(n),t.next=9,Object(H.a)(Ae,e.fairLaunchId,e.connection);case 9:if(r=t.sent,Ne(r),t.prev=11,!r.state.tokenMint){t.next=21;break}return t.t0=e.connection,t.next=16,Object(q.d)(r.state.tokenMint,Ae.publicKey);case 16:return t.t1=t.sent[0],t.next=19,t.t0.getTokenAccountBalance.call(t.t0,t.t1);case 19:(a=t.sent).value&&he(a.value.uiAmount||0);case 21:t.next=27;break;case 23:t.prev=23,t.t2=t.catch(11),console.log("Problem getting fair launch token balance"),console.log(t.t2);case 27:Pe((r.state.currentMedian||r.state.data.priceRangeStart).toNumber()/W.LAMPORTS_PER_SOL),t.next=34;break;case 30:t.prev=30,t.t3=t.catch(2),console.log("Problem getting fair launch state"),console.log(t.t3);case 34:if(!e.candyMachineId){t.next=48;break}return t.prev=35,t.next=38,Object(Y.b)(Ae,e.candyMachineId,e.connection);case 38:i=t.sent,We(i),t.next=46;break;case 42:t.prev=42,t.t4=t.catch(35),console.log("Problem getting candy machine state"),console.log(t.t4);case 46:t.next=49;break;case 48:console.log("No candy machine detected in configuration.");case 49:case"end":return t.stop()}}),t,null,[[2,30],[11,23],[35,42]])})))()}),[Ae,e.candyMachineId,e.connection,e.fairLaunchId]);var et=q.c.asNumber(null===Me||void 0===Me?void 0:Me.state.data.priceRangeStart),tt=q.c.asNumber(null===Me||void 0===Me?void 0:Me.state.data.priceRangeEnd),nt=q.c.asNumber(null===Me||void 0===Me?void 0:Me.state.data.tickSize),rt=q.c.asNumber(null===Me||void 0===Me?void 0:Me.state.currentMedian),at=[{value:et||0,label:"".concat(et," SOL")},{value:rt||0,label:"".concat(rt)},{value:tt||0,label:"".concat(tt," SOL")}].filter((function(e){return void 0!==e&&0!==e.value})),it=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae){e.next=2;break}return e.abrupt("return");case 2:return console.log("deposit"),Oe(!0),e.prev=4,t=Se,J(Me,Ie)==c.Phase2&&(t=0),e.next=9,Object(H.c)(t,Ae,Me);case 9:Oe(!1),Ee({open:!0,message:"Congratulations! Bid ".concat((null===Me||void 0===Me?void 0:Me.ticket.data)?"updated":"inserted","!"),severity:"success"}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0),Oe(!1),Ee({open:!0,message:"Something went wrong.",severity:"error"});case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),ct=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,Oe(!0),e.next=7,Object(H.d)(Ae,Me);case 7:Oe(!1),Ee({open:!0,message:"Congratulations! You have received a refund. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),Oe(!1),Ee({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae){e.next=2;break}return e.abrupt("return");case 2:return console.log("refund"),e.prev=3,Oe(!0),e.next=7,Object(H.c)(0,Ae,Me);case 7:Oe(!1),Ee({open:!0,message:"Congratulations! Funds withdrawn. This is an irreversible action.",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0),Oe(!1),Ee({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ae&&Me&&Me.ticket){e.next=2;break}return e.abrupt("return");case 2:return console.log("punch"),Oe(!0),e.prev=4,e.next=7,Object(H.b)(Ae,Me);case 7:Oe(!1),Ee({open:!0,message:"Congratulations! Ticket punched!",severity:"success"}),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(4),console.log(e.t0),Oe(!1),Ee({open:!0,message:"Something went wrong.",severity:"error"});case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),ut=J(Me,Ie),lt=(null===Ie||void 0===Ie?void 0:Ie.state.goLiveDate)&&(null===Me||void 0===Me?void 0:Me.state.data.phaseTwoEnd)&&(null===Ie||void 0===Ie?void 0:Ie.state.goLiveDate.lt(null===Me||void 0===Me?void 0:Me.state.data.phaseTwoEnd)),dt=!!(null!=ge&&(null===Me||void 0===Me?void 0:Me.state.data.priceRangeStart)&&(null===Me||void 0===Me?void 0:Me.state.data.fee)&&ge+((null===Me||void 0===Me||null===(t=Me.ticket)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.amount.toNumber())||0)<Se*W.LAMPORTS_PER_SOL+(null===Me||void 0===Me?void 0:Me.state.data.fee.toNumber())+.01);return Object(K.jsxs)(j.a,{style:{marginTop:0},children:[Object(K.jsx)("div",{children:"Hi we're on devnet :)"}),Object(K.jsx)(j.a,{maxWidth:"xs",style:{position:"relative"},children:Object(K.jsx)(S.a,{style:{padding:24,backgroundColor:"#151A1F",borderRadius:6},children:Object(K.jsxs)(T.a,{container:!0,justifyContent:"center",direction:"column",children:[ut===c.Phase0&&Object(K.jsx)(Q,{phaseName:"Phase 0",desc:"Anticipation Phase",date:null===Me||void 0===Me?void 0:Me.state.data.phaseOneStart}),ut===c.Phase1&&Object(K.jsxs)("div",{children:[Object(K.jsx)(Q,{phaseName:"This is NOT FLP!",desc:"You may lose all your $. Risk only what you can afford to lose.",date:null===Me||void 0===Me?void 0:Me.state.data.phaseOneEnd}),Object(K.jsxs)(P.a,{variant:"h5",style:{fontWeight:900},children:[(null===Me||void 0===Me?void 0:Me.state.authority.toBase58().slice(0,3))+"..."+(null===Me||void 0===Me?void 0:Me.state.authority.toBase58().slice((null===Me||void 0===Me?void 0:Me.state.authority.toBase58().length)-3,null===Me||void 0===Me?void 0:Me.state.authority.toBase58().length))," ","is Going to Win 1st Prize of \u25ce","",q.c.format((null===Me||void 0===Me?void 0:Me.treasury)/W.LAMPORTS_PER_SOL),"! If nobody outbids 'em _soon_",q.c.format((null===Me||void 0===Me?void 0:Me.current_highest)/W.LAMPORTS_PER_SOL),"! This be the current winning bid."]})]}),ut===c.Phase2&&Object(K.jsx)(Q,{phaseName:"Hey press the mint $",desc:"It'll pay the winner, you pay sol fees, then restart this game:)",date:null===Me||void 0===Me?void 0:Me.state.data.phaseTwoEnd}),ut===c.Lottery&&Object(K.jsx)(Q,{phaseName:"Phase 3",desc:"Raffle in progress",date:null===Me||void 0===Me?void 0:Me.state.data.phaseTwoEnd.add(null===Me||void 0===Me?void 0:Me.state.data.lotteryDuration)}),ut===c.Phase3&&!Ie&&Object(K.jsx)(Q,{phaseName:"Phase 3",desc:"Raffle finished!",date:null===Me||void 0===Me?void 0:Me.state.data.phaseTwoEnd}),ut===c.Phase3&&Ie&&Object(K.jsx)(Q,{phaseName:"Phase 3",desc:"Minting starts in...",date:null===Ie||void 0===Ie?void 0:Ie.state.goLiveDate}),ut===c.Phase4&&Object(K.jsx)(Q,{phaseName:lt?"Phase 3":"Phase 4",desc:"Candy Time \ud83c\udf6c \ud83c\udf6c \ud83c\udf6c",date:null===Ie||void 0===Ie?void 0:Ie.state.goLiveDate,status:"LIVE"}),Me&&Object(K.jsxs)(K.Fragment,{children:[[c.Phase1,c.Phase2,c.Phase3,c.Lottery].includes(ut)&&(null===Me||void 0===Me||null===(r=Me.ticket)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.state.withdrawn)&&Object(K.jsx)("div",{style:{paddingTop:"15px"},children:Object(K.jsx)(I.a,{severity:"error",children:"Your bid was withdrawn and cannot be adjusted or re-inserted."})}),[c.Phase1,c.Phase2].includes(ut)&&Me.state.currentMedian&&(null===Me||void 0===Me||null===(i=Me.ticket)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.amount)&&!(null===Me||void 0===Me||null===(u=Me.ticket)||void 0===u||null===(l=u.data)||void 0===l?void 0:l.state.withdrawn)&&Me.state.currentMedian.gt(null===Me||void 0===Me||null===(b=Me.ticket)||void 0===b||null===(v=b.data)||void 0===v?void 0:v.amount)&&Object(K.jsx)("div",{style:{paddingTop:"15px"},children:Object(K.jsx)(I.a,{severity:"warning",children:"Your bid is currently below the median and will not be eligible for the raffle."})}),[c.Phase3,c.Lottery].includes(ut)&&Me.state.currentMedian&&(null===Me||void 0===Me||null===(g=Me.ticket)||void 0===g||null===(m=g.data)||void 0===m?void 0:m.amount)&&!(null===Me||void 0===Me||null===(w=Me.ticket)||void 0===w||null===(A=w.data)||void 0===A?void 0:A.state.withdrawn)&&Me.state.currentMedian.gt(null===Me||void 0===Me||null===(L=Me.ticket)||void 0===L||null===(E=L.data)||void 0===E?void 0:E.amount)&&Object(K.jsx)("div",{style:{paddingTop:"15px"},children:Object(K.jsxs)(I.a,{severity:"error",children:["Your bid was below the median and was not included in the raffle. You may click ",Object(K.jsx)("em",{children:"Withdraw"})," when the raffle ends or you will be automatically issued one when the Fair Launch authority withdraws from the treasury."]})}),dt&&Object(K.jsx)(I.a,{severity:"error",children:"You do not have enough SOL in your account to place this bid."})]}),[c.Phase1,c.Phase2].includes(ut)&&Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(T.a,{style:{marginTop:40,marginBottom:20},children:Object(K.jsx)(Z,{min:et,marks:at,max:tt,step:nt,value:Se,onChange:function(e,t){return Pe(t)},valueLabelDisplay:"auto",style:{width:"calc(100% - 40px)",marginLeft:20,height:30}})})}),Te.connected?Object(K.jsxs)("div",{children:[[c.Phase1,c.Phase2].includes(ut)&&Object(K.jsx)(K.Fragment,{children:Object(K.jsx)(G,{onClick:it,variant:"contained",disabled:!1,children:xe?Object(K.jsx)(y.a,{}):(null===Me||void 0===Me?void 0:Me.ticket.data)?"Collect winnings!!":"Place bid"})}),[c.Phase3].includes(ut)&&Object(K.jsxs)(K.Fragment,{children:[$(Me,pe)&&Object(K.jsx)(G,{onClick:st,variant:"contained",disabled:void 0!==(null===Me||void 0===Me||null===(_=Me.ticket.data)||void 0===_?void 0:_.state.punched),children:xe?Object(K.jsx)(y.a,{}):"Punch Ticket"}),!$(Me,pe)&&Object(K.jsx)(G,{onClick:ot,variant:"contained",disabled:xe||void 0===(null===Me||void 0===Me?void 0:Me.ticket.data)||void 0!==(null===Me||void 0===Me||null===(D=Me.ticket.data)||void 0===D?void 0:D.state.withdrawn),children:xe?Object(K.jsx)(y.a,{}):"Withdraw"})]}),ut===c.Phase4&&Object(K.jsxs)(K.Fragment,{children:[(!Me||$(Me,pe))&&Object(K.jsx)(X,{children:Object(K.jsx)(G,{disabled:(null===Ie||void 0===Ie?void 0:Ie.state.isSoldOut)||xe||!(null===Ie||void 0===Ie?void 0:Ie.state.isActive)||(null===Me||void 0===Me||null===(F=Me.ticket)||void 0===F||null===(ee=F.data)||void 0===ee?void 0:ee.state.punched)&&0===pe,onClick:$e,variant:"contained",children:(null===Me||void 0===Me||null===(te=Me.ticket)||void 0===te||null===(ne=te.data)||void 0===ne?void 0:ne.state.punched)&&0===pe?"MINTED":(null===Ie||void 0===Ie?void 0:Ie.state.isSoldOut)?"SOLD OUT":xe?Object(K.jsx)(y.a,{}):"MINT"})}),!$(Me,pe)&&Object(K.jsx)(G,{onClick:ot,variant:"contained",disabled:xe||void 0===(null===Me||void 0===Me?void 0:Me.ticket.data)||void 0!==(null===Me||void 0===Me||null===(re=Me.ticket.data)||void 0===re?void 0:re.state.withdrawn),children:xe?Object(K.jsx)(y.a,{}):"Withdraw"})]})]}):Object(K.jsxs)(z,{children:["Connect"," ",[c.Phase1].includes(ut)?"to bid":"to see status"]}),Object(K.jsx)(T.a,{container:!0,justifyContent:"space-between",color:"textSecondary",children:Object(K.jsx)(x.a,{component:"button",variant:"body2",color:"textSecondary",align:"left",onClick:function(){He(!0)},children:"Wat is this"})}),Object(K.jsx)(C.a,{open:Xe,onClose:function(){return Ge(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(K.jsx)(N.a,{style:{padding:24},children:"During raffle phases, or if you are a winner, or if this website is not configured to be a fair launch but simply a candy machine, refunds are disallowed."})}),Object(K.jsx)(C.a,{open:Qe,onClose:function(){Je(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:Object(K.jsxs)(N.a,{style:{padding:24},children:[!(null===Me||void 0===Me?void 0:Me.state.data.antiRugSetting)&&Object(K.jsx)("span",{children:"This Fair Launch has no anti-rug settings."}),(null===Me||void 0===Me?void 0:Me.state.data.antiRugSetting)&&Me.state.data.antiRugSetting.selfDestructDate&&Object(K.jsxs)("div",{children:[Object(K.jsx)("h3",{children:"Anti-Rug Policy"}),Object(K.jsx)("p",{children:"This raffle is governed by a smart contract to prevent the artist from running away with your money."}),Object(K.jsx)("p",{children:"How it works:"}),"This project will retain"," ",Me.state.data.antiRugSetting.reserveBp/100,"% (\u25ce"," ",(null===Me||void 0===Me?void 0:Me.treasury)*Me.state.data.antiRugSetting.reserveBp/(1e4*W.LAMPORTS_PER_SOL),") of the pledged amount in a locked state until all but"," ",Me.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs (out of up to"," ",Me.state.data.numberOfTokens.toNumber(),") have been minted.",Object(K.jsxs)("p",{children:["If more than"," ",Me.state.data.antiRugSetting.tokenRequirement.toNumber()," ","NFTs remain as of"," ",null===(ae=Object(q.f)(Me.state.data.antiRugSetting.selfDestructDate))||void 0===ae?void 0:ae.toLocaleDateString()," ","at"," ",null===(ie=Object(q.f)(Me.state.data.antiRugSetting.selfDestructDate))||void 0===ie?void 0:ie.toLocaleTimeString(),", you will have the option to get a refund of"," ",Me.state.data.antiRugSetting.reserveBp/100,"% of the cost of your token."]}),(null===Me||void 0===Me||null===(ce=Me.ticket)||void 0===ce?void 0:ce.data)&&!(null===Me||void 0===Me||null===(oe=Me.ticket)||void 0===oe?void 0:oe.data.state.withdrawn)&&Object(K.jsx)(G,{onClick:ct,variant:"contained",disabled:!Me.ticket.data||!Me.ticket.data.state.punched||Date.now()/1e3<Me.state.data.antiRugSetting.selfDestructDate.toNumber(),children:xe?Object(K.jsx)(y.a,{}):Date.now()/1e3<Me.state.data.antiRugSetting.selfDestructDate.toNumber()?Object(K.jsxs)("span",{children:["Refund in...",Object(K.jsx)(R.a,{date:Object(q.f)(Me.state.data.antiRugSetting.selfDestructDate)})]}):"Refund"}),Object(K.jsx)("div",{style:{textAlign:"center",marginTop:"-5px"},children:(null===Me||void 0===Me||null===(se=Me.ticket)||void 0===se?void 0:se.data)&&!(null===Me||void 0===Me||null===(ue=Me.ticket)||void 0===ue||null===(le=ue.data)||void 0===le?void 0:le.state.punched)&&Object(K.jsx)("small",{children:"You currently have a ticket but it has not been punched yet, so cannot be refunded."})})]})]})}),Object(K.jsxs)(C.a,{open:Ye,onClose:function(){return He(!1)},PaperProps:{style:{backgroundColor:"#222933",borderRadius:6}},children:[Object(K.jsxs)(M.a,{disableTypography:!0,style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[Object(K.jsx)(x.a,{component:"button",variant:"h6",color:"textSecondary",onClick:function(){He(!0)},children:"How it works"}),Object(K.jsx)(O.a,{"aria-label":"close",className:V.closeButton,onClick:function(){return He(!1)},children:Object(K.jsx)(B.a,{})})]}),Object(K.jsxs)(N.a,{children:[Object(K.jsx)(P.a,{variant:"h6",children:"There is one phase."}),Object(K.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"You contribute. When you do for a particular game the ranges increase and the entry into all games is reduced a bit."}),Object(K.jsx)(P.a,{variant:"h6",children:"Phase 2 - Not Really"}),Object(K.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Anyone can press the magic button, release winnings to our lucky frien, 10% stays behind to seed the next game tho."}),Object(K.jsx)(P.a,{variant:"h6",children:"Btw"}),Object(K.jsx)(P.a,{gutterBottom:!0,color:"textSecondary",children:"Any bid of any amount will let you win, if nobody bids before the timer runs out. Glhf."})]})]})]})})}),Me&&Object(K.jsx)(j.a,{maxWidth:"xs",style:{position:"relative",marginTop:10},children:Object(K.jsx)("div",{style:{margin:20},children:Object(K.jsxs)(T.a,{container:!0,direction:"row",wrap:"nowrap",children:[Object(K.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(K.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Bids"}),Object(K.jsx)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:(null===Me||void 0===Me?void 0:Me.state.numberTicketsSold.toNumber())||0})]}),Object(K.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(K.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Median bid"}),Object(K.jsxs)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce ",q.c.format(rt)]})]}),Object(K.jsxs)(T.a,{container:!0,md:4,direction:"column",children:[Object(K.jsx)(P.a,{variant:"body2",color:"textSecondary",children:"Total raised"}),Object(K.jsxs)(P.a,{variant:"h6",color:"textPrimary",style:{fontWeight:"bold"},children:["\u25ce"," ",q.c.format(((null===Me||void 0===Me?void 0:Me.treasury)||0)/W.LAMPORTS_PER_SOL)]})]})]})})}),Object(K.jsx)(k.a,{open:Ke.open,autoHideDuration:6e3,onClose:function(){return Ee(Object(d.a)(Object(d.a)({},Ke),{},{open:!1}))},children:Object(K.jsx)(I.a,{onClose:function(){return Ee(Object(d.a)(Object(d.a)({},Ke),{},{open:!1}))},severity:Ke.severity,children:Ke.message})})]})},te=n(30),ne=n(232),re=n(120),ae=n(777),ie=n(486),ce=s.a.createContext(null),oe=function(e){var t=e.children,n=void 0===t?null:t,r=Object(o.useRef)(),a=Object(o.useRef)(),i=Object(o.useMemo)((function(){return function(){var e;a.current&&r.current&&(r.current.style.visibility="visible",null===(e=a.current({particleCount:400,spread:160,origin:{y:.3}}))||void 0===e||e.finally((function(){r.current&&(r.current.style.visibility="hidden")})))}}),[]);Object(o.useEffect)((function(){r.current&&!a.current&&(r.current.style.visibility="hidden",a.current=ie.a.create(r.current,{resize:!0,useWorker:!0}))}),[]);return Object(K.jsxs)(ce.Provider,{value:{dropConfetti:i},children:[Object(K.jsx)("canvas",{ref:r,style:{width:"100vw",height:"100vh",position:"absolute",zIndex:1,top:0,left:0}}),n]})},se=Object(re.b)({palette:{type:"dark"}}),ue=void 0,le=new te.e.PublicKey("91abFaf8hFuggXr7sr6PZkcRK7UiggKRpu7aiZeELSyz"),de=new te.e.PublicKey("5beKm6Ht5pbxgUSHirhSzhXNe77sTg51wcQcZyCGNeUe"),be=new te.e.PublicKey("EPAEqcnXHJfU4efoBucinXy8LHjWmYqrButbXUDN8KvA"),pe=new te.e.PublicKey("Dd5hc3DyQJAU1krAMGkN5SFBSR3cuu8iaQcmirojbD47"),he=new te.e.Connection("https://solana--devnet.datahub.figment.io/apikey/fbb4f00427594e23bfb341c060e6348a"),fe=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CANDY_MACHINE_ID:"",REACT_APP_FAIR_LAUNCH_ID:"91abFaf8hFuggXr7sr6PZkcRK7UiggKRpu7aiZeELSyz",REACT_APP_FAIR_LAUNCH_ID2:"5beKm6Ht5pbxgUSHirhSzhXNe77sTg51wcQcZyCGNeUe",REACT_APP_FAIR_LAUNCH_ID3:"EPAEqcnXHJfU4efoBucinXy8LHjWmYqrButbXUDN8KvA",REACT_APP_FAIR_LAUNCH_ID4:"Dd5hc3DyQJAU1krAMGkN5SFBSR3cuu8iaQcmirojbD47",REACT_APP_SOLANA_NETWORK:"devnet",REACT_APP_SOLANA_RPC_HOST:"https://solana--devnet.datahub.figment.io/apikey/fbb4f00427594e23bfb341c060e6348a"}).REACT_APP_CANDY_START_DATE,10),ve=3e4,ge=function(){var e=Object(o.useMemo)((function(){return Object(W.clusterApiUrl)("devnet")}),[]),t=Object(o.useMemo)((function(){return[Object(ne.getPhantomWallet)(),Object(ne.getSolflareWallet)(),Object(ne.getSolletWallet)()]}),[]);return Object(K.jsx)(ae.a,{theme:se,children:Object(K.jsx)(U.ConnectionProvider,{endpoint:e,children:Object(K.jsx)(U.WalletProvider,{wallets:t,autoConnect:!0,children:Object(K.jsxs)(F.WalletDialogProvider,{children:[Object(K.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(K.jsxs)("div",{style:{display:"inline"},children:[Object(K.jsx)("div",{style:{textAlign:"center"},children:"Team 1"}),Object(K.jsx)(oe,{children:Object(K.jsx)(ee,{candyMachineId:ue,fairLaunchId:le,connection:he,startDate:fe,txTimeout:ve})})]}),Object(K.jsxs)("div",{style:{display:"inline"},children:[Object(K.jsx)("div",{style:{textAlign:"center"},children:"Team 2"}),Object(K.jsx)(oe,{children:Object(K.jsx)(ee,{candyMachineId:ue,fairLaunchId:de,connection:he,startDate:fe,txTimeout:ve})})]})]}),Object(K.jsxs)("div",{className:"container-div",style:{margin:0,alignItems:"center"},children:[Object(K.jsxs)("div",{style:{display:"inline"},children:[Object(K.jsx)("div",{style:{textAlign:"center"},children:"Team 3"}),Object(K.jsx)(oe,{children:Object(K.jsx)(ee,{candyMachineId:ue,fairLaunchId:be,connection:he,startDate:fe,txTimeout:ve})})]}),Object(K.jsxs)("div",{style:{display:"inline"},children:[Object(K.jsx)("div",{style:{textAlign:"center"},children:"Team 4"}),Object(K.jsx)(oe,{children:Object(K.jsx)(ee,{candyMachineId:ue,fairLaunchId:pe,connection:he,startDate:fe,txTimeout:ve})})]})]})]})})})})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,793)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};l.a.render(Object(K.jsx)(s.a.StrictMode,{children:Object(K.jsx)(ge,{})}),document.getElementById("root")),me()}},[[759,1,2]]]);
//# sourceMappingURL=main.e89a5f3f.chunk.js.map